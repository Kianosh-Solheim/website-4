/*! For license information please see main.eb7c3b3e.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+I(l,0):a,x(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",x(e))for(var c=0;c<e.length;c++){var u=a+I(s=e[c],c);l+=N(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=N(s=s.value,t,i,u=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,R(k);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function k(e,n){g=!1,m&&(m=!1,y(C),C=-1),p=!0;var a=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(x,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,_=!1,S=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function A(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?E():(_=!1,S=null)}}else _=!1}if("function"===typeof b)E=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=A,E=function(){P.postMessage(null)}}else E=function(){v(A,0)};function R(e){S=e,_||(_=!0,E())}function O(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(m?(y(C),C=-1):m=!0,O(x,a-o))):(e.sortIndex=s,n(c,e),g||p||(g=!0,R(k))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var j,M=Object.assign;function F(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Fn){var r=Fn}Reflect.construct(e,[],t)}else{try{t.call()}catch(Fn){r=Fn}e.call(t.prototype)}else{try{throw Error()}catch(Fn){r=Fn}e()}}catch(Fn){if(Fn&&r&&"string"===typeof Fn.stack){for(var i=Fn.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case S:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(ts){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,_e=null;function Se(e){if(e=_i(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=Ci(t),ke(e.stateNode,e.type,t))}}function Ce(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==Ee||null!==_e)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ci(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function Le(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){je=!0,Me=e}};function ze(e,t,n,r,i,a,o,s,l){je=!1,Me=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,Et,_t,St,Ct=!1,Tt=[],It=null,Nt=null,At=null,Dt=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function jt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=Ei(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&Ft(It)&&(It=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=w.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Wt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Qr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=jt(It,e,t,n,r,i),!0;case"dragenter":return Nt=jt(Nt,e,t,n,r,i),!0;case"mouseover":return At=jt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,jt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,jt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&xt(a),null===(a=Yt(e,t,n,r))&&Qr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=Ei(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=M({},cn,{view:0,detail:0}),hn=an(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),gn=an(M({},fn,{dataTransfer:0})),mn=an(M({},dn,{relatedTarget:0})),vn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return _n}var Cn=M({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Dn),Rn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Mn=u&&"TextEvent"in window&&!jn,Un=u&&(!Ln||jn&&8<jn&&11>=jn),Vn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ce(r),0<(t=$r(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Jn(e){Br(e,0)}function Zn(e){if(G(Si(e)))return e}function er(e,t){if("change"===e)return t}var tr=!1;if(u){var nr;if(u){var rr="oninput"in document;if(!rr){var ir=document.createElement("div");ir.setAttribute("oninput","return;"),rr="function"===typeof ir.oninput}nr=rr}else nr=!1;tr=nr&&(!document.documentMode||9<document.documentMode)}function ar(){Yn&&(Yn.detachEvent("onpropertychange",or),$n=Yn=null)}function or(e){if("value"===e.propertyName&&Zn($n)){var t=[];Qn(t,$n,e,xe(e)),De(Jn,t)}}function sr(e,t,n){"focusin"===e?(ar(),$n=n,(Yn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ar()}function lr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn($n)}function cr(e,t){if("click"===e)return Zn(t)}function ur(e,t){if("input"===e||"change"===e)return Zn(t)}var dr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function hr(e,t){if(dr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!dr(e[i],t[i]))return!1}return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function gr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function yr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gr(n.ownerDocument.documentElement,n)){if(null!==r&&vr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=pr(n,a);var o=pr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var br=u&&"documentMode"in document&&11>=document.documentMode,wr=null,xr=null,kr=null,Er=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==wr||wr!==Q(r)||("selectionStart"in(r=wr)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&hr(kr,r)||(kr=r,0<(r=$r(xr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Tr={},Ir={};function Nr(e){if(Tr[e])return Tr[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Tr[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Ar=Nr("animationend"),Dr=Nr("animationiteration"),Pr=Nr("animationstart"),Rr=Nr("transitionend"),Or=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Or.set(e,t),l(t,[e])}for(var Mr=0;Mr<Lr.length;Mr++){var Fr=Lr[Mr];jr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}jr(Ar,"onAnimationEnd"),jr(Dr,"onAnimationIteration"),jr(Pr,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(ze.apply(this,arguments),je){if(!je)throw Error(a(198));var u=Me;je=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;zr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;zr(i,s,c),a=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function qr(e,t){var n=t[bi];void 0===n&&(n=t[bi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Kr]){e[Kr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Vr.has(t)||Hr(t,!1,e),Hr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Kr]||(t[Kr]=!0,Hr("selectionchange",!1,t))}}function Gr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=Ei(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}De((function(){var r=a,i=xe(n),o=[];e:{var s=Or.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Ar:case Dr:case Pr:l=vn;break;case Rr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Pe(p,h))&&u.push(Yr(p,g,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!Ei(c)&&!c[yi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ei(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:Si(l),f=null==c?s:Si(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=f,g=null,Ei(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Xr(f))p++;for(f=0,g=h;g;g=Xr(g))f++;for(;0<p-f;)u=Xr(u),p--;for(;0<f-p;)h=Xr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Xr(u),h=Xr(h)}u=null}else u=null;null!==l&&Jr(o,s,l,u,!1),null!==c&&null!==d&&Jr(o,d,c,u,!0)}if("select"===(l=(s=r?Si(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=er;else if(Wn(s))if(tr)m=ur;else{m=lr;var v=sr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=cr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?Si(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(wr=v,xr=r,kr=null);break;case"focusout":kr=xr=wr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,_r(o,n,i);break;case"selectionchange":if(br)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Hn=!0)),0<(v=$r(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=qn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Vn);case"textInput":return(e=t.data)===Vn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Br(o,t)}))}function Yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Yr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Yr(e,a,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,a))&&o.unshift(Yr(n,l,s)):i||null!=(l=Pe(n,a))&&o.push(Yr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zr=/\r\n?/g,ei=/\u0000|\uFFFD/g;function ti(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(ei,"")}function ni(e,t,n){if(t=ti(t),ti(e)!==t&&n)throw Error(a(425))}function ri(){}var ii=null,ai=null;function oi(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var si="function"===typeof setTimeout?setTimeout:void 0,li="function"===typeof clearTimeout?clearTimeout:void 0,ci="function"===typeof Promise?Promise:void 0,ui="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ci?function(e){return ci.resolve(null).then(e).catch(di)}:si;function di(e){setTimeout((function(){throw e}))}function hi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function fi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function pi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var gi=Math.random().toString(36).slice(2),mi="__reactFiber$"+gi,vi="__reactProps$"+gi,yi="__reactContainer$"+gi,bi="__reactEvents$"+gi,xi="__reactListeners$"+gi,ki="__reactHandles$"+gi;function Ei(e){var t=e[mi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yi]||n[mi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=pi(e);null!==e;){if(n=e[mi])return n;e=pi(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[mi]||e[yi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Si(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ci(e){return e[vi]||null}var Ti=[],Ii=-1;function Ni(e){return{current:e}}function Ai(e){0>Ii||(e.current=Ti[Ii],Ti[Ii]=null,Ii--)}function Di(e,t){Ii++,Ti[Ii]=e.current,e.current=t}var Pi={},Ri=Ni(Pi),Oi=Ni(!1),Li=Pi;function ji(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Fi(){Ai(Oi),Ai(Ri)}function Ui(e,t,n){if(Ri.current!==Pi)throw Error(a(168));Di(Ri,t),Di(Oi,n)}function Vi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Li=Ri.current,Di(Ri,e),Di(Oi,Oi.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Vi(e,t,Li),r.__reactInternalMemoizedMergedChildContext=e,Ai(Oi),Ai(Ri),Di(Ri,e)):Ai(Oi),Di(Oi,n)}var qi=null,Hi=!1,Ki=!1;function Wi(e){null===qi?qi=[e]:qi.push(e)}function Gi(){if(!Ki&&null!==qi){Ki=!0;var e=0,t=bt;try{var n=qi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}qi=null,Hi=!1}catch(i){throw null!==qi&&(qi=qi.slice(e+1)),Ge(Ze,Gi),i}finally{bt=t,Ki=!1}}return null}var Qi=[],Yi=0,$i=null,Xi=0,Ji=[],Zi=0,ea=null,ta=1,na="";function ra(e,t){Qi[Yi++]=Xi,Qi[Yi++]=$i,$i=e,Xi=t}function ia(e,t,n){Ji[Zi++]=ta,Ji[Zi++]=na,Ji[Zi++]=ea,ea=e;var r=ta;e=na;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ta=1<<32-ot(t)+i|n<<i|r,na=a+e}else ta=1<<a|n<<i|r,na=e}function aa(e){null!==e.return&&(ra(e,1),ia(e,1,0))}function oa(e){for(;e===$i;)$i=Qi[--Yi],Qi[Yi]=null,Xi=Qi[--Yi],Qi[Yi]=null;for(;e===ea;)ea=Ji[--Zi],Ji[Zi]=null,na=Ji[--Zi],Ji[Zi]=null,ta=Ji[--Zi],Ji[Zi]=null}var sa=null,la=null,ca=!1,ua=null;function da(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ha(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,sa=e,la=fi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,sa=e,la=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ea?{id:ta,overflow:na}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,sa=e,la=null,!0);default:return!1}}function fa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function pa(e){if(ca){var t=la;if(t){var n=t;if(!ha(e,t)){if(fa(e))throw Error(a(418));t=fi(n.nextSibling);var r=sa;t&&ha(e,t)?da(r,n):(e.flags=-4097&e.flags|2,ca=!1,sa=e)}}else{if(fa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ca=!1,sa=e}}}function ga(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;sa=e}function ma(e){if(e!==sa)return!1;if(!ca)return ga(e),ca=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!oi(e.type,e.memoizedProps)),t&&(t=la)){if(fa(e))throw va(),Error(a(418));for(;t;)da(e,t),t=fi(t.nextSibling)}if(ga(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){la=fi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}la=null}}else la=sa?fi(e.stateNode.nextSibling):null;return!0}function va(){for(var e=la;e;)e=fi(e.nextSibling)}function ya(){la=sa=null,ca=!1}function ba(e){null===ua?ua=[e]:ua.push(e)}var wa=w.ReactCurrentBatchConfig;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ea(e){return(0,e._init)(e._payload)}function _a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Uc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ea(a)===t.type)?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Vc(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=zc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Vc(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case k:return(t=Hc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=zc(t,e.mode,n,null)).return=e,t;ka(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);ka(t,r)}return null}function g(i,a,s,l){for(var c=null,u=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=f(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),ca&&ra(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=h(i,s[g],l))&&(a=o(d,a,g),null===u?c=d:u.sibling=d,u=d);return ca&&ra(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),ca&&ra(i,g),c}function m(i,s,l,c){var u=L(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),ca&&ra(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,m),null===d?u=y:d.sibling=y,d=y);return ca&&ra(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),ca&&ra(i,m),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===E){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ea(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=xa(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((a=zc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Vc(o.type,o.key,o.props,null,r.mode,l)).ref=xa(r,a,o),l.return=r,r=l)}return s(r);case k:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Hc(o,r.mode,l)).return=r,r=a}return s(r);case P:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return g(r,a,o,l);if(L(o))return m(r,a,o,l);ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=qc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Sa=_a(!0),Ca=_a(!1),Ta=Ni(null),Ia=null,Na=null,Aa=null;function Da(){Aa=Na=Ia=null}function Pa(e){var t=Ta.current;Ai(Ta),e._currentValue=t}function Ra(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oa(e,t){Ia=e,Aa=Na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ss=!0),e.firstContext=null)}function La(e){var t=e._currentValue;if(Aa!==e)if(e={context:e,memoizedValue:t,next:null},null===Na){if(null===Ia)throw Error(a(308));Na=e,Ia.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var ja=null;function Ma(e){null===ja?ja=[e]:ja.push(e)}function Fa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ma(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ua(e,r)}function Ua(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Va=!1;function za(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ha(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ua(e,n)}return null===(i=r.interleaved)?(t.next=t,Ma(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ua(e,n)}function Ka(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Wa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ga(e,t,n,r){var i=e.updateQueue;Va=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Va=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Bl|=o,e.lanes=o,e.memoizedState=d}}function Qa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ya={},$a=Ni(Ya),Xa=Ni(Ya),Ja=Ni(Ya);function Za(e){if(e===Ya)throw Error(a(174));return e}function eo(e,t){switch(Di(Ja,t),Di(Xa,e),Di($a,Ya),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai($a),Di($a,t)}function to(){Ai($a),Ai(Xa),Ai(Ja)}function no(e){Za(Ja.current);var t=Za($a.current),n=le(t,e.type);t!==n&&(Di(Xa,e),Di($a,n))}function ro(e){Xa.current===e&&(Ai($a),Ai(Xa))}var io=Ni(0);function ao(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oo=[];function so(){for(var e=0;e<oo.length;e++)oo[e]._workInProgressVersionPrimary=null;oo.length=0}var lo=w.ReactCurrentDispatcher,co=w.ReactCurrentBatchConfig,uo=0,ho=null,fo=null,po=null,go=!1,mo=!1,vo=0,yo=0;function bo(){throw Error(a(321))}function wo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dr(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(uo=o,ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lo.current=null===e||null===e.memoizedState?as:os,e=n(r,i),mo){o=0;do{if(mo=!1,vo=0,25<=o)throw Error(a(301));o+=1,po=fo=null,t.updateQueue=null,lo.current=ss,e=n(r,i)}while(mo)}if(lo.current=is,t=null!==fo&&null!==fo.next,uo=0,po=fo=ho=null,go=!1,t)throw Error(a(300));return e}function ko(){var e=0!==vo;return vo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===po?ho.memoizedState=po=e:po=po.next=e,po}function _o(){if(null===fo){var e=ho.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===po?ho.memoizedState:po.next;if(null!==t)po=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===po?ho.memoizedState=po=e:po=po.next=e}return po}function So(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((uo&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,ho.lanes|=d,Bl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,dr(r,t.memoizedState)||(Ss=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,ho.lanes|=o,Bl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);dr(o,t.memoizedState)||(Ss=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Io(){}function No(e,t){var n=ho,r=_o(),i=t(),o=!dr(r.memoizedState,i);if(o&&(r.memoizedState=i,Ss=!0),r=r.queue,zo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==po&&1&po.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ll)throw Error(a(349));0!==(30&uo)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Oo(e)}function Po(e,t,n){return n((function(){Ro(t)&&Oo(e)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dr(e,n)}catch(r){return!0}}function Oo(e){var t=Ua(e,1);null!==t&&lc(t,e,1,-1)}function Lo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=Zo.bind(null,ho,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mo(){return _o().memoizedState}function Fo(e,t,n,r){var i=Eo();ho.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&wo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}ho.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function Vo(e,t){return Fo(8390656,8,e,t)}function zo(e,t){return Uo(2048,8,e,t)}function Bo(e,t){return Uo(4,2,e,t)}function qo(e,t){return Uo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Ho.bind(null,t,e),n)}function Wo(){}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 0===(21&uo)?(e.baseState&&(e.baseState=!1,Ss=!0),e.memoizedState=n):(dr(n,t)||(n=gt(),ho.lanes|=n,Bl|=n,e.baseState=!0),t)}function $o(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=co.transition;co.transition={};try{e(!1),t()}finally{bt=n,co.transition=r}}function Xo(){return _o().memoizedState}function Jo(e,t,n){var r=sc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},es(e))ns(t,n);else if(null!==(n=Fa(e,t,n,r))){lc(n,e,r,oc()),rs(n,t,r)}}function Zo(e,t,n){var r=sc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(es(e))ns(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,dr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ma(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(Fn){}null!==(n=Fa(e,t,i,r))&&(lc(n,e,r,i=oc()),rs(n,t,r))}}function es(e){var t=e.alternate;return e===ho||null!==t&&t===ho}function ns(e,t){mo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var is={readContext:La,useCallback:bo,useContext:bo,useEffect:bo,useImperativeHandle:bo,useInsertionEffect:bo,useLayoutEffect:bo,useMemo:bo,useReducer:bo,useRef:bo,useState:bo,useDebugValue:bo,useDeferredValue:bo,useTransition:bo,useMutableSource:bo,useSyncExternalStore:bo,useId:bo,unstable_isNewReconciler:!1},as={readContext:La,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:La,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jo.bind(null,ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Lo,useDebugValue:Wo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Lo(!1),t=e[0];return e=$o.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ho,i=Eo();if(ca){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ll)throw Error(a(349));0!==(30&uo)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(Po.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=Ll.identifierPrefix;if(ca){var n=na;t=":"+t+"R"+(n=(ta&~(1<<32-ot(ta)-1)).toString(32)+n),0<(n=vo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},os={readContext:La,useCallback:Go,useContext:La,useEffect:zo,useImperativeHandle:Ko,useInsertionEffect:Bo,useLayoutEffect:qo,useMemo:Qo,useReducer:Co,useRef:Mo,useState:function(){return Co(So)},useDebugValue:Wo,useDeferredValue:function(e){return Yo(_o(),fo.memoizedState,e)},useTransition:function(){return[Co(So)[0],_o().memoizedState]},useMutableSource:Io,useSyncExternalStore:No,useId:Xo,unstable_isNewReconciler:!1},ss={readContext:La,useCallback:Go,useContext:La,useEffect:zo,useImperativeHandle:Ko,useInsertionEffect:Bo,useLayoutEffect:qo,useMemo:Qo,useReducer:To,useRef:Mo,useState:function(){return To(So)},useDebugValue:Wo,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Yo(t,fo.memoizedState,e)},useTransition:function(){return[To(So)[0],_o().memoizedState]},useMutableSource:Io,useSyncExternalStore:No,useId:Xo,unstable_isNewReconciler:!1};function ls(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function cs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var us={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oc(),i=sc(e),a=qa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ha(e,a,i))&&(lc(t,e,i,r),Ka(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oc(),i=sc(e),a=qa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ha(e,a,i))&&(lc(t,e,i,r),Ka(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oc(),r=sc(e),i=qa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ha(e,i,r))&&(lc(t,e,r,n),Ka(t,e,r))}};function ds(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function hs(e,t,n){var r=!1,i=Pi,a=t.contextType;return"object"===typeof a&&null!==a?a=La(a):(i=Mi(t)?Li:Ri.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Pi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=us,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function fs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&us.enqueueReplaceState(t,t.state,null)}function ps(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},za(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=La(a):(a=Mi(t)?Li:Ri.current,i.context=ji(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(cs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&us.enqueueReplaceState(i,i.state,null),Ga(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function gs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ms(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function vs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ys="function"===typeof WeakMap?WeakMap:Map;function bs(e,t,n){(n=qa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$l||($l=!0,Xl=r),vs(0,t)},n}function ws(e,t,n){(n=qa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){vs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){vs(0,t),"function"!==typeof r&&(null===Jl?Jl=new Set([this]):Jl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ys;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Dc.bind(null,e,t,n),t.then(e,e))}function ks(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Es(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=qa(-1,1)).tag=2,Ha(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=w.ReactCurrentOwner,Ss=!1;function Cs(e,t,n,r){t.child=null===e?Ca(t,null,n,r):Sa(t,e.child,n,r)}function Ts(e,t,n,r,i){n=n.render;var a=t.ref;return Oa(t,i),r=xo(e,t,n,r,a,i),n=ko(),null===e||Ss?(ca&&n&&aa(t),t.flags|=1,Cs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function Is(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Fc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ns(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:hr)(o,r)&&e.ref===t.ref)return $s(e,t,i)}return t.flags|=1,(e=Uc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ns(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(hr(a,r)&&e.ref===t.ref){if(Ss=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,$s(e,t,i);0!==(131072&e.flags)&&(Ss=!0)}}return Ps(e,t,n,r,i)}function As(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Di(Ul,Fl),Fl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Di(Ul,Fl),Fl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Di(Ul,Fl),Fl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Di(Ul,Fl),Fl|=r;return Cs(e,t,i,n),t.child}function Ds(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,n,r,i){var a=Mi(n)?Li:Ri.current;return a=ji(t,a),Oa(t,i),n=xo(e,t,n,r,a,i),r=ko(),null===e||Ss?(ca&&r&&aa(t),t.flags|=1,Cs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$s(e,t,i))}function Rs(e,t,n,r,i){if(Mi(n)){var a=!0;zi(t)}else a=!1;if(Oa(t,i),null===t.stateNode)Ys(e,t),hs(t,n,r),ps(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=La(c):c=ji(t,c=Mi(n)?Li:Ri.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&fs(t,o,r,c),Va=!1;var h=t.memoizedState;o.state=h,Ga(t,r,o,i),l=t.memoizedState,s!==r||h!==l||Oi.current||Va?("function"===typeof u&&(cs(t,n,u,r),l=t.memoizedState),(s=Va||ds(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ba(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ls(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=La(l):l=ji(t,l=Mi(n)?Li:Ri.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&fs(t,o,r,l),Va=!1,h=t.memoizedState,o.state=h,Ga(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||Oi.current||Va?("function"===typeof f&&(cs(t,n,f,r),p=t.memoizedState),(c=Va||ds(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,a,i)}function Os(e,t,n,r,i,a){Ds(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Bi(t,n,!1),$s(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,s,a)):Cs(e,t,s,a),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Ls(e){var t=e.stateNode;t.pendingContext?Ui(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ui(0,t.context,!1),eo(e,t.containerInfo)}function js(e,t,n,r,i){return ya(),ba(i),t.flags|=256,Cs(e,t,n,r),t.child}var Ms,Fs,Us,Vs,zs={dehydrated:null,treeContext:null,retryLane:0};function Bs(e){return{baseLanes:e,cachePool:null,transitions:null}}function qs(e,t,n){var r,i=t.pendingProps,o=io.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Di(io,1&o),null===e)return pa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Bc(l,i,0,null),e=zc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Bs(n),t.memoizedState=zs,e):Hs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Ks(e,t,s,r=ms(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Bc({mode:"visible",children:r.children},i,0,null),(o=zc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Sa(t,e.child,null,s),t.child.memoizedState=Bs(s),t.memoizedState=zs,o);if(0===(1&t.mode))return Ks(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ks(e,t,s,r=ms(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),Ss||l){if(null!==(r=Ll)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ua(e,i),lc(r,e,i,-1))}return xc(),Ks(e,t,s,r=ms(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Rc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,la=fi(i.nextSibling),sa=t,ca=!0,ua=null,null!==e&&(Ji[Zi++]=ta,Ji[Zi++]=na,Ji[Zi++]=ea,ta=e.id,na=e.overflow,ea=t),t=Hs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Uc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Uc(r,s):(s=zc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Bs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=zs,i}return e=(s=e.child).sibling,i=Uc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Hs(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ks(e,t,n,r){return null!==r&&ba(r),Sa(t,e.child,null,n),(e=Hs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ra(e.return,t,n)}function Gs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Cs(e,t,r.children,n),0!==(2&(r=io.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,n,t);else if(19===e.tag)Ws(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Di(io,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ao(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ao(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gs(t,!0,n,null,a);break;case"together":Gs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Uc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Uc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xs(e,t){if(!ca)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Js(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zs(e,t,n){var r=t.pendingProps;switch(oa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Js(t),null;case 1:case 17:return Mi(t.type)&&Fi(),Js(t),null;case 3:return r=t.stateNode,to(),Ai(Oi),Ai(Ri),so(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ua&&(hc(ua),ua=null))),Fs(e,t),Js(t),null;case 5:ro(t);var i=Za(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)Us(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Js(t),null}if(e=Za($a.current),ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[mi]=t,r[vi]=o,e=0!==(1&t.mode),n){case"dialog":qr("cancel",r),qr("close",r);break;case"iframe":case"object":case"embed":qr("load",r);break;case"video":case"audio":for(i=0;i<Ur.length;i++)qr(Ur[i],r);break;case"source":qr("error",r);break;case"img":case"image":case"link":qr("error",r),qr("load",r);break;case"details":qr("toggle",r);break;case"input":$(r,o),qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qr("invalid",r);break;case"textarea":ie(r,o),qr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&ni(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&ni(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&qr("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ri)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[mi]=t,e[vi]=r,Ms(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":qr("cancel",e),qr("close",e),i=r;break;case"iframe":case"object":case"embed":qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)qr(Ur[i],e);i=r;break;case"source":qr("error",e),i=r;break;case"img":case"image":case"link":qr("error",e),qr("load",e),i=r;break;case"details":qr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),qr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),qr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&qr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Js(t),null;case 6:if(e&&null!=t.stateNode)Vs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Za(Ja.current),Za($a.current),ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[mi]=t,(o=r.nodeValue!==n)&&null!==(e=sa))switch(e.tag){case 3:ni(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ni(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[mi]=t,t.stateNode=r}return Js(t),null;case 13:if(Ai(io),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ca&&null!==la&&0!==(1&t.mode)&&0===(128&t.flags))va(),ya(),t.flags|=98560,o=!1;else if(o=ma(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[mi]=t}else ya(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Js(t),o=!1}else null!==ua&&(hc(ua),ua=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&io.current)?0===Vl&&(Vl=3):xc())),null!==t.updateQueue&&(t.flags|=4),Js(t),null);case 4:return to(),Fs(e,t),null===e&&Wr(t.stateNode.containerInfo),Js(t),null;case 10:return Pa(t.type._context),Js(t),null;case 19:if(Ai(io),null===(o=t.memoizedState))return Js(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Xs(o,!1);else{if(0!==Vl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ao(e))){for(t.flags|=128,Xs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Di(io,1&io.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Ql&&(t.flags|=128,r=!0,Xs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ao(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ca)return Js(t),null}else 2*Xe()-o.renderingStartTime>Ql&&1073741824!==n&&(t.flags|=128,r=!0,Xs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=io.current,Di(io,r?1&n|2:1&n),t):(Js(t),null);case 22:case 23:return vc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fl)&&(Js(t),6&t.subtreeFlags&&(t.flags|=8192)):Js(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function el(e,t){switch(oa(t),t.tag){case 1:return Mi(t.type)&&Fi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return to(),Ai(Oi),Ai(Ri),so(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ro(t),null;case 13:if(Ai(io),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ya()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(io),null;case 4:return to(),null;case 10:return Pa(t.type._context),null;case 22:case 23:return vc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fs=function(){},Us=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Za($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ri)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&qr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Vs=function(e,t,n,r){n!==r&&(t.flags|=4)};var tl=!1,nl=!1,rl="function"===typeof WeakSet?WeakSet:Set,il=null;function al(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function ol(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var sl=!1;function ll(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ol(t,n,a)}i=i.next}while(i!==r)}}function cl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ul(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function dl(e){var t=e.alternate;null!==t&&(e.alternate=null,dl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mi],delete t[vi],delete t[bi],delete t[xi],delete t[ki])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hl(e){return 5===e.tag||3===e.tag||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ri));else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}var ml=null,vl=!1;function yl(e,t,n){for(n=n.child;null!==n;)bl(e,t,n),n=n.sibling}function bl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:nl||al(n,t);case 6:var r=ml,i=vl;ml=null,yl(e,t,n),vl=i,null!==(ml=r)&&(vl?(e=ml,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ml.removeChild(n.stateNode));break;case 18:null!==ml&&(vl?(e=ml,n=n.stateNode,8===e.nodeType?hi(e.parentNode,n):1===e.nodeType&&hi(e,n),Bt(e)):hi(ml,n.stateNode));break;case 4:r=ml,i=vl,ml=n.stateNode.containerInfo,vl=!0,yl(e,t,n),ml=r,vl=i;break;case 0:case 11:case 14:case 15:if(!nl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ol(n,t,o),i=i.next}while(i!==r)}yl(e,t,n);break;case 1:if(!nl&&(al(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ac(n,t,s)}yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:1&n.mode?(nl=(r=nl)||null!==n.memoizedState,yl(e,t,n),nl=r):yl(e,t,n);break;default:yl(e,t,n)}}function wl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new rl),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function xl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ml=l.stateNode,vl=!1;break e;case 3:case 4:ml=l.stateNode.containerInfo,vl=!0;break e}l=l.return}if(null===ml)throw Error(a(160));bl(o,s,i),ml=null,vl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(Fn){Ac(i,t,Fn)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)kl(t,e),t=t.sibling}function kl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xl(t,e),El(e),4&r){try{ll(3,e,e.return),cl(3,e)}catch(m){Ac(e,e.return,m)}try{ll(5,e,e.return)}catch(m){Ac(e,e.return,m)}}break;case 1:xl(t,e),El(e),512&r&&null!==n&&al(n,n.return);break;case 5:if(xl(t,e),El(e),512&r&&null!==n&&al(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ac(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[vi]=o}catch(m){Ac(e,e.return,m)}}break;case 6:if(xl(t,e),El(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ac(e,e.return,m)}}break;case 3:if(xl(t,e),El(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(m){Ac(e,e.return,m)}break;case 4:default:xl(t,e),El(e);break;case 13:xl(t,e),El(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Gl=Xe())),4&r&&wl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(nl=(u=nl)||d,xl(t,e),nl=u):xl(t,e),El(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(il=e,d=e.child;null!==d;){for(h=il=d;null!==il;){switch(p=(f=il).child,f.tag){case 0:case 11:case 14:case 15:ll(4,f,f.return);break;case 1:al(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ac(r,n,m)}}break;case 5:al(f,f.return);break;case 22:if(null!==f.memoizedState){Tl(h);continue}}null!==p?(p.return=f,il=p):Tl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Ac(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Ac(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xl(t,e),El(e),4&r&&wl(e);case 21:}}function El(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),gl(e,fl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;pl(e,fl(e),o);break;default:throw Error(a(161))}}catch(On){Ac(e,e.return,On)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){il=e,Sl(e,t,n)}function Sl(e,t,n){for(var r=0!==(1&e.mode);null!==il;){var i=il,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||tl;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||nl;s=tl;var c=nl;if(tl=o,(nl=l)&&!c)for(il=i;null!==il;)l=(o=il).child,22===o.tag&&null!==o.memoizedState?Il(i):null!==l?(l.return=o,il=l):Il(i);for(;null!==a;)il=a,Sl(a,t,n),a=a.sibling;il=i,tl=s,nl=c}Cl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,il=a):Cl(e)}}function Cl(e){for(;null!==il;){var t=il;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:nl||cl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!nl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ls(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Qa(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Qa(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}nl||512&t.flags&&ul(t)}catch(Gn){Ac(t,t.return,Gn)}}if(t===e){il=null;break}if(null!==(n=t.sibling)){n.return=t.return,il=n;break}il=t.return}}function Tl(e){for(;null!==il;){var t=il;if(t===e){il=null;break}var n=t.sibling;if(null!==n){n.return=t.return,il=n;break}il=t.return}}function Il(e){for(;null!==il;){var t=il;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cl(4,t)}catch(On){Ac(t,n,On)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(On){Ac(t,i,On)}}var a=t.return;try{ul(t)}catch(On){Ac(t,a,On)}break;case 5:var o=t.return;try{ul(t)}catch(On){Ac(t,o,On)}}}catch(On){Ac(t,t.return,On)}if(t===e){il=null;break}var s=t.sibling;if(null!==s){s.return=t.return,il=s;break}il=t.return}}var Nl,Al=Math.ceil,Dl=w.ReactCurrentDispatcher,Pl=w.ReactCurrentOwner,Rl=w.ReactCurrentBatchConfig,Ol=0,Ll=null,jl=null,Ml=0,Fl=0,Ul=Ni(0),Vl=0,zl=null,Bl=0,ql=0,Hl=0,Kl=null,Wl=null,Gl=0,Ql=1/0,Yl=null,$l=!1,Xl=null,Jl=null,Zl=!1,ec=null,tc=0,nc=0,rc=null,ic=-1,ac=0;function oc(){return 0!==(6&Ol)?Xe():-1!==ic?ic:ic=Xe()}function sc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Ml?Ml&-Ml:null!==wa.transition?(0===ac&&(ac=gt()),ac):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function lc(e,t,n,r){if(50<nc)throw nc=0,rc=null,Error(a(185));vt(e,n,r),0!==(2&Ol)&&e===Ll||(e===Ll&&(0===(2&Ol)&&(ql|=n),4===Vl&&fc(e,Ml)),cc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(Ql=Xe()+500,Hi&&Gi()))}function cc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Ll?Ml:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Hi=!0,Wi(e)}(pc.bind(null,e)):Wi(pc.bind(null,e)),ui((function(){0===(6&Ol)&&Gi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lc(n,uc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uc(e,t){if(ic=-1,ac=0,0!==(6&Ol))throw Error(a(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var r=ht(e,e===Ll?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=kc(e,r);else{t=r;var i=Ol;Ol|=2;var o=wc();for(Ll===e&&Ml===t||(Yl=null,Ql=Xe()+500,yc(e,t));;)try{_c();break}catch(l){bc(e,l)}Da(),Dl.current=o,Ol=i,null!==jl?t=0:(Ll=null,Ml=0,t=Vl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=dc(e,i))),1===t)throw n=zl,yc(e,0),fc(e,r),cc(e,Xe()),n;if(6===t)fc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!dr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=kc(e,r))&&(0!==(o=pt(e))&&(r=o,t=dc(e,o))),1===t))throw n=zl,yc(e,0),fc(e,r),cc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Tc(e,Wl,Yl);break;case 3:if(fc(e,r),(130023424&r)===r&&10<(t=Gl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){oc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=si(Tc.bind(null,e,Wl,Yl),t);break}Tc(e,Wl,Yl);break;case 4:if(fc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Al(r/1960))-r)){e.timeoutHandle=si(Tc.bind(null,e,Wl,Yl),r);break}Tc(e,Wl,Yl);break;default:throw Error(a(329))}}}return cc(e,Xe()),e.callbackNode===n?uc.bind(null,e):null}function dc(e,t){var n=Kl;return e.current.memoizedState.isDehydrated&&(yc(e,t).flags|=256),2!==(e=kc(e,t))&&(t=Wl,Wl=n,null!==t&&hc(t)),e}function hc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function fc(e,t){for(t&=~Hl,t&=~ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function pc(e){if(0!==(6&Ol))throw Error(a(327));Ic();var t=ht(e,0);if(0===(1&t))return cc(e,Xe()),null;var n=kc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=dc(e,r))}if(1===n)throw n=zl,yc(e,0),fc(e,t),cc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Wl,Yl),cc(e,Xe()),null}function gc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Ql=Xe()+500,Hi&&Gi())}}function mc(e){null!==ec&&0===ec.tag&&0===(6&Ol)&&Ic();var t=Ol;Ol|=1;var n=Rl.transition,r=bt;try{if(Rl.transition=null,bt=1,e)return e()}finally{bt=r,Rl.transition=n,0===(6&(Ol=t))&&Gi()}}function vc(){Fl=Ul.current,Ai(Ul)}function yc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,li(n)),null!==jl)for(n=jl.return;null!==n;){var r=n;switch(oa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Fi();break;case 3:to(),Ai(Oi),Ai(Ri),so();break;case 5:ro(r);break;case 4:to();break;case 13:case 19:Ai(io);break;case 10:Pa(r.type._context);break;case 22:case 23:vc()}n=n.return}if(Ll=e,jl=e=Uc(e.current,null),Ml=Fl=t,Vl=0,zl=null,Hl=ql=Bl=0,Wl=Kl=null,null!==ja){for(t=0;t<ja.length;t++)if(null!==(r=(n=ja[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ja=null}return e}function bc(e,t){for(;;){var n=jl;try{if(Da(),lo.current=is,go){for(var r=ho.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(uo=0,po=fo=ho=null,mo=!1,vo=0,Pl.current=null,null===n||null===n.return){Vl=1,zl=t,jl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ks(s);if(null!==p){p.flags&=-257,Es(p,s,l,0,t),1&p.mode&&xs(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){xs(o,u,t),xc();break e}c=Error(a(426))}else if(ca&&1&l.mode){var v=ks(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Es(v,s,l,0,t),ba(gs(c,l));break e}}o=c=gs(c,l),4!==Vl&&(Vl=2),null===Kl?Kl=[o]:Kl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Wa(o,bs(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Jl||!Jl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Wa(o,ws(o,l,t));break e}}o=o.return}while(null!==o)}Cc(n)}catch(Xn){t=Xn,jl===n&&null!==n&&(jl=n=n.return);continue}break}}function wc(){var e=Dl.current;return Dl.current=is,null===e?is:e}function xc(){0!==Vl&&3!==Vl&&2!==Vl||(Vl=4),null===Ll||0===(268435455&Bl)&&0===(268435455&ql)||fc(Ll,Ml)}function kc(e,t){var n=Ol;Ol|=2;var r=wc();for(Ll===e&&Ml===t||(Yl=null,yc(e,t));;)try{Ec();break}catch(i){bc(e,i)}if(Da(),Ol=n,Dl.current=r,null!==jl)throw Error(a(261));return Ll=null,Ml=0,Vl}function Ec(){for(;null!==jl;)Sc(jl)}function _c(){for(;null!==jl&&!Ye();)Sc(jl)}function Sc(e){var t=Nl(e.alternate,e,Fl);e.memoizedProps=e.pendingProps,null===t?Cc(e):jl=t,Pl.current=null}function Cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zs(n,t,Fl)))return void(jl=n)}else{if(null!==(n=el(n,t)))return n.flags&=32767,void(jl=n);if(null===e)return Vl=6,void(jl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(jl=t);jl=t=e}while(null!==t);0===Vl&&(Vl=5)}function Tc(e,t,n){var r=bt,i=Rl.transition;try{Rl.transition=null,bt=1,function(e,t,n,r){do{Ic()}while(null!==ec);if(0!==(6&Ol))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ll&&(jl=Ll=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Lc(tt,(function(){return Ic(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Rl.transition,Rl.transition=null;var s=bt;bt=1;var l=Ol;Ol|=4,Pl.current=null,function(e,t){if(ii=Ht,vr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(wi){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ai={focusedElem:e,selectionRange:n},Ht=!1,il=t;null!==il;)if(e=(t=il).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,il=e;else for(;null!==il;){t=il;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ls(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(wi){Ac(t,t.return,wi)}if(null!==(e=t.sibling)){e.return=t.return,il=e;break}il=t.return}g=sl,sl=!1}(e,n),kl(n,e),yr(ai),Ht=!!ii,ai=ii=null,e.current=n,_l(n,e,i),$e(),Ol=l,bt=s,Rl.transition=o}else e.current=n;if(Zl&&(Zl=!1,ec=e,tc=i),o=e.pendingLanes,0===o&&(Jl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),cc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($l)throw $l=!1,e=Xl,Xl=null,e;0!==(1&tc)&&0!==e.tag&&Ic(),o=e.pendingLanes,0!==(1&o)?e===rc?nc++:(nc=0,rc=e):nc=0,Gi()}(e,t,n,r)}finally{Rl.transition=i,bt=r}return null}function Ic(){if(null!==ec){var e=wt(tc),t=Rl.transition,n=bt;try{if(Rl.transition=null,bt=16>e?16:e,null===ec)var r=!1;else{if(e=ec,ec=null,tc=0,0!==(6&Ol))throw Error(a(331));var i=Ol;for(Ol|=4,il=e.current;null!==il;){var o=il,s=o.child;if(0!==(16&il.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(il=u;null!==il;){var d=il;switch(d.tag){case 0:case 11:case 15:ll(8,d,o)}var h=d.child;if(null!==h)h.return=d,il=h;else for(;null!==il;){var f=(d=il).sibling,p=d.return;if(dl(d),d===u){il=null;break}if(null!==f){f.return=p,il=f;break}il=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}il=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,il=s;else e:for(;null!==il;){if(0!==(2048&(o=il).flags))switch(o.tag){case 0:case 11:case 15:ll(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,il=y;break e}il=o.return}}var b=e.current;for(il=b;null!==il;){var w=(s=il).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,il=w;else e:for(s=b;null!==il;){if(0!==(2048&(l=il).flags))try{switch(l.tag){case 0:case 11:case 15:cl(9,l)}}catch(Xn){Ac(l,l.return,Xn)}if(l===s){il=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,il=x;break e}il=l.return}}if(Ol=i,Gi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(Xn){}r=!0}return r}finally{bt=n,Rl.transition=t}}return!1}function Nc(e,t,n){e=Ha(e,t=bs(0,t=gs(n,t),1),1),t=oc(),null!==e&&(vt(e,1,t),cc(e,t))}function Ac(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Jl||!Jl.has(r))){t=Ha(t,e=ws(t,e=gs(n,e),1),1),e=oc(),null!==t&&(vt(t,1,e),cc(t,e));break}}t=t.return}}function Dc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=oc(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(Ml&n)===n&&(4===Vl||3===Vl&&(130023424&Ml)===Ml&&500>Xe()-Gl?yc(e,0):Hl|=n),cc(e,t)}function Pc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=oc();null!==(e=Ua(e,t))&&(vt(e,t,n),cc(e,n))}function Rc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Pc(e,n)}function Lc(e,t){return Ge(e,t)}function jc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new jc(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Uc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Fc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return zc(n.children,i,o,t);case _:s=8,i|=8;break;case S:return(e=Mc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Mc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Mc(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Bc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case I:s=11;break e;case D:s=14;break e;case P:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function zc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function qc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Hc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,i,a,o,s,l){return e=new Kc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Mc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},za(a),e}function Gc(e){if(!e)return Pi;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Mi(n))return Vi(e,n,t)}return t}function Qc(e,t,n,r,i,a,o,s,l){return(e=Wc(n,r,!0,e,0,a,0,s,l)).context=Gc(null),n=e.current,(a=qa(r=oc(),i=sc(n))).callback=void 0!==t&&null!==t?t:null,Ha(n,a,i),e.current.lanes=i,vt(e,i,r),cc(e,r),e}function Yc(e,t,n,r){var i=t.current,a=oc(),o=sc(i);return n=Gc(n),null===t.context?t.context=n:t.pendingContext=n,(t=qa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ha(i,t,o))&&(lc(e,i,o,a),Ka(e,i,o)),o}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Jc(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)Ss=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ss=!1,function(e,t,n){switch(t.tag){case 3:Ls(t),ya();break;case 5:no(t);break;case 1:Mi(t.type)&&zi(t);break;case 4:eo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Di(Ta,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Di(io,1&io.current),t.flags|=128,null):0!==(n&t.child.childLanes)?qs(e,t,n):(Di(io,1&io.current),null!==(e=$s(e,t,n))?e.sibling:null);Di(io,1&io.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Di(io,io.current),r)break;return null;case 22:case 23:return t.lanes=0,As(e,t,n)}return $s(e,t,n)}(e,t,n);Ss=0!==(131072&e.flags)}else Ss=!1,ca&&0!==(1048576&t.flags)&&ia(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ys(e,t),e=t.pendingProps;var i=ji(t,Ri.current);Oa(t,n),i=xo(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(r)?(o=!0,zi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,za(t),i.updater=us,t.stateNode=i,i._reactInternals=t,ps(t,r,e,n),t=Os(null,t,r,!0,o,n)):(t.tag=0,ca&&o&&aa(t),Cs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ys(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===D)return 14}return 2}(r),e=ls(r,e),i){case 0:t=Ps(null,t,r,e,n);break e;case 1:t=Rs(null,t,r,e,n);break e;case 11:t=Ts(null,t,r,e,n);break e;case 14:t=Is(null,t,r,ls(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:ls(r,i),n);case 1:return r=t.type,i=t.pendingProps,Rs(e,t,r,i=t.elementType===r?i:ls(r,i),n);case 3:e:{if(Ls(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ba(e,t),Ga(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=js(e,t,r,n,i=gs(Error(a(423)),t));break e}if(r!==i){t=js(e,t,r,n,i=gs(Error(a(424)),t));break e}for(la=fi(t.stateNode.containerInfo.firstChild),sa=t,ca=!0,ua=null,n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ya(),r===i){t=$s(e,t,n);break e}Cs(e,t,r,n)}t=t.child}return t;case 5:return no(t),null===e&&pa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,oi(r,i)?s=null:null!==o&&oi(r,o)&&(t.flags|=32),Ds(e,t),Cs(e,t,s,n),t.child;case 6:return null===e&&pa(t),null;case 13:return qs(e,t,n);case 4:return eo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Cs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ls(r,i),n);case 7:return Cs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Cs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Di(Ta,r._currentValue),r._currentValue=s,null!==o)if(dr(o.value,s)){if(o.children===i.children&&!Oi.current){t=$s(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=qa(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ra(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ra(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Cs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Oa(t,n),r=r(i=La(i)),t.flags|=1,Cs(e,t,r,n),t.child;case 14:return i=ls(r=t.type,t.pendingProps),Is(e,t,r,i=ls(r.type,i),n);case 15:return Ns(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ls(r,i),Ys(e,t),t.tag=1,Mi(r)?(e=!0,zi(t)):e=!1,Oa(t,n),hs(t,r,i),ps(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return Qs(e,t,n);case 22:return As(e,t,n)}throw Error(a(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function eu(e){this._internalRoot=e}function tu(e){this._internalRoot=e}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ru(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function iu(){}function au(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=$c(o);s.call(e)}}Yc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=$c(o);a.call(e)}}var o=Qc(t,r,e,0,null,!1,0,"",iu);return e._reactRootContainer=o,e[yi]=o.current,Wr(8===e.nodeType?e.parentNode:e),mc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=$c(l);s.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",iu);return e._reactRootContainer=l,e[yi]=l.current,Wr(8===e.nodeType?e.parentNode:e),mc((function(){Yc(t,l,n,r)})),l}(n,t,e,i,r);return $c(o)}tu.prototype.render=eu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Yc(e,t,null,null)},tu.prototype.unmount=eu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mc((function(){Yc(null,e,null,null)})),t[yi]=null}},tu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),cc(t,Xe()),0===(6&Ol)&&(Ql=Xe()+500,Gi()))}break;case 13:mc((function(){var t=Ua(e,1);if(null!==t){var n=oc();lc(t,e,1,n)}})),Jc(e,1)}},kt=function(e){if(13===e.tag){var t=Ua(e,134217728);if(null!==t)lc(t,e,134217728,oc());Jc(e,134217728)}},Et=function(e){if(13===e.tag){var t=sc(e),n=Ua(e,t);if(null!==n)lc(n,e,t,oc());Jc(e,t)}},_t=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ci(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=gc,Ne=mc;var ou={usingClientEntryPoint:!1,Events:[_i,Si,Ci,Ce,Te,gc]},su={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lu={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{it=cu.inject(lu),at=cu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!nu(e))throw Error(a(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,r,i),e[yi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new eu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return mc(e)},t.hydrate=function(e,t,n){if(!ru(t))throw Error(a(200));return au(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!nu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[yi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new tu(t)},t.render=function(e,t,n){if(!ru(t))throw Error(a(200));return au(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ru(e))throw Error(a(40));return!!e._reactRootContainer&&(mc((function(){au(null,null,e,!1,(function(){e._reactRootContainer=null,e[yi]=null}))})),!0)},t.unstable_batchedUpdates=gc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ru(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return au(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(43),a=n.t(i,2),o=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const f="popstate";function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function g(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function v(e,t,n,r){return void 0===n&&(n=null),h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function y(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function w(e,t,n,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:o=!1}=i,s=a.history,l=r.Pop,c=null,u=d();function d(){return(s.state||{idx:null}).idx}function g(){l=r.Pop;let e=d(),t=null==e?null:e-u;u=e,c&&c({action:l,location:w.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:y(e);return n=n.replace(/ $/,"%20"),p(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,s.replaceState(h({},s.state,{idx:u}),""));let w={get action(){return l},get location(){return e(a,s)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(f,g),c=e,()=>{a.removeEventListener(f,g),c=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=v(w.location,e,t);n&&n(i,e),u=d()+1;let h=m(i,u),f=w.createHref(i);try{s.pushState(h,"",f)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(f)}o&&c&&c({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let i=v(w.location,e,t);n&&n(i,e),u=d();let a=m(i,u),h=w.createHref(i);s.replaceState(a,"",h),o&&c&&c({action:l,location:w.location,delta:0})},go:e=>s.go(e)};return w}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function k(e,t,n){return void 0===n&&(n="/"),E(e,t,n,!1)}function E(e,t,n,r){let i=M(("string"===typeof t?b(t):t).pathname||"/",n);if(null==i)return null;let a=_(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=j(i);o=O(a[s],e,r)}return o}function _(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(p(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=B([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),_(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:R(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))i(e,t,r);else i(e,t)})),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=S(r.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),i&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const C=/^:[\w-]+$/,T=3,I=2,N=1,A=10,D=-2,P=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=D),t&&(r+=I),n.filter((e=>!P(e))).reduce(((e,t)=>e+(C.test(t)?T:""===t?N:A)),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:B([a,u.pathname]),pathnameBase:q(B([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=B([a,u.pathnameBase]))}return o}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);g("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:o,pattern:e}}function j(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return g(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function F(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function U(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function V(e,t){let n=U(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function z(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=b(e):(i=h({},e),p(!i.pathname||!i.pathname.includes("?"),F("?","pathname","search",i)),p(!i.pathname||!i.pathname.includes("#"),F("#","pathname","hash",i)),p(!i.search||!i.search.includes("#"),F("#","search","hash",i)));let a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?b(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:H(r),hash:K(i)}}(i,a),c=s&&"/"!==s&&s.endsWith("/"),u=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const B=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",K=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const G=["post","put","patch","delete"],Q=(new Set(G),["get",...G]);new Set(Q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}const $=i.createContext(null);const X=i.createContext(null);const J=i.createContext(null);const Z=i.createContext(null);const ee=i.createContext({outlet:null,matches:[],isDataRoute:!1});const te=i.createContext(null);function ne(){return null!=i.useContext(Z)}function re(){return ne()||p(!1),i.useContext(Z).location}function ie(e){i.useContext(J).static||i.useLayoutEffect(e)}function ae(){let{isDataRoute:e}=i.useContext(ee);return e?function(){let{router:e}=ge(fe.UseNavigateStable),t=ve(pe.UseNavigateStable),n=i.useRef(!1);ie((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Y({fromRouteId:t},i)))}),[e,t]);return r}():function(){ne()||p(!1);let e=i.useContext($),{basename:t,future:n,navigator:r}=i.useContext(J),{matches:a}=i.useContext(ee),{pathname:o}=re(),s=JSON.stringify(V(a,n.v7_relativeSplatPath)),l=i.useRef(!1);ie((()=>{l.current=!0}));let c=i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=z(n,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:B([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,s,o,e]);return c}()}function oe(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(J),{matches:a}=i.useContext(ee),{pathname:o}=re(),s=JSON.stringify(V(a,r.v7_relativeSplatPath));return i.useMemo((()=>z(e,JSON.parse(s),o,"path"===n)),[e,s,o,n])}function se(e,t,n,a){ne()||p(!1);let{navigator:o}=i.useContext(J),{matches:s}=i.useContext(ee),l=s[s.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,h=re();if(t){var f;let e="string"===typeof t?b(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||p(!1),d=e}else d=h;let g=d.pathname||"/",m=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=k(e,{pathname:m});let y=he(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:B([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,a);return t&&y?i.createElement(Z.Provider,{value:{location:Y({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},y):y}function le(){let e=function(){var e;let t=i.useContext(te),n=me(pe.UseRouteError),r=ve(pe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const ce=i.createElement(le,null);class ue extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(ee.Provider,{value:this.props.routeContext},i.createElement(te.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function de(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext($);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(ee.Provider,{value:t},r)}function he(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=r)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=s.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||p(!1),s=s.slice(0,Math.min(s.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<s.length;i++){let e=s[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((e,r,a)=>{let o,d=!1,h=null,f=null;var p;n&&(o=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ce,c&&(u<0&&0===a?(p="route-fallback",!1||ye[p]||(ye[p]=!0),d=!0,f=null):u===a&&(d=!0,f=r.route.hydrateFallbackElement||null)));let g=t.concat(s.slice(0,a+1)),m=()=>{let t;return t=o?h:d?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(de,{match:r,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(ue,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var fe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fe||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function ge(e){let t=i.useContext($);return t||p(!1),t}function me(e){let t=i.useContext(X);return t||p(!1),t}function ve(e){let t=function(){let e=i.useContext(ee);return e||p(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||p(!1),n.route.id}const ye={};function be(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function we(e){p(!1)}function xe(e){let{basename:t="/",children:n=null,location:a,navigationType:o=r.Pop,navigator:s,static:l=!1,future:c}=e;ne()&&p(!1);let u=t.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:u,navigator:s,static:l,future:Y({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof a&&(a=b(a));let{pathname:h="/",search:f="",hash:g="",state:m=null,key:v="default"}=a,y=i.useMemo((()=>{let e=M(h,u);return null==e?null:{location:{pathname:e,search:f,hash:g,state:m,key:v},navigationType:o}}),[u,h,f,g,m,v,o]);return null==y?null:i.createElement(J.Provider,{value:d},i.createElement(Z.Provider,{children:n,value:y}))}function ke(e){let{children:t,location:n}=e;return se(Ee(t),n)}new Promise((()=>{}));i.Component;function Ee(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Ee(e.props.children,a));e.type!==we&&p(!1),e.props.index&&e.props.children&&p(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ee(e.props.children,a)),n.push(o)})),n}var _e=n(950),Se=n.t(_e,2);function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(aw){}new Map;const Ne=a.startTransition;Se.flushSync,a.useId;function Ae(e){let{basename:t,children:n,future:r,window:a}=e,o=i.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),w((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=b(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),v("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:y(t))}),(function(e,t){g("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),s)));let l=o.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&Ne?Ne((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.useEffect((()=>be(r)),[r]),i.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const De="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=i.forwardRef((function(e,t){let n,{onClick:r,relative:a,reloadDocument:o,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=Te(e,Ie),{basename:g}=i.useContext(J),m=!1;if("string"===typeof u&&Pe.test(u)&&(n=u,De))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=M(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(aw){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;ne()||p(!1);let{basename:r,navigator:a}=i.useContext(J),{hash:o,pathname:s,search:l}=oe(e,{relative:n}),c=s;return"/"!==r&&(c="/"===s?r:B([r,s])),a.createHref({pathname:c,search:l,hash:o})}(u,{relative:a}),b=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:o,relative:s,viewTransition:l}=void 0===t?{}:t,c=ae(),u=re(),d=oe(e,{relative:s});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:y(u)===y(d);c(e,{replace:n,state:a,preventScrollReset:o,relative:s,viewTransition:l})}}),[u,c,d,r,a,n,e,o,s,l])}(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:h});return i.createElement("a",Ce({},f,{href:n||v,onClick:m||o?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Oe,Le;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Oe||(Oe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Le||(Le={}));const je=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(je(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new Fe;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function(e){return function(e){const t=je(e);return Me.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ve=function(e){try{return Me.decodeString(e,!0)}catch(aw){console.error("base64Decode failed: ",aw)}return null};const ze=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Be=()=>{try{return ze()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/Kianosh-Solheim/website-4",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(aw){return}const t=e&&Ve(e[1]);return t&&JSON.parse(t)})()}catch(aw){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(aw))}},qe=e=>{var t,n;return null===(n=null===(t=Be())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},He=()=>{var e;return null===(e=Be())||void 0===e?void 0:e.config},Ke=e=>{var t;return null===(t=Be())||void 0===t?void 0:t["_".concat(e)]};class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ge(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Qe(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ye(){try{return"object"===typeof indexedDB}catch(aw){return!1}}function $e(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class Xe extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ze,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Xe(n,a,t)}}const Ze=/\{\$([^}]+)}/g;function et(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(tt(n)&&tt(a)){if(!et(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tt(e){return null!==e&&"object"===typeof e}function nt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rt(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function it(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class at{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ot),void 0===r.error&&(r.error=ot),void 0===r.complete&&(r.complete=ot);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(aw){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(aw){"undefined"!==typeof console&&console.error&&console.error(aw)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ot(){}function st(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function lt(e){return e&&e._delegate?e._delegate:e}class ct{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ut="[DEFAULT]";class dt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new We;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(aw){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(aw){if(r)return null;throw aw}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ut})}catch(aw){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(aw){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ut?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return this.component?this.component.multipleInstances?e:ut:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ht{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ft=[];var pt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(pt||(pt={}));const gt={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},mt=pt.INFO,vt={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},yt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=vt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class bt{constructor(e){this.name=e,this._logLevel=mt,this._logHandler=yt,this._userLogHandler=null,ft.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?gt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...t),this._logHandler(this,pt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...t),this._logHandler(this,pt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.INFO,...t),this._logHandler(this,pt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.WARN,...t),this._logHandler(this,pt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...t),this._logHandler(this,pt.ERROR,...t)}}let wt,xt;const kt=new WeakMap,Et=new WeakMap,_t=new WeakMap,St=new WeakMap,Ct=new WeakMap;let Tt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Et.get(e);if("objectStoreNames"===t)return e.objectStoreNames||_t.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return At(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function It(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xt||(xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Dt(this),n),At(kt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return At(e.apply(Dt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(Dt(this),t,...r);return _t.set(a,t.sort?t.sort():[t]),At(a)}}function Nt(e){return"function"===typeof e?It(e):(e instanceof IDBTransaction&&function(e){if(Et.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Et.set(e,t)}(e),t=e,(wt||(wt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Tt):e);var t}function At(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(At(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&kt.set(t,e)})).catch((()=>{})),Ct.set(t,e),t}(e);if(St.has(e))return St.get(e);const t=Nt(e);return t!==e&&(St.set(e,t),Ct.set(t,e)),t}const Dt=e=>Ct.get(e);const Pt=["get","getKey","getAll","getAllKeys","count"],Rt=["put","add","delete","clear"],Ot=new Map;function Lt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ot.get(t))return Ot.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Rt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Pt.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return Ot.set(t,a),a}Tt=(e=>d(d({},e),{},{get:(t,n,r)=>Lt(t,n)||e.get(t,n,r),has:(t,n)=>!!Lt(t,n)||e.has(t,n)}))(Tt);class jt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Mt="@firebase/app",Ft="0.9.13",Ut=new bt("@firebase/app"),Vt="@firebase/app-compat",zt="@firebase/analytics-compat",Bt="@firebase/analytics",qt="@firebase/app-check-compat",Ht="@firebase/app-check",Kt="@firebase/auth",Wt="@firebase/auth-compat",Gt="@firebase/database",Qt="@firebase/database-compat",Yt="@firebase/functions",$t="@firebase/functions-compat",Xt="@firebase/installations",Jt="@firebase/installations-compat",Zt="@firebase/messaging",en="@firebase/messaging-compat",tn="@firebase/performance",nn="@firebase/performance-compat",rn="@firebase/remote-config",an="@firebase/remote-config-compat",on="@firebase/storage",sn="@firebase/storage-compat",ln="@firebase/firestore",cn="@firebase/firestore-compat",un="firebase",dn="[DEFAULT]",hn={[Mt]:"fire-core",[Vt]:"fire-core-compat",[Bt]:"fire-analytics",[zt]:"fire-analytics-compat",[Ht]:"fire-app-check",[qt]:"fire-app-check-compat",[Kt]:"fire-auth",[Wt]:"fire-auth-compat",[Gt]:"fire-rtdb",[Qt]:"fire-rtdb-compat",[Yt]:"fire-fn",[$t]:"fire-fn-compat",[Xt]:"fire-iid",[Jt]:"fire-iid-compat",[Zt]:"fire-fcm",[en]:"fire-fcm-compat",[tn]:"fire-perf",[nn]:"fire-perf-compat",[rn]:"fire-rc",[an]:"fire-rc-compat",[on]:"fire-gcs",[sn]:"fire-gcs-compat",[ln]:"fire-fst",[cn]:"fire-fst-compat","fire-js":"fire-js",[un]:"fire-js-all"},fn=new Map,pn=new Map;function gn(e,t){try{e.container.addComponent(t)}catch(aw){Ut.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),aw)}}function mn(e){const t=e.name;if(pn.has(t))return Ut.debug("There were multiple attempts to register component ".concat(t,".")),!1;pn.set(t,e);for(const n of fn.values())gn(n,e);return!0}function vn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const yn=new Je("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ct("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yn.create("app-deleted",{appName:this._name})}}const wn="9.23.0";function xn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:dn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw yn.create("bad-app-name",{appName:String(i)});if(n||(n=He()),!n)throw yn.create("no-options");const a=fn.get(i);if(a){if(et(n,a.options)&&et(r,a.config))return a;throw yn.create("duplicate-app",{appName:i})}const o=new ht(i);for(const l of pn.values())o.addComponent(l);const s=new bn(n,r,o);return fn.set(i,s),s}function kn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn;const t=fn.get(e);if(!t&&e===dn&&He())return xn();if(!t)throw yn.create("no-app",{appName:e});return t}function En(e,t,n){var r;let i=null!==(r=hn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ut.warn(e.join(" "))}mn(new ct("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const _n="firebase-heartbeat-store";let Sn=null;function Cn(){return Sn||(Sn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=At(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(At(o.result),e.oldVersion,e.newVersion,At(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(_n)}}).catch((e=>{throw yn.create("idb-open",{originalErrorMessage:e.message})}))),Sn}async function Tn(e,t){try{const n=(await Cn()).transaction(_n,"readwrite"),r=n.objectStore(_n);await r.put(t,In(e)),await n.done}catch(aw){if(aw instanceof Xe)Ut.warn(aw.message);else{const t=yn.create("idb-set",{originalErrorMessage:null===aw||void 0===aw?void 0:aw.message});Ut.warn(t.message)}}}function In(e){return"".concat(e.name,"!").concat(e.options.appId)}class Nn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=An();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=An(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Pn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ue(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function An(){return(new Date).toISOString().substring(0,10)}class Dn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ye()&&$e().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Cn();return await t.transaction(_n).objectStore(_n).get(In(e))}catch(aw){if(aw instanceof Xe)Ut.warn(aw.message);else{const t=yn.create("idb-get",{originalErrorMessage:null===aw||void 0===aw?void 0:aw.message});Ut.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Tn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Tn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Pn(e){return Ue(JSON.stringify({version:2,heartbeats:e})).length}var Rn;Rn="",mn(new ct("platform-logger",(e=>new jt(e)),"PRIVATE")),mn(new ct("heartbeat",(e=>new Nn(e)),"PRIVATE")),En(Mt,Ft,Rn),En(Mt,Ft,"esm2017"),En("fire-js","");var On,Ln="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jn={},Mn=Mn||{},Fn=Ln||self;function Un(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Vn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var zn="closure_uid_"+(1e9*Math.random()>>>0),Bn=0;function qn(e,t,n){return e.call.apply(e.bind,arguments)}function Hn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Kn(e,t,n){return(Kn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qn:Hn).apply(null,arguments)}function Wn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Gn(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Qn(){this.s=this.s,this.o=this.o}Qn.prototype.s=!1,Qn.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,zn)&&e[zn]||(e[zn]=++Bn))},Qn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function $n(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xn(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Un(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Jn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Jn.prototype.h=function(){this.defaultPrevented=!0};var Zn=function(){if(!Fn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Fn.addEventListener("test",(()=>{}),t),Fn.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function er(e){return/^[\s\xa0]*$/.test(e)}function tr(){var e=Fn.navigator;return e&&(e=e.userAgent)?e:""}function nr(e){return-1!=tr().indexOf(e)}function rr(e){return rr[" "](e),e}rr[" "]=function(){};var ir,ar,or=nr("Opera"),sr=nr("Trident")||nr("MSIE"),lr=nr("Edge"),cr=lr||sr,ur=nr("Gecko")&&!(-1!=tr().toLowerCase().indexOf("webkit")&&!nr("Edge"))&&!(nr("Trident")||nr("MSIE"))&&!nr("Edge"),dr=-1!=tr().toLowerCase().indexOf("webkit")&&!nr("Edge");function hr(){var e=Fn.document;return e?e.documentMode:void 0}e:{var fr="",pr=function(){var e=tr();return ur?/rv:([^\);]+)(\)|;)/.exec(e):lr?/Edge\/([\d\.]+)/.exec(e):sr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):dr?/WebKit\/(\S+)/.exec(e):or?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(pr&&(fr=pr?pr[1]:""),sr){var gr=hr();if(null!=gr&&gr>parseFloat(fr)){ir=String(gr);break e}}ir=fr}if(Fn.document&&sr){var mr=hr();ar=mr||(parseInt(ir,10)||void 0)}else ar=void 0;var vr=ar;function yr(e,t){if(Jn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ur){e:{try{rr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:br[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&yr.$.h.call(this)}}Gn(yr,Jn);var br={2:"touch",3:"pen",4:"mouse"};yr.prototype.h=function(){yr.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wr="closure_listenable_"+(1e6*Math.random()|0),xr=0;function kr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++xr,this.fa=this.ia=!1}function Er(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function _r(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Sr(e){const t={};for(const n in e)t[n]=e[n];return t}const Cr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tr(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Cr.length;t++)n=Cr[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ir(e){this.src=e,this.g={},this.h=0}function Nr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Yn(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Er(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ar(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Ir.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ar(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new kr(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Dr="closure_lm_"+(1e6*Math.random()|0),Pr={};function Rr(e,t,n,r,i){if(r&&r.once)return Lr(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Rr(e,t[a],n,r,i);return null}return n=Br(n),e&&e[wr]?e.O(t,n,Vn(r)?!!r.capture:!!r,i):Or(e,t,n,!1,r,i)}function Or(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Vn(i)?!!i.capture:!!i,s=Vr(e);if(s||(e[Dr]=s=new Ir(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ur;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zn||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Fr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Lr(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Lr(e,t[a],n,r,i);return null}return n=Br(n),e&&e[wr]?e.P(t,n,Vn(r)?!!r.capture:!!r,i):Or(e,t,n,!0,r,i)}function jr(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)jr(e,t[a],n,r,i);else r=Vn(r)?!!r.capture:!!r,n=Br(n),e&&e[wr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ar(a=e.g[t],n,r,i))&&(Er(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Vr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ar(t,n,r,i)),(n=-1<e?t[e]:null)&&Mr(n))}function Mr(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[wr])Nr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Fr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Vr(t))?(Nr(n,e),0==n.h&&(n.src=null,t[Dr]=null)):Er(e)}}}function Fr(e){return e in Pr?Pr[e]:Pr[e]="on"+e}function Ur(e,t){if(e.fa)e=!0;else{t=new yr(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Mr(e),e=n.call(r,t)}return e}function Vr(e){return(e=e[Dr])instanceof Ir?e:null}var zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Br(e){return"function"===typeof e?e:(e[zr]||(e[zr]=function(t){return e.handleEvent(t)}),e[zr])}function qr(){Qn.call(this),this.i=new Ir(this),this.S=this,this.J=null}function Hr(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Jn(t,e);else if(t instanceof Jn)t.target=t.target||e;else{var i=t;Tr(t=new Jn(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Kr(o,r,!0,t)&&i}if(i=Kr(o=t.g=e,r,!0,t)&&i,i=Kr(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Kr(o=t.g=n[a],r,!1,t)&&i}function Kr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,l=o.la||o.src;o.ia&&Nr(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}Gn(qr,Qn),qr.prototype[wr]=!0,qr.prototype.removeEventListener=function(e,t,n,r){jr(this,e,t,n,r)},qr.prototype.N=function(){if(qr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Er(n[r]);delete t.g[e],t.h--}}this.J=null},qr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},qr.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Wr=Fn.JSON.stringify;function Gr(){var e=ei;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Qr=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Yr),(e=>e.reset()));class Yr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $r(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Xr(e){Fn.setTimeout((()=>{throw e}),0)}let Jr,Zr=!1,ei=new class{constructor(){this.h=this.g=null}add(e,t){const n=Qr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},ti=()=>{const e=Fn.Promise.resolve(void 0);Jr=()=>{e.then(ni)}};var ni=()=>{for(var e;e=Gr();){try{e.h.call(e.g)}catch(n){Xr(n)}var t=Qr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zr=!1};function ri(e,t){qr.call(this),this.h=e||1,this.g=t||Fn,this.j=Kn(this.qb,this),this.l=Date.now()}function ii(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ai(e,t,n){if("function"===typeof e)n&&(e=Kn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Kn(e.handleEvent,e)}return 2147483647<Number(t)?-1:Fn.setTimeout(e,t||0)}function oi(e){e.g=ai((()=>{e.g=null,e.i&&(e.i=!1,oi(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Gn(ri,qr),(On=ri.prototype).ga=!1,On.T=null,On.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hr(this,"tick"),this.ga&&(ii(this),this.start()))}},On.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},On.N=function(){ri.$.N.call(this),ii(this),delete this.g};class si extends Qn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oi(this)}N(){super.N(),this.g&&(Fn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(e){Qn.call(this),this.h=e,this.g={}}Gn(li,Qn);var ci=[];function ui(e,t,n,r){Array.isArray(n)||(n&&(ci[0]=n.toString()),n=ci);for(var i=0;i<n.length;i++){var a=Rr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function di(e){_r(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Mr(e)}),e),e.g={}}function hi(){this.g=!0}function fi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Wr(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}li.prototype.N=function(){li.$.N.call(this),di(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hi.prototype.Ea=function(){this.g=!1},hi.prototype.info=function(){};var pi={},gi=null;function mi(){return gi=gi||new qr}function vi(e){Jn.call(this,pi.Ta,e)}function yi(e){const t=mi();Hr(t,new vi(t))}function bi(e,t){Jn.call(this,pi.STAT_EVENT,e),this.stat=t}function wi(e){const t=mi();Hr(t,new bi(t,e))}function xi(e,t){Jn.call(this,pi.Ua,e),this.size=t}function ki(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Fn.setTimeout((function(){e()}),t)}pi.Ta="serverreachability",Gn(vi,Jn),pi.STAT_EVENT="statevent",Gn(bi,Jn),pi.Ua="timingevent",Gn(xi,Jn);var Ei={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_i={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Si(){}function Ci(e){return e.h||(e.h=e.i())}function Ti(){}Si.prototype.h=null;var Ii,Ni={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ai(){Jn.call(this,"d")}function Di(){Jn.call(this,"c")}function Pi(){}function Ri(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new li(this),this.P=Li,e=cr?125:void 0,this.V=new ri(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Oi}function Oi(){this.i=null,this.g="",this.h=!1}Gn(Ai,Jn),Gn(Di,Jn),Gn(Pi,Si),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},Ii=new Pi;var Li=45e3,ji={},Mi={};function Fi(e,t,n){e.L=1,e.v=ra(Ji(t)),e.s=n,e.S=!0,Ui(e,null)}function Ui(e,t){e.G=Date.now(),qi(e),e.A=Ji(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),ma(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Oi,e.g=yo(e.l,n?t:null,!e.s),0<e.O&&(e.M=new si(Kn(e.Pa,e,e.g),e.O)),ui(e.U,e.g,"readystatechange",e.nb),t=e.I?Sr(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),yi(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Vi(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function zi(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Bi(e,n),r==Mi){4==t&&(e.o=4,wi(14),i=!1),fi(e.j,e.m,null,"[Incomplete Response]");break}if(r==ji){e.o=4,wi(15),fi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}fi(e.j,e.m,r,null),Qi(e,r)}Vi(e)&&r!=Mi&&r!=ji&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,wi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),co(t),t.M=!0,wi(11))):(fi(e.j,e.m,n,"[Invalid Chunked Response]"),Gi(e),Wi(e))}function Bi(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Mi:(n=Number(t.substring(n,r)),isNaN(n)?ji:(r+=1)+n>t.length?Mi:(t=t.slice(r,r+n),e.C=r+n,t))}function qi(e){e.Y=Date.now()+e.P,Hi(e,e.P)}function Hi(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ki(Kn(e.lb,e),t)}function Ki(e){e.B&&(Fn.clearTimeout(e.B),e.B=null)}function Wi(e){0==e.l.H||e.J||fo(e.l,e)}function Gi(e){Ki(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ii(e.V),di(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Qi(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Ea(n.i,e)))if(!e.K&&Ea(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;ho(n),to(n)}lo(n),wi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ki(Kn(n.ib,n),6e3));if(1>=ka(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else go(n,11)}else if((e.K||n.g==e)&&ho(n),!er(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.i;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(_a(a,a.h),a.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,na(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=vo(r,r.J?r.pa:null,r.Y),o.K){Sa(r.i,o);var s=o,l=r.L;l&&s.setTimeout(l),s.B&&(Ki(s),qi(s)),r.g=o}else so(r);0<n.j.length&&ro(n)}else"stop"!=c[0]&&"close"!=c[0]||go(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?go(n,7):eo(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}yi()}catch(c){}}function Yi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Un(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Un(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Un(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(On=Ri.prototype).setTimeout=function(e){this.P=e},On.nb=function(e){e=e.target;const t=this.M;t&&3==Qa(e)?t.l():this.Pa(e)},On.Pa=function(e){try{if(e==this.g)e:{const u=Qa(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||cr||this.g&&(this.h.h||this.g.ja()||Ya(this.g)))){this.J||4!=u||7==t||yi(),Ki(this);var n=this.g.da();this.ca=n;t:if(Vi(this)){var r=Ya(this.g);e="";var i=r.length,a=4==Qa(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Gi(this),Wi(this);var o="";break t}this.h.i=new Fn.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!er(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,wi(12),Gi(this),Wi(this);break e}fi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qi(this,n)}this.S?(zi(this,u,o),cr&&this.i&&3==u&&(ui(this.U,this.V,"tick",this.mb),this.V.start())):(fi(this.j,this.m,o,null),Qi(this,o)),4==u&&Gi(this),this.i&&!this.J&&(4==u?fo(this.l,this):(this.i=!1,qi(this)))}else(function(e){const t={};e=(e.g&&2<=Qa(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(er(e[r]))continue;var n=$r(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,wi(12)):(this.o=0,wi(13)),Gi(this),Wi(this)}}}catch(u){}},On.mb=function(){if(this.g){var e=Qa(this.g),t=this.g.ja();this.C<t.length&&(Ki(this),zi(this,e,t),this.i&&4!=e&&qi(this))}},On.cancel=function(){this.J=!0,Gi(this)},On.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(yi(),wi(17)),Gi(this),this.o=2,Wi(this)):Hi(this,this.Y-e)};var $i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xi(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Xi){this.h=e.h,Zi(this,e.j),this.s=e.s,this.g=e.g,ea(this,e.m),this.l=e.l;var t=e.i,n=new ha;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ta(this,n),this.o=e.o}else e&&(t=String(e).match($i))?(this.h=!1,Zi(this,t[1]||"",!0),this.s=ia(t[2]||""),this.g=ia(t[3]||"",!0),ea(this,t[4]),this.l=ia(t[5]||"",!0),ta(this,t[6]||"",!0),this.o=ia(t[7]||"")):(this.h=!1,this.i=new ha(null,this.h))}function Ji(e){return new Xi(e)}function Zi(e,t,n){e.j=n?ia(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ea(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ta(e,t,n){t instanceof ha?(e.i=t,function(e,t){t&&!e.j&&(fa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(pa(this,t),ma(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=aa(t,ua)),e.i=new ha(t,e.h))}function na(e,t,n){e.i.set(t,n)}function ra(e){return na(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ia(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function aa(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,oa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function oa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(aa(t,sa,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(aa(t,sa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(aa(n,"/"==n.charAt(0)?ca:la,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",aa(n,da)),e.join("")};var sa=/[#\/\?@]/g,la=/[#\?:]/g,ca=/[#\?]/g,ua=/[#\?@]/g,da=/#/g;function ha(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fa(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function pa(e,t){fa(e),t=va(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ga(e,t){return fa(e),t=va(e,t),e.g.has(t)}function ma(e,t,n){pa(e,t),0<n.length&&(e.i=null,e.g.set(va(e,t),$n(n)),e.h+=n.length)}function va(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(On=ha.prototype).add=function(e,t){fa(this),this.i=null,e=va(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},On.forEach=function(e,t){fa(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},On.ta=function(){fa(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},On.Z=function(e){fa(this);let t=[];if("string"===typeof e)ga(this,e)&&(t=t.concat(this.g.get(va(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},On.set=function(e,t){return fa(this),this.i=null,ga(this,e=va(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},On.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},On.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var ya=class{constructor(e,t){this.g=e,this.map=t}};function ba(e){this.l=e||wa,Fn.PerformanceNavigationTiming?e=0<(e=Fn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Fn.g&&Fn.g.Ka&&Fn.g.Ka()&&Fn.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wa=10;function xa(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ka(e){return e.h?1:e.g?e.g.size:0}function Ea(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _a(e,t){e.g?e.g.add(t):e.h=t}function Sa(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ca(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return $n(e.i)}ba.prototype.cancel=function(){if(this.i=Ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ta,Ia=class{stringify(e){return Fn.JSON.stringify(e,void 0)}parse(e){return Fn.JSON.parse(e,void 0)}};function Na(){this.g=new Ia}function Aa(e,t,n){const r=n||"";try{Yi(e,(function(e,n){let i=e;Vn(e)&&(i=Wr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(aw){throw t.push(r+"type="+encodeURIComponent("_badmap")),aw}}function Da(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Pa(e){this.l=e.fc||null,this.j=e.ob||!1}function Ra(e,t){qr.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gn(Pa,Si),Pa.prototype.g=function(){return new Ra(this.l,this.j)},Pa.prototype.i=(Ta={},function(){return Ta}),Gn(Ra,qr);var Oa=0;function La(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ja(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ma(e)}function Ma(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(On=Ra.prototype).open=function(e,t){if(this.readyState!=Oa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ma(this)},On.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Fn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},On.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ja(this)),this.readyState=Oa},On.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Fn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;La(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},On.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ja(this):Ma(this),3==this.readyState&&La(this)}},On.Za=function(e){this.g&&(this.response=this.responseText=e,ja(this))},On.Ya=function(e){this.g&&(this.response=e,ja(this))},On.ka=function(){this.g&&ja(this)},On.setRequestHeader=function(e,t){this.v.append(e,t)},On.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},On.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fa=Fn.JSON.parse;function Ua(e){qr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Va,this.L=this.M=!1}Gn(Ua,qr);var Va="",za=/^https?$/i,Ba=["POST","PUT"];function qa(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ha(e),Wa(e)}function Ha(e){e.F||(e.F=!0,Hr(e,"complete"),Hr(e,"error"))}function Ka(e){if(e.h&&"undefined"!=typeof Mn&&(!e.C[1]||4!=Qa(e)||2!=e.da()))if(e.v&&4==Qa(e))ai(e.La,0,e);else if(Hr(e,"readystatechange"),4==Qa(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match($i)[1]||null;!i&&Fn.self&&Fn.self.location&&(i=Fn.self.location.protocol.slice(0,-1)),r=!za.test(i?i.toLowerCase():"")}n=r}if(n)Hr(e,"complete"),Hr(e,"success");else{e.m=6;try{var a=2<Qa(e)?e.g.statusText:""}catch(o){a=""}e.j=a+" ["+e.da()+"]",Ha(e)}}finally{Wa(e)}}}function Wa(e,t){if(e.g){Ga(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Hr(e,"ready");try{n.onreadystatechange=r}catch(aw){}}}function Ga(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Fn.clearTimeout(e.A),e.A=null)}function Qa(e){return e.g?e.g.readyState:0}function Ya(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Va:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ts){return null}}function $a(e){let t="";return _r(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Xa(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=$a(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):na(e,t,n))}function Ja(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Za(e){this.Ga=0,this.j=[],this.l=new hi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ja("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ja("baseRetryDelayMs",5e3,e),this.hb=Ja("retryDelaySeedMs",1e4,e),this.eb=Ja("forwardChannelMaxRetries",2,e),this.xa=Ja("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ba(e&&e.concurrentRequestLimit),this.Ja=new Na,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eo(e){if(no(e),3==e.H){var t=e.W++,n=Ji(e.I);if(na(n,"SID",e.K),na(n,"RID",t),na(n,"TYPE","terminate"),ao(e,n),(t=new Ri(e,e.l,t)).L=2,t.v=ra(Ji(n)),n=!1,Fn.navigator&&Fn.navigator.sendBeacon)try{n=Fn.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Fn.Image&&((new Image).src=t.v,n=!0),n||(t.g=yo(t.l,null),t.g.ha(t.v)),t.G=Date.now(),qi(t)}mo(e)}function to(e){e.g&&(co(e),e.g.cancel(),e.g=null)}function no(e){to(e),e.u&&(Fn.clearTimeout(e.u),e.u=null),ho(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Fn.clearTimeout(e.m),e.m=null)}function ro(e){if(!xa(e.i)&&!e.m){e.m=!0;var t=e.Na;Jr||ti(),Zr||(Jr(),Zr=!0),ei.add(t,e),e.C=0}}function io(e,t){var n;n=t?t.m:e.W++;const r=Ji(e.I);na(r,"SID",e.K),na(r,"RID",n),na(r,"AID",e.V),ao(e,r),e.o&&e.s&&Xa(r,e.o,e.s),n=new Ri(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=oo(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),_a(e.i,n),Fi(n,r,t)}function ao(e,t){e.na&&_r(e.na,(function(e,n){na(t,n,e)})),e.h&&Yi({},(function(e,n){na(t,n,e)}))}function oo(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Kn(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=i[o].g;const s=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),a=!1;else try{Aa(s,e,"req"+n+"_")}catch(hs){r&&r(s)}}if(a){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function so(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Jr||ti(),Zr||(Jr(),Zr=!0),ei.add(t,e),e.A=0}}function lo(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ki(Kn(e.Ma,e),po(e,e.A)),e.A++,!0)}function co(e){null!=e.B&&(Fn.clearTimeout(e.B),e.B=null)}function uo(e){e.g=new Ri(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Ji(e.wa);na(t,"RID","rpc"),na(t,"SID",e.K),na(t,"AID",e.V),na(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&na(t,"TO",e.qa),na(t,"TYPE","xmlhttp"),ao(e,t),e.o&&e.s&&Xa(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ra(Ji(t)),n.s=null,n.S=!0,Ui(n,e)}function ho(e){null!=e.v&&(Fn.clearTimeout(e.v),e.v=null)}function fo(e,t){var n=null;if(e.g==t){ho(e),co(e),e.g=null;var r=2}else{if(!Ea(e.i,t))return;n=t.F,Sa(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Hr(r=mi(),new xi(r,n)),ro(e)}else so(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(ka(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ki(Kn(e.Na,e,t),po(e,e.C)),e.C++,!0))}(e,t)||2==r&&lo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:go(e,5);break;case 4:go(e,10);break;case 3:go(e,6);break;default:go(e,2)}}function po(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function go(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Kn(e.pb,e);n||(n=new Xi("//www.google.com/images/cleardot.gif"),Fn.location&&"http"==Fn.location.protocol||Zi(n,"https"),ra(n)),function(e,t){const n=new hi;if(Fn.Image){const r=new Image;r.onload=Wn(Da,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Wn(Da,n,r,"TestLoadImage: error",!1,t),r.onabort=Wn(Da,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Wn(Da,n,r,"TestLoadImage: timeout",!1,t),Fn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else wi(2);e.H=0,e.h&&e.h.za(t),mo(e),no(e)}function mo(e){if(e.H=0,e.ma=[],e.h){const t=Ca(e.i);0==t.length&&0==e.j.length||(Xn(e.ma,t),Xn(e.ma,e.j),e.i.i.length=0,$n(e.j),e.j.length=0),e.h.ya()}}function vo(e,t,n){var r=n instanceof Xi?Ji(n):new Xi(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ea(r,r.m);else{var i=Fn.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Xi(null);r&&Zi(a,r),t&&(a.g=t),i&&ea(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&na(r,n,t),na(r,"VER",e.ra),ao(e,r),r}function yo(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Ua(new Pa({ob:!0})):new Ua(e.va)).Oa(e.J),t}function bo(){}function wo(){if(sr&&!(10<=Number(vr)))throw Error("Environmental error: no available transport.")}function xo(e,t){qr.call(this),this.g=new Za(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!er(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!er(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _o(this)}function ko(e){Ai.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Eo(){Di.call(this),this.status=1}function _o(e){this.g=e}function So(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Co(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function To(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(On=Ua.prototype).Oa=function(e){this.M=e},On.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ii.g(),this.C=this.u?Ci(this.u):Ci(Ii),this.g.onreadystatechange=Kn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(a){return void qa(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Fn.FormData&&e instanceof Fn.FormData,!(0<=Yn(Ba,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ga(this),0<this.B&&((this.L=function(e){return sr&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kn(this.ua,this)):this.A=ai(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){qa(this,a)}},On.ua=function(){"undefined"!=typeof Mn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))},On.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hr(this,"complete"),Hr(this,"abort"),Wa(this))},On.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wa(this,!0)),Ua.$.N.call(this)},On.La=function(){this.s||(this.G||this.v||this.l?Ka(this):this.kb())},On.kb=function(){Ka(this)},On.isActive=function(){return!!this.g},On.da=function(){try{return 2<Qa(this)?this.g.status:-1}catch(Ta){return-1}},On.ja=function(){try{return this.g?this.g.responseText:""}catch(Ta){return""}},On.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fa(t)}},On.Ia=function(){return this.m},On.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(On=Za.prototype).ra=8,On.H=1,On.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Ri(this,this.l,e);let a=this.s;if(this.U&&(a?(a=Sr(a),Tr(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=oo(this,i,t),na(n=Ji(this.I),"RID",e),na(n,"CVER",22),this.F&&na(n,"X-HTTP-Session-Id",this.F),ao(this,n),a&&(this.O?t="headers="+encodeURIComponent(String($a(a)))+"&"+t:this.o&&Xa(n,this.o,a)),_a(this.i,i),this.bb&&na(n,"TYPE","init"),this.P?(na(n,"$req",t),na(n,"SID","null"),i.aa=!0,Fi(i,n,null)):Fi(i,n,t),this.H=2}}else 3==this.H&&(e?io(this,e):0==this.j.length||xa(this.i)||io(this))},On.Ma=function(){if(this.u=null,uo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ki(Kn(this.jb,this),e)}},On.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wi(10),to(this),uo(this))},On.ib=function(){null!=this.v&&(this.v=null,to(this),lo(this),wi(19))},On.pb=function(e){e?(this.l.info("Successfully pinged google.com"),wi(2)):(this.l.info("Failed to ping google.com"),wi(1))},On.isActive=function(){return!!this.h&&this.h.isActive(this)},(On=bo.prototype).Ba=function(){},On.Aa=function(){},On.za=function(){},On.ya=function(){},On.isActive=function(){return!0},On.Va=function(){},wo.prototype.g=function(e,t){return new xo(e,t)},Gn(xo,qr),xo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;wi(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=vo(e,null,e.Y),ro(e)},xo.prototype.close=function(){eo(this.g)},xo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Wr(e),e=n);t.j.push(new ya(t.fb++,e)),3==t.H&&ro(t)},xo.prototype.N=function(){this.g.h=null,delete this.j,eo(this.g),delete this.g,xo.$.N.call(this)},Gn(ko,Ai),Gn(Eo,Di),Gn(_o,bo),_o.prototype.Ba=function(){Hr(this.g,"a")},_o.prototype.Aa=function(e){Hr(this.g,new ko(e))},_o.prototype.za=function(e){Hr(this.g,new Eo)},_o.prototype.ya=function(){Hr(this.g,"b")},Gn(So,(function(){this.blockSize=-1})),So.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},So.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Co(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Co(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Co(this,r),i=0;break}}this.h=i,this.i+=t},So.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Io={};function No(e){return-128<=e&&128>e?function(e,t){var n=Io;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new To([0|e],0>e?-1:0)})):new To([0|e],0>e?-1:0)}function Ao(e){if(isNaN(e)||!isFinite(e))return Po;if(0>e)return Mo(Ao(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Do;return new To(t,0)}var Do=4294967296,Po=No(0),Ro=No(1),Oo=No(16777216);function Lo(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function jo(e){return-1==e.h}function Mo(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new To(n,~e.h).add(Ro)}function Fo(e,t){return e.add(Mo(t))}function Uo(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Vo(e,t){this.g=e,this.h=t}function zo(e,t){if(Lo(t))throw Error("division by zero");if(Lo(e))return new Vo(Po,Po);if(jo(e))return t=zo(Mo(e),t),new Vo(Mo(t.g),Mo(t.h));if(jo(t))return t=zo(e,Mo(t)),new Vo(Mo(t.g),t.h);if(30<e.g.length){if(jo(e)||jo(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ro,r=t;0>=r.X(e);)n=Bo(n),r=Bo(r);var i=qo(n,1),a=qo(r,1);for(r=qo(r,2),n=qo(n,2);!Lo(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=qo(r,1),n=qo(n,1)}return t=Fo(e,i.R(t)),new Vo(i,t)}for(i=Po;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Ao(n)).R(t);jo(o)||0<o.X(e);)o=(a=Ao(n-=r)).R(t);Lo(a)&&(a=Ro),i=i.add(a),e=Fo(e,o)}return new Vo(i,e)}function Bo(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new To(n,e.h)}function qo(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new To(i,e.h)}(On=To.prototype).ea=function(){if(jo(this))return-Mo(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Do+r)*t,t*=Do}return e},On.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Lo(this))return"0";if(jo(this))return"-"+Mo(this).toString(e);for(var t=Ao(Math.pow(e,6)),n=this,r="";;){var i=zo(n,t).g,a=((0<(n=Fo(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Lo(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},On.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},On.X=function(e){return jo(e=Fo(this,e))?-1:Lo(e)?0:1},On.abs=function(){return jo(this)?Mo(this):this},On.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new To(n,-2147483648&n[n.length-1]?-1:0)},On.R=function(e){if(Lo(this)||Lo(e))return Po;if(jo(this))return jo(e)?Mo(this).R(Mo(e)):Mo(Mo(this).R(e));if(jo(e))return Mo(this.R(Mo(e)));if(0>this.X(Oo)&&0>e.X(Oo))return Ao(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Uo(n,2*r+2*i),n[2*r+2*i+1]+=a*l,Uo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Uo(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Uo(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new To(n,0)},On.gb=function(e){return zo(this,e).h},On.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new To(n,this.h&e.h)},On.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new To(n,this.h|e.h)},On.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new To(n,this.h^e.h)},wo.prototype.createWebChannel=wo.prototype.g,xo.prototype.send=xo.prototype.u,xo.prototype.open=xo.prototype.m,xo.prototype.close=xo.prototype.close,Ei.NO_ERROR=0,Ei.TIMEOUT=8,Ei.HTTP_ERROR=6,_i.COMPLETE="complete",Ti.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",qr.prototype.listen=qr.prototype.O,Ua.prototype.listenOnce=Ua.prototype.P,Ua.prototype.getLastError=Ua.prototype.Sa,Ua.prototype.getLastErrorCode=Ua.prototype.Ia,Ua.prototype.getStatus=Ua.prototype.da,Ua.prototype.getResponseJson=Ua.prototype.Wa,Ua.prototype.getResponseText=Ua.prototype.ja,Ua.prototype.send=Ua.prototype.ha,Ua.prototype.setWithCredentials=Ua.prototype.Oa,So.prototype.digest=So.prototype.l,So.prototype.reset=So.prototype.reset,So.prototype.update=So.prototype.j,To.prototype.add=To.prototype.add,To.prototype.multiply=To.prototype.R,To.prototype.modulo=To.prototype.gb,To.prototype.compare=To.prototype.X,To.prototype.toNumber=To.prototype.ea,To.prototype.toString=To.prototype.toString,To.prototype.getBits=To.prototype.D,To.fromNumber=Ao,To.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Mo(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ao(Math.pow(n,8)),i=Po,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Ao(Math.pow(n,o)),i=i.R(o).add(Ao(s))):i=(i=i.R(r)).add(Ao(s))}return i};var Ho=jn.createWebChannelTransport=function(){return new wo},Ko=jn.getStatEventTarget=function(){return mi()},Wo=jn.ErrorCode=Ei,Go=jn.EventType=_i,Qo=jn.Event=pi,Yo=jn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$o=jn.FetchXmlHttpFactory=Pa,Xo=jn.WebChannel=Ti,Jo=jn.XhrIo=Ua,Zo=jn.Md5=So,es=jn.Integer=To;const ts="@firebase/firestore";class ns{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");let rs="9.23.0";const is=new bt("@firebase/firestore");function as(){return is.logLevel}function os(e){if(is.logLevel<=pt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cs);is.debug("Firestore (".concat(rs,"): ").concat(e),...i)}}function ss(e){if(is.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cs);is.error("Firestore (".concat(rs,"): ").concat(e),...i)}}function ls(e){if(is.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cs);is.warn("Firestore (".concat(rs,"): ").concat(e),...i)}}function cs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(rs,") INTERNAL ASSERTION FAILED: ")+e;throw ss(t),new Error(t)}function ds(e,t){e||us()}function hs(e,t){return e}const fs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ps extends Xe{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class gs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ms{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class vs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ns.UNAUTHENTICATED)))}shutdown(){}}class ys{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bs{constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gs,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{os("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(os("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gs)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(os("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ds("string"==typeof t.accessToken),new ms(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ds(null===e||"string"==typeof e),new ns(e)}}class ws{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=ns.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class xs{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new ws(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(ns.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ks{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Es{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&os("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,os("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{os("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):os("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ds("string"==typeof e.token),this.T=e.token,new ks(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function _s(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ss{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=_s(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Cs(e,t){return e<t?-1:e>t?1:0}function Ts(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Is{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ps(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ps(fs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ps(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ps(fs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Is.fromMillis(Date.now())}static fromDate(e){return Is.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Is(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cs(this.nanoseconds,e.nanoseconds):Cs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ns{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ns(e)}static min(){return new Ns(new Is(0,0))}static max(){return new Ns(new Is(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class As{constructor(e,t,n){void 0===t?t=0:t>e.length&&us(),void 0===n?n=e.length-t:n>e.length-t&&us(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===As.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ds extends As{construct(e,t,n){return new Ds(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ps(fs.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Ds(e)}static emptyPath(){return new Ds([])}}const Ps=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rs extends As{construct(e,t,n){return new Rs(e,t,n)}static isValidIdentifier(e){return Ps.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rs(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ps(fs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ps(fs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ps(fs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new ps(fs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rs(t)}static emptyPath(){return new Rs([])}}class Os{constructor(e){this.path=e}static fromPath(e){return new Os(Ds.fromString(e))}static fromName(e){return new Os(Ds.fromString(e).popFirst(5))}static empty(){return new Os(Ds.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ds.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ds.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Os(new Ds(e.slice()))}}class Ls{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ls.UNKNOWN_ID=-1;function js(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Ns.fromTimestamp(1e9===r?new Is(n+1,0):new Is(n,r));return new Fs(i,Os.empty(),t)}function Ms(e){return new Fs(e.readTime,e.key,-1)}class Fs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Fs(Ns.min(),Os.empty(),-1)}static max(){return new Fs(Ns.max(),Os.empty(),-1)}}function Us(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Os.comparator(e.documentKey,t.documentKey),0!==n?n:Cs(e.largestBatchId,t.largestBatchId))}const Vs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Bs(e){if(e.code!==fs.FAILED_PRECONDITION||e.message!==Vs)throw e;os("LocalStore","Unexpectedly lost primary lease")}class qs{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&us(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qs(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof qs?t:qs.resolve(t)}catch(e){return qs.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):qs.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):qs.reject(t)}static resolve(e){return new qs(((t,n)=>{t(e)}))}static reject(e){return new qs(((t,n)=>{n(e)}))}static waitFor(e){return new qs(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=qs.resolve(!1);for(const n of e)t=t.next((e=>e?qs.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new qs(((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{a[l]=e,++o,o===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new qs(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Hs(e){return"IndexedDbTransactionError"===e.name}class Ks{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Ws(e){return null==e}function Gs(e){return 0===e&&1/e==-1/0}function Qs(e){return"number"==typeof e&&Number.isInteger(e)&&!Gs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ks.ct=-1;const Ys=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$s=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xs=$s;function Js(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function el(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class tl{constructor(e,t){this.comparator=e,this.root=t||rl.EMPTY}insert(e,t){return new tl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rl.BLACK,null,null))}remove(e){return new tl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nl(this.root,e,this.comparator,!1)}getReverseIterator(){return new nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nl(this.root,e,this.comparator,!0)}}class nl{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rl.RED,this.left=null!=r?r:rl.EMPTY,this.right=null!=i?i:rl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new rl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return rl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw us();if(this.right.isRed())throw us();const e=this.left.check();if(e!==this.right.check())throw us();return e+(this.isRed()?0:1)}}rl.EMPTY=null,rl.RED=!0,rl.BLACK=!1,rl.EMPTY=new class{constructor(){this.size=0}get key(){throw us()}get value(){throw us()}get color(){throw us()}get left(){throw us()}get right(){throw us()}copy(e,t,n,r,i){return this}insert(e,t,n){return new rl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class il{constructor(e){this.comparator=e,this.data=new tl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new al(this.data.getIterator())}getIteratorFrom(e){return new al(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof il))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new il(this.comparator);return t.data=e,t}}class al{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ol{constructor(e){this.fields=e,e.sort(Rs.comparator)}static empty(){return new ol([])}unionWith(e){let t=new il(Rs.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ol(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class sl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ll{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new sl("Invalid base64 string: "+e):e}}(e);return new ll(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ll(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ll.EMPTY_BYTE_STRING=new ll("");const cl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(e){if(ds(!!e),"string"==typeof e){let t=0;const n=cl.exec(e);if(ds(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:dl(e.seconds),nanos:dl(e.nanos)}}function dl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function hl(e){return"string"==typeof e?ll.fromBase64String(e):ll.fromUint8Array(e)}function fl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pl(e){const t=e.mapValue.fields.__previous_value__;return fl(t)?pl(t):t}function gl(e){const t=ul(e.mapValue.fields.__local_write_time__.timestampValue);return new Is(t.seconds,t.nanos)}class ml{constructor(e,t,n,r,i,a,o,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l}}class vl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}const yl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function bl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fl(e)?4:Pl(e)?9007199254740991:10:us()}function wl(e,t){if(e===t)return!0;const n=bl(e);if(n!==bl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gl(e).isEqual(gl(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ul(e.timestampValue),r=ul(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return hl(e.bytesValue).isEqual(hl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return dl(e.geoPointValue.latitude)===dl(t.geoPointValue.latitude)&&dl(e.geoPointValue.longitude)===dl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return dl(e.integerValue)===dl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=dl(e.doubleValue),r=dl(t.doubleValue);return n===r?Gs(n)===Gs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ts(e.arrayValue.values||[],t.arrayValue.values||[],wl);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Js(n)!==Js(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wl(n[i],r[i])))return!1;return!0}(e,t);default:return us()}}function xl(e,t){return void 0!==(e.values||[]).find((e=>wl(e,t)))}function kl(e,t){if(e===t)return 0;const n=bl(e),r=bl(t);if(n!==r)return Cs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cs(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=dl(e.integerValue||e.doubleValue),r=dl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return El(e.timestampValue,t.timestampValue);case 4:return El(gl(e),gl(t));case 5:return Cs(e.stringValue,t.stringValue);case 6:return function(e,t){const n=hl(e),r=hl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Cs(n[i],r[i]);if(0!==e)return e}return Cs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Cs(dl(e.latitude),dl(t.latitude));return 0!==n?n:Cs(dl(e.longitude),dl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=kl(n[i],r[i]);if(e)return e}return Cs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===yl.mapValue&&t===yl.mapValue)return 0;if(e===yl.mapValue)return 1;if(t===yl.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=Cs(r[o],a[o]);if(0!==e)return e;const t=kl(n[r[o]],i[a[o]]);if(0!==t)return t}return Cs(r.length,a.length)}(e.mapValue,t.mapValue);default:throw us()}}function El(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cs(e,t);const n=ul(e),r=ul(t),i=Cs(n.seconds,r.seconds);return 0!==i?i:Cs(n.nanos,r.nanos)}function _l(e){return Sl(e)}function Sl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ul(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?hl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Os.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Sl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Sl(e.fields[i]));return n+"}"}(e.mapValue):us();var t,n}function Cl(e){return!!e&&"integerValue"in e}function Tl(e){return!!e&&"arrayValue"in e}function Il(e){return!!e&&"nullValue"in e}function Nl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Al(e){return!!e&&"mapValue"in e}function Dl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Zs(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Dl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Dl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Pl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Rl{constructor(e){this.value=e}static empty(){return new Rl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Al(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(t)}setAll(e){let t=Rs.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Dl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Al(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Al(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Zs(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Rl(Dl(this.value))}}function Ol(e){const t=[];return Zs(e.fields,((e,n)=>{const r=new Rs([e]);if(Al(n)){const e=Ol(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ol(t)}class Ll{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ll(e,0,Ns.min(),Ns.min(),Ns.min(),Rl.empty(),0)}static newFoundDocument(e,t,n,r){return new Ll(e,1,t,Ns.min(),n,r,0)}static newNoDocument(e,t){return new Ll(e,2,t,Ns.min(),Ns.min(),Rl.empty(),0)}static newUnknownDocument(e,t){return new Ll(e,3,t,Ns.min(),Ns.min(),Rl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ns.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ns.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ll&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ll(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class jl{constructor(e,t){this.position=e,this.inclusive=t}}function Ml(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Os.comparator(Os.fromName(o.referenceValue),n.key):kl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Fl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!wl(e.position[n],t.position[n]))return!1;return!0}class Ul{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Vl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class zl{}class Bl extends zl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new $l(e,t,n):"array-contains"===t?new ec(e,n):"in"===t?new tc(e,n):"not-in"===t?new nc(e,n):"array-contains-any"===t?new rc(e,n):new Bl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Xl(e,n):new Jl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kl(t,this.value)):null!==t&&bl(this.value)===bl(t)&&this.matchesComparison(kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return us()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ql extends zl{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ql(e,t)}matches(e){return Hl(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Hl(e){return"and"===e.op}function Kl(e){return Wl(e)&&Hl(e)}function Wl(e){for(const t of e.filters)if(t instanceof ql)return!1;return!0}function Gl(e){if(e instanceof Bl)return e.field.canonicalString()+e.op.toString()+_l(e.value);if(Kl(e))return e.filters.map((e=>Gl(e))).join(",");{const t=e.filters.map((e=>Gl(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ql(e,t){return e instanceof Bl?function(e,t){return t instanceof Bl&&e.op===t.op&&e.field.isEqual(t.field)&&wl(e.value,t.value)}(e,t):e instanceof ql?function(e,t){return t instanceof ql&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ql(n,t.filters[r])),!0)}(e,t):void us()}function Yl(e){return e instanceof Bl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(_l(e.value))}(e):e instanceof ql?function(e){return e.op.toString()+" {"+e.getFilters().map(Yl).join(" ,")+"}"}(e):"Filter"}class $l extends Bl{constructor(e,t,n){super(e,t,n),this.key=Os.fromName(n.referenceValue)}matches(e){const t=Os.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xl extends Bl{constructor(e,t){super(e,"in",t),this.keys=Zl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Jl extends Bl{constructor(e,t){super(e,"not-in",t),this.keys=Zl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Zl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Os.fromName(e.referenceValue)))}class ec extends Bl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tl(t)&&xl(t.arrayValue,this.value)}}class tc extends Bl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xl(this.value.arrayValue,t)}}class nc extends Bl{constructor(e,t){super(e,"not-in",t)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xl(this.value.arrayValue,t)}}class rc extends Bl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tl(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>xl(this.value.arrayValue,e)))}}class ic{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.dt=null}}function ac(e){return new ic(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function oc(e){const t=hs(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Gl(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ws(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>_l(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>_l(e))).join(",")),t.dt=e}return t.dt}function sc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Vl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ql(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fl(e.startAt,t.startAt)&&Fl(e.endAt,t.endAt)}function lc(e){return Os.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class cc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}}function uc(e,t,n,r,i,a,o,s){return new cc(e,t,n,r,i,a,o,s)}function dc(e){return new cc(e)}function hc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function fc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function pc(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function gc(e){return null!==e.collectionGroup}function mc(e){const t=hs(e);if(null===t.wt){t.wt=[];const e=pc(t),n=fc(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Ul(e)),t.wt.push(new Ul(Rs.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Ul(Rs.keyField(),e))}}}return t.wt}function vc(e){const t=hs(e);if(!t._t)if("F"===t.limitType)t._t=ac(t.path,t.collectionGroup,mc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of mc(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Ul(i.field,t))}const n=t.endAt?new jl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jl(t.startAt.position,t.startAt.inclusive):null;t._t=ac(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function yc(e,t,n){return new cc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bc(e,t){return sc(vc(e),vc(t))&&e.limitType===t.limitType}function wc(e){return"".concat(oc(vc(e)),"|lt:").concat(e.limitType)}function xc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Yl(e))).join(", "),"]")),Ws(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>_l(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>_l(e))).join(",")),"Target(".concat(t,")")}(vc(e)),"; limitType=").concat(e.limitType,")")}function kc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Os.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of mc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ml(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,mc(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ml(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,mc(e),t))}(e,t)}function Ec(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _c(e){return(t,n)=>{let r=!1;for(const i of mc(e)){const e=Sc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Sc(e,t,n){const r=e.field.isKeyField()?Os.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?kl(r,i):us()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return us()}}class Cc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return el(this.inner)}size(){return this.innerSize}}const Tc=new tl(Os.comparator);function Ic(){return Tc}const Nc=new tl(Os.comparator);function Ac(){let e=Nc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Dc(e){let t=Nc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Pc(){return Oc()}function Rc(){return Oc()}function Oc(){return new Cc((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Lc=new tl(Os.comparator),jc=new il(Os.comparator);function Mc(){let e=jc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Fc=new il(Cs);function Uc(){return Fc}function Vc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gs(t)?"-0":t}}function zc(e){return{integerValue:""+e}}function Bc(e,t){return Qs(t)?zc(t):Vc(e,t)}class qc{constructor(){this._=void 0}}function Hc(e,t,n){return e instanceof Gc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&fl(t)&&(t=pl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Qc?Yc(e,t):e instanceof $c?Xc(e,t):function(e,t){const n=Wc(e,t),r=Zc(n)+Zc(e.gt);return Cl(n)&&Cl(e.gt)?zc(r):Vc(e.serializer,r)}(e,t)}function Kc(e,t,n){return e instanceof Qc?Yc(e,t):e instanceof $c?Xc(e,t):n}function Wc(e,t){return e instanceof Jc?Cl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Gc extends qc{}class Qc extends qc{constructor(e){super(),this.elements=e}}function Yc(e,t){const n=eu(t);for(const r of e.elements)n.some((e=>wl(e,r)))||n.push(r);return{arrayValue:{values:n}}}class $c extends qc{constructor(e){super(),this.elements=e}}function Xc(e,t){let n=eu(t);for(const r of e.elements)n=n.filter((e=>!wl(e,r)));return{arrayValue:{values:n}}}class Jc extends qc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Zc(e){return dl(e.integerValue||e.doubleValue)}function eu(e){return Tl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class tu{constructor(e,t){this.version=e,this.transformResults=t}}class nu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nu}static exists(e){return new nu(void 0,e)}static updateTime(e){return new nu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ru(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class iu{}function au(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new gu(e.key,nu.none()):new uu(e.key,e.data,nu.none());{const n=e.data,r=Rl.empty();let i=new il(Rs.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new du(e.key,r,new ol(i.toArray()),nu.none())}}function ou(e,t,n){e instanceof uu?function(e,t,n){const r=e.value.clone(),i=fu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof du?function(e,t,n){if(!ru(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=fu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function su(e,t,n,r){return e instanceof uu?function(e,t,n,r){if(!ru(e.precondition,t))return n;const i=e.value.clone(),a=pu(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof du?function(e,t,n,r){if(!ru(e.precondition,t))return n;const i=pu(e.fieldTransforms,r,t),a=t.data;return a.setAll(hu(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ru(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function lu(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Wc(r.transform,e||null);null!=i&&(null===n&&(n=Rl.empty()),n.set(r.field,i))}return n||null}function cu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ts(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qc&&t instanceof Qc||e instanceof $c&&t instanceof $c?Ts(e.elements,t.elements,wl):e instanceof Jc&&t instanceof Jc?wl(e.gt,t.gt):e instanceof Gc&&t instanceof Gc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class uu extends iu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class du extends iu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function fu(e,t,n){const r=new Map;ds(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Kc(o,s,n[i]))}return r}function pu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Hc(e,a,t))}return r}class gu extends iu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mu extends iu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&ou(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=su(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=su(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Rc();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=au(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(Ns.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Mc())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,((e,t)=>cu(e,t)))&&Ts(this.baseMutations,e.baseMutations,((e,t)=>cu(e,t)))}}class yu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ds(e.mutations.length===n.length);let r=Lc;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new yu(e,t,n,r)}}class bu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class wu{constructor(e,t){this.count=e,this.unchangedNames=t}}var xu,ku;function Eu(e){switch(e){default:return us();case fs.CANCELLED:case fs.UNKNOWN:case fs.DEADLINE_EXCEEDED:case fs.RESOURCE_EXHAUSTED:case fs.INTERNAL:case fs.UNAVAILABLE:case fs.UNAUTHENTICATED:return!1;case fs.INVALID_ARGUMENT:case fs.NOT_FOUND:case fs.ALREADY_EXISTS:case fs.PERMISSION_DENIED:case fs.FAILED_PRECONDITION:case fs.ABORTED:case fs.OUT_OF_RANGE:case fs.UNIMPLEMENTED:case fs.DATA_LOSS:return!0}}function _u(e){if(void 0===e)return ss("GRPC error has no .code"),fs.UNKNOWN;switch(e){case xu.OK:return fs.OK;case xu.CANCELLED:return fs.CANCELLED;case xu.UNKNOWN:return fs.UNKNOWN;case xu.DEADLINE_EXCEEDED:return fs.DEADLINE_EXCEEDED;case xu.RESOURCE_EXHAUSTED:return fs.RESOURCE_EXHAUSTED;case xu.INTERNAL:return fs.INTERNAL;case xu.UNAVAILABLE:return fs.UNAVAILABLE;case xu.UNAUTHENTICATED:return fs.UNAUTHENTICATED;case xu.INVALID_ARGUMENT:return fs.INVALID_ARGUMENT;case xu.NOT_FOUND:return fs.NOT_FOUND;case xu.ALREADY_EXISTS:return fs.ALREADY_EXISTS;case xu.PERMISSION_DENIED:return fs.PERMISSION_DENIED;case xu.FAILED_PRECONDITION:return fs.FAILED_PRECONDITION;case xu.ABORTED:return fs.ABORTED;case xu.OUT_OF_RANGE:return fs.OUT_OF_RANGE;case xu.UNIMPLEMENTED:return fs.UNIMPLEMENTED;case xu.DATA_LOSS:return fs.DATA_LOSS;default:return us()}}(ku=xu||(xu={}))[ku.OK=0]="OK",ku[ku.CANCELLED=1]="CANCELLED",ku[ku.UNKNOWN=2]="UNKNOWN",ku[ku.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ku[ku.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ku[ku.NOT_FOUND=5]="NOT_FOUND",ku[ku.ALREADY_EXISTS=6]="ALREADY_EXISTS",ku[ku.PERMISSION_DENIED=7]="PERMISSION_DENIED",ku[ku.UNAUTHENTICATED=16]="UNAUTHENTICATED",ku[ku.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ku[ku.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ku[ku.ABORTED=10]="ABORTED",ku[ku.OUT_OF_RANGE=11]="OUT_OF_RANGE",ku[ku.UNIMPLEMENTED=12]="UNIMPLEMENTED",ku[ku.INTERNAL=13]="INTERNAL",ku[ku.UNAVAILABLE=14]="UNAVAILABLE",ku[ku.DATA_LOSS=15]="DATA_LOSS";class Su{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Cu}static getOrCreateInstance(){return null===Cu&&(Cu=new Su),Cu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Cu=null;function Tu(){return new TextEncoder}const Iu=new es([4294967295,4294967295],0);function Nu(e){const t=Tu().encode(e),n=new Zo;return n.update(t),new Uint8Array(n.digest())}function Au(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new es([n,r],0),new es([i,a],0)]}class Du{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Pu("Invalid padding: ".concat(t));if(n<0)throw new Pu("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Pu("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Pu("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=es.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(es.fromNumber(n)));return 1===r.compare(Iu)&&(r=new es([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Nu(e),[n,r]=Au(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Du(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.It)return;const t=Nu(e),[n,r]=Au(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ru{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ru(Ns.min(),r,new tl(Cs),Ic(),Mc())}}class Ou{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ou(n,t,Mc(),Mc(),Mc())}}class Lu{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class ju{constructor(e,t){this.targetId=e,this.Vt=t}}class Mu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ll.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Fu{constructor(){this.St=0,this.Dt=zu(),this.Ct=ll.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Mc(),t=Mc(),n=Mc();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:us()}})),new Ou(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=zu()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Uu{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ic(),this.zt=Vu(),this.Wt=new tl(Cs)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:us()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const a=i.target;if(lc(a))if(0===r){const e=new Os(a.path);this.Yt(n,e,Ll.newNoDocument(e,Ns.min()))}else ds(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Su.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(l=null===(s=null==u?void 0:u.bits)||void 0===s?void 0:s.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=n;let s,l;try{s=hl(i).toUint8Array()}catch(e){if(e instanceof sl)return ls("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new Du(s,a,o)}catch(e){return ls(e instanceof Pu?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(a)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&lc(i.target)){const t=new Os(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Ll.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Mc();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Ru(e,t,this.Wt,this.jt,n);return this.jt=Ic(),this.zt=Vu(),this.Wt=new tl(Cs),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Fu,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new il(Cs),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||os("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Fu),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Vu(){return new tl(Os.comparator)}function zu(){return new tl(Os.comparator)}const Bu={asc:"ASCENDING",desc:"DESCENDING"},qu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hu={and:"AND",or:"OR"};class Ku{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wu(e,t){return e.useProto3Json||Ws(t)?t:{value:t}}function Gu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Qu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Yu(e,t){return Gu(e,t.toTimestamp())}function $u(e){return ds(!!e),Ns.fromTimestamp(function(e){const t=ul(e);return new Is(t.seconds,t.nanos)}(e))}function Xu(e,t){return function(e){return new Ds(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ju(e){const t=Ds.fromString(e);return ds(yd(t)),t}function Zu(e,t){return Xu(e.databaseId,t.path)}function ed(e,t){const n=Ju(t);if(n.get(1)!==e.databaseId.projectId)throw new ps(fs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ps(fs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Os(id(n))}function td(e,t){return Xu(e.databaseId,t)}function nd(e){const t=Ju(e);return 4===t.length?Ds.emptyPath():id(t)}function rd(e){return new Ds(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function id(e){return ds(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ad(e,t,n){return{name:Zu(e,t),fields:n.value.mapValue.fields}}function od(e,t){let n;if(t instanceof uu)n={update:ad(e,t.key,t.value)};else if(t instanceof gu)n={delete:Zu(e,t.key)};else if(t instanceof du)n={update:ad(e,t.key,t.data),updateMask:vd(t.fieldMask)};else{if(!(t instanceof mu))return us();n={verify:Zu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Gc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $c)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Jc)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw us()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Yu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:us()}(e,t.precondition)),n}function sd(e,t){return{documents:[td(e,t.path)]}}function ld(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=td(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=td(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return md(ql.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:pd(e.field),direction:dd(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Wu(e,t.limit);var s;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(s=t.startAt).inclusive,values:s.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function cd(e){let t=nd(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ds(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=ud(e);return t instanceof ql&&Kl(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new Ul(gd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Ws(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new jl(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new jl(n,t)}(n.endAt)),uc(t,i,o,a,s,"F",l,c)}function ud(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=gd(e.unaryFilter.field);return Bl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=gd(e.unaryFilter.field);return Bl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gd(e.unaryFilter.field);return Bl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=gd(e.unaryFilter.field);return Bl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return us()}}(e):void 0!==e.fieldFilter?function(e){return Bl.create(gd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return us()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ql.create(e.compositeFilter.filters.map((e=>ud(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return us()}}(e.compositeFilter.op))}(e):us()}function dd(e){return Bu[e]}function hd(e){return qu[e]}function fd(e){return Hu[e]}function pd(e){return{fieldPath:e.canonicalString()}}function gd(e){return Rs.fromServerFormat(e.fieldPath)}function md(e){return e instanceof Bl?function(e){if("=="===e.op){if(Nl(e.value))return{unaryFilter:{field:pd(e.field),op:"IS_NAN"}};if(Il(e.value))return{unaryFilter:{field:pd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Nl(e.value))return{unaryFilter:{field:pd(e.field),op:"IS_NOT_NAN"}};if(Il(e.value))return{unaryFilter:{field:pd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pd(e.field),op:hd(e.op),value:e.value}}}(e):e instanceof ql?function(e){const t=e.getFilters().map((e=>md(e)));return 1===t.length?t[0]:{compositeFilter:{op:fd(e.op),filters:t}}}(e):us()}function vd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function yd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class bd{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ns.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ns.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ll.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new bd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wd{constructor(e){this.fe=e}}function xd(e){const t=cd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yc(t,t.limit,"L"):t}class kd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(dl(e.integerValue));else if("doubleValue"in e){const n=dl(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Gs(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(hl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Pl(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):us()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Os.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}kd.Ve=new kd;class Ed{constructor(){this.rn=new _d}addToCollectionParentIndex(e,t){return this.rn.add(t),qs.resolve()}getCollectionParents(e,t){return qs.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return qs.resolve()}deleteFieldIndex(e,t){return qs.resolve()}getDocumentsMatchingTarget(e,t){return qs.resolve(null)}getIndexType(e,t){return qs.resolve(0)}getFieldIndexes(e,t){return qs.resolve([])}getNextCollectionGroupToUpdate(e){return qs.resolve(null)}getMinOffset(e,t){return qs.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return qs.resolve(Fs.min())}updateCollectionGroup(e,t,n){return qs.resolve()}updateIndexEntries(e,t){return qs.resolve()}}class _d{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new il(Ds.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new il(Ds.comparator)).toArray()}}new Uint8Array(0);class Sd{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Sd(e,Sd.DEFAULT_COLLECTION_PERCENTILE,Sd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Sd.DEFAULT_COLLECTION_PERCENTILE=10,Sd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sd.DEFAULT=new Sd(41943040,Sd.DEFAULT_COLLECTION_PERCENTILE,Sd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sd.DISABLED=new Sd(-1,0,0);class Cd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Cd(0)}static Mn(){return new Cd(-1)}}class Td{constructor(){this.changes=new Cc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ll.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?qs.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Id{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Nd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&su(n.mutation,e,ol.empty(),Is.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Mc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mc();const r=Pc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ac();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Pc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Mc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ic();const a=Oc(),o=Oc();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof du)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),su(o.mutation,t,o.mutation.getFieldMask(),Is.now())):a.set(t.key,ol.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Id(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Oc();let r=new tl(((e,t)=>e-t)),i=Mc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||ol.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||Mc()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=Rc();l.forEach((e=>{if(!i.has(e)){const r=au(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return qs.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Os.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):qs.resolve(Pc());let o=-1,s=i;return a.next((t=>qs.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?qs.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Mc()))).next((e=>({batchId:o,changes:Dc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Os(t)).next((e=>{let t=Ac();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Ac();return this.indexManager.getCollectionParents(e,r).next((a=>qs.forEach(a,(a=>{const o=function(e,t){return new cc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ll.newInvalidDocument(r)))}));let n=Ac();return e.forEach(((e,i)=>{const a=r.get(e);void 0!==a&&su(a.mutation,i,ol.empty(),Is.now()),kc(t,i)&&(n=n.insert(e,i))})),n}))}}class Ad{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return qs.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:$u(n.createTime)}),qs.resolve()}getNamedQuery(e,t){return qs.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:xd(e.bundledQuery),readTime:$u(e.readTime)}}(t)),qs.resolve()}}class Dd{constructor(){this.overlays=new tl(Os.comparator),this.ls=new Map}getOverlay(e,t){return qs.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Pc();return qs.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),qs.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),qs.resolve()}getOverlaysForCollection(e,t,n){const r=Pc(),i=t.length+1,a=new Os(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return qs.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new tl(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Pc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Pc(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return qs.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new bu(t,n));let i=this.ls.get(t);void 0===i&&(i=Mc(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class Pd{constructor(){this.fs=new il(Rd.ds),this.ws=new il(Rd._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Rd(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Rd(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new Os(new Ds([])),n=new Rd(t,e),r=new Rd(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Os(new Ds([])),n=new Rd(t,e),r=new Rd(t,e+1);let i=Mc();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Rd(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Rd{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Os.comparator(e.key,t.key)||Cs(e.As,t.As)}static _s(e,t){return Cs(e.As,t.As)||Os.comparator(e.key,t.key)}}class Od{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new il(Rd.ds)}checkEmpty(e){return qs.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new vu(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Rs=this.Rs.add(new Rd(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return qs.resolve(a)}lookupMutationBatch(e,t){return qs.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return qs.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return qs.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return qs.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Rd(t,0),r=new Rd(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),qs.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new il(Cs);return t.forEach((e=>{const t=new Rd(e,0),r=new Rd(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),qs.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Os.isDocumentKey(i)||(i=i.child(""));const a=new Rd(new Os(i),0);let o=new il(Cs);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),qs.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ds(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return qs.forEach(t.mutations,(r=>{const i=new Rd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Rd(t,0),r=this.Rs.firstAfterOrEqual(n);return qs.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,qs.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ld{constructor(e){this.Ds=e,this.docs=new tl(Os.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return qs.resolve(n?n.document.mutableCopy():Ll.newInvalidDocument(t))}getEntries(e,t){let n=Ic();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Ll.newInvalidDocument(e))})),qs.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ic();const a=t.path,o=new Os(a.child("")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Us(Ms(o),n)<=0||(r.has(o.key)||kc(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return qs.resolve(i)}getAllFromCollectionGroup(e,t,n,r){us()}Cs(e,t){return qs.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new jd(this)}getSize(e){return qs.resolve(this.size)}}class jd extends Td{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),qs.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Md{constructor(e){this.persistence=e,this.xs=new Cc((e=>oc(e)),sc),this.lastRemoteSnapshotVersion=Ns.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Pd,this.targetCount=0,this.Ms=Cd.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),qs.resolve()}getLastRemoteSnapshotVersion(e){return qs.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qs.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),qs.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),qs.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Cd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,qs.resolve()}updateTargetData(e,t){return this.Fn(t),qs.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,qs.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),qs.waitFor(i).next((()=>r))}getTargetCount(e){return qs.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return qs.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),qs.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),qs.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),qs.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return qs.resolve(n)}containsKey(e,t){return qs.resolve(this.ks.containsKey(t))}}class Fd{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ks(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Md(this),this.indexManager=new Ed,this.remoteDocumentCache=function(e){return new Ld(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new wd(t),this.qs=new Ad(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Od(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){os("MemoryPersistence","Starting transaction:",e);const r=new Ud(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return qs.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Ud extends zs{constructor(e){super(),this.currentSequenceNumber=e}}class Vd{constructor(e){this.persistence=e,this.Qs=new Pd,this.js=null}static zs(e){return new Vd(e)}get Ws(){if(this.js)return this.js;throw us()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),qs.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),qs.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),qs.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qs.forEach(this.Ws,(n=>{const r=Os.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Ns.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return qs.or([()=>qs.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class zd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Mc(),r=Mc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new zd(e,t.fromCache,n,r)}}class Bd{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(hc(t))return qs.resolve(null);let n=vc(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=yc(t,null,"F"),n=vc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Mc(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.ji(t,r);return this.zi(t,a,i,n.readTime)?this.Ki(e,yc(t,null,"F")):this.Wi(e,a,t,n)}))))})))))}Gi(e,t,n,r){return hc(t)||r.isEqual(Ns.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const a=this.ji(t,i);return this.zi(t,a,n,r)?this.Qi(e,t):(as()<=pt.DEBUG&&os("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xc(t)),this.Wi(e,a,t,js(r,-1)))}))}ji(e,t){let n=new il(_c(e));return t.forEach(((t,r)=>{kc(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return as()<=pt.DEBUG&&os("QueryEngine","Using full collection scan to execute query:",xc(t)),this.Ui.getDocumentsMatchingQuery(e,t,Fs.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class qd{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new tl(Cs),this.Yi=new Cc((e=>oc(e)),sc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nd(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Hd(e,t,n,r){return new qd(e,t,n,r)}async function Kd(e,t){const n=hs(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let o=Mc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({er:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function Wd(e){const t=hs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function Gd(e,t,n){let r=Mc(),i=Mc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ic();return n.forEach(((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Ns.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):os("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function Qd(e,t){const n=hs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Yd(e,t){const n=hs(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,qs.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new bd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function $d(e,t,n){const r=hs(e),i=r.Ji.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Hs(e))throw e;os("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Xd(e,t,n){const r=hs(e);let i=Ns.min(),a=Mc();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=hs(e),i=r.Yi.get(n);return void 0!==i?qs.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,vc(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Ns.min(),n?a:Mc()))).next((e=>(Jd(r,Ec(t),e),{documents:e,ir:a})))))}function Jd(e,t,n){let r=e.Xi.get(t)||Ns.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class Zd{constructor(){this.activeTargetIds=Uc()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eh{constructor(){this.Hr=new Zd,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Zd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class th{Yr(e){}shutdown(){}}class nh{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){os("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){os("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rh=null;function ih(){return null===rh?rh=268435456+Math.round(2147483648*Math.random()):rh++,"0x"+rh.toString(16)}const ah={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oh{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const sh="WebChannelConnection";class lh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const a=ih(),o=this.To(e,t);os("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={};return this.Eo(s,r,i),this.Ao(e,o,s,n).then((t=>(os("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t)),(t=>{throw ls("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=ah[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=ih();return new Promise(((a,o)=>{const s=new Jo;s.setWithCredentials(!0),s.listenOnce(Go.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Wo.NO_ERROR:const t=s.getResponseJson();os(sh,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Wo.TIMEOUT:os(sh,"RPC '".concat(e,"' ").concat(i," timed out")),o(new ps(fs.DEADLINE_EXCEEDED,"Request time out"));break;case Wo.HTTP_ERROR:const n=s.getStatus();if(os(sh,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(fs).indexOf(t)>=0?t:fs.UNKNOWN}(t.status);o(new ps(e,t.message))}else o(new ps(fs.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ps(fs.UNAVAILABLE,"Connection failed."));break;default:us()}}finally{os(sh,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);os(sh,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=ih(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ho(),o=Ko(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.xmlHttpFactory=new $o({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");os(sh,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);let d=!1,h=!1;const f=new oh({ro:t=>{h?os(sh,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(os(sh,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),os(sh,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Xo.EventType.OPEN,(()=>{h||os(sh,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Xo.EventType.CLOSE,(()=>{h||(h=!0,os(sh,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(u,Xo.EventType.ERROR,(t=>{h||(h=!0,ls(sh,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new ps(fs.UNAVAILABLE,"The operation could not be completed")))})),p(u,Xo.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];ds(!!i);const a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){os(sh,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=xu[e];if(void 0!==t)return _u(t)}(t),i=o.message;void 0===n&&(n=fs.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.wo(new ps(n,i)),u.close()}else os(sh,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(o,Qo.STAT_EVENT,(t=>{t.stat===Yo.PROXY?os(sh,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Yo.NOPROXY&&os(sh,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function ch(){return"undefined"!=typeof document?document:null}function uh(e){return new Ku(e,!0)}class dh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&os("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class hh{constructor(e,t,n,r,i,a,o,s){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new dh(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===fs.RESOURCE_EXHAUSTED?(ss(t.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===fs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new ps(fs.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return os("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(os("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fh extends hh{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:us()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(ds(void 0===t||"string"==typeof t),ll.fromBase64String(t||"")):(ds(void 0===t||t instanceof Uint8Array),ll.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?fs.UNKNOWN:_u(e.code);return new ps(t,e.message||"")}(o);n=new Mu(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ed(e,r.document.name),a=$u(r.document.updateTime),o=r.document.createTime?$u(r.document.createTime):Ns.min(),s=new Rl({mapValue:{fields:r.document.fields}}),l=Ll.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Lu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ed(e,r.document),a=r.readTime?$u(r.readTime):Ns.min(),o=Ll.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Lu([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ed(e,r.document),a=r.removedTargetIds||[];n=new Lu([],a,i,null)}else{if(!("filter"in t))return us();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new wu(r,i),o=e.targetId;n=new ju(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Ns.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Ns.min():t.readTime?$u(t.readTime):Ns.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=rd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=lc(r)?{documents:sd(e,r)}:{query:ld(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Qu(e,t.resumeToken);const r=Wu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Ns.min())>0){n.readTime=Gu(e,t.snapshotVersion.toTimestamp());const r=Wu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return us()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=rd(this.serializer),t.removeTarget=e,this.Wo(t)}}class ph extends hh{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ds(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(ds(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?$u(e.updateTime):$u(t);return n.isEqual(Ns.min())&&(n=$u(t)),new tu(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=$u(e.commitTime);return this.listener.cu(n,t)}return ds(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=rd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>od(this.serializer,e)))};this.Wo(t)}}class gh extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ps(fs.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,a]=r;return this.connection.Io(e,t,n,i,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ps(fs.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,o]=i;return this.connection.vo(e,t,n,a,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===fs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ps(fs.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class mh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(ss(t),this.mu=!1):os("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class vh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{Ch(this)&&(os("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=hs(e);t.vu.add(4),await bh(t),t.bu.set("Unknown"),t.vu.delete(4),await yh(t)}(this))}))})),this.bu=new mh(n,r)}}async function yh(e){if(Ch(e))for(const t of e.Ru)await t(!0)}async function bh(e){for(const t of e.Ru)await t(!1)}function wh(e,t){const n=hs(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Sh(n)?_h(n):Hh(n).Ko()&&kh(n,t))}function xh(e,t){const n=hs(e),r=Hh(n);n.Au.delete(t),r.Ko()&&Eh(n,t),0===n.Au.size&&(r.Ko()?r.jo():Ch(n)&&n.bu.set("Unknown"))}function kh(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ns.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Hh(e).su(t)}function Eh(e,t){e.Vu.qt(t),Hh(e).iu(t)}function _h(e){e.Vu=new Uu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Hh(e).start(),e.bu.gu()}function Sh(e){return Ch(e)&&!Hh(e).Uo()&&e.Au.size>0}function Ch(e){return 0===hs(e).vu.size}function Th(e){e.Vu=void 0}async function Ih(e){e.Au.forEach(((t,n)=>{kh(e,t)}))}async function Nh(e,t){Th(e),Sh(e)?(e.bu.Iu(t),_h(e)):e.bu.set("Unknown")}async function Ah(e,t,n){if(e.bu.set("Online"),t instanceof Mu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){os("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Dh(e,n)}else if(t instanceof Lu?e.Vu.Ht(t):t instanceof ju?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Ns.min()))try{const t=await Wd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(ll.EMPTY_BYTE_STRING,r.snapshotVersion)),Eh(e,t);const i=new bd(r.target,t,n,r.sequenceNumber);kh(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){os("RemoteStore","Failed to raise snapshot:",t),await Dh(e,t)}}async function Dh(e,t,n){if(!Hs(t))throw t;e.vu.add(1),await bh(e),e.bu.set("Offline"),n||(n=()=>Wd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{os("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await yh(e)}))}function Ph(e,t){return t().catch((n=>Dh(e,n,t)))}async function Rh(e){const t=hs(e),n=Kh(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Oh(t);)try{const e=await Qd(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,Lh(t,e)}catch(e){await Dh(t,e)}jh(t)&&Mh(t)}function Oh(e){return Ch(e)&&e.Eu.length<10}function Lh(e,t){e.Eu.push(t);const n=Kh(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function jh(e){return Ch(e)&&!Kh(e).Uo()&&e.Eu.length>0}function Mh(e){Kh(e).start()}async function Fh(e){Kh(e).hu()}async function Uh(e){const t=Kh(e);for(const n of e.Eu)t.uu(n.mutations)}async function Vh(e,t,n){const r=e.Eu.shift(),i=yu.from(r,t,n);await Ph(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Rh(e)}async function zh(e,t){t&&Kh(e).ou&&await async function(e,t){if(Eu(n=t.code)&&n!==fs.ABORTED){const n=e.Eu.shift();Kh(e).Qo(),await Ph(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Rh(e)}var n}(e,t),jh(e)&&Mh(e)}async function Bh(e,t){const n=hs(e);n.asyncQueue.verifyOperationInProgress(),os("RemoteStore","RemoteStore received new credentials");const r=Ch(n);n.vu.add(3),await bh(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await yh(n)}async function qh(e,t){const n=hs(e);t?(n.vu.delete(2),await yh(n)):t||(n.vu.add(2),await bh(n),n.bu.set("Unknown"))}function Hh(e){return e.Su||(e.Su=function(e,t,n){const r=hs(e);return r.fu(),new fh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Ih.bind(null,e),ao:Nh.bind(null,e),nu:Ah.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),Sh(e)?_h(e):e.bu.set("Unknown")):(await e.Su.stop(),Th(e))}))),e.Su}function Kh(e){return e.Du||(e.Du=function(e,t,n){const r=hs(e);return r.fu(),new ph(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Fh.bind(null,e),ao:zh.bind(null,e),au:Uh.bind(null,e),cu:Vh.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await Rh(e)):(await e.Du.stop(),e.Eu.length>0&&(os("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class Wh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new Wh(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ps(fs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gh(e,t){if(ss("AsyncQueue","".concat(t,": ").concat(e)),Hs(e))return new ps(fs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Qh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Os.comparator(t.key,n.key):(e,t)=>Os.comparator(e.key,t.key),this.keyedMap=Ac(),this.sortedSet=new tl(this.comparator)}static emptySet(e){return new Qh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Qh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Yh{constructor(){this.Cu=new tl(Os.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):us():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class $h{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new $h(e,t,Qh.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Xh{constructor(){this.Nu=void 0,this.listeners=[]}}class Jh{constructor(){this.queries=new Cc((e=>wc(e)),bc),this.onlineState="Unknown",this.ku=new Set}}async function Zh(e,t){const n=hs(e),r=t.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new Xh),i)try{a.Nu=await n.onListen(r)}catch(e){const n=Gh(e,"Initialization of query '".concat(xc(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,a),a.listeners.push(t),t.Mu(n.onlineState),a.Nu&&t.$u(a.Nu)&&rf(n)}async function ef(e,t){const n=hs(e),r=t.query;let i=!1;const a=n.queries.get(r);if(a){const e=a.listeners.indexOf(t);e>=0&&(a.listeners.splice(e,1),i=0===a.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function tf(e,t){const n=hs(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&rf(n)}function nf(e,t,n){const r=hs(e),i=r.queries.get(t);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(t)}function rf(e){e.ku.forEach((e=>{e.next()}))}class af{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new $h(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=$h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class of{constructor(e){this.key=e}}class sf{constructor(e){this.key=e}}class lf{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Mc(),this.mutatedKeys=Mc(),this.tc=_c(e),this.ec=new Qh(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Yh,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=kc(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.tc(u,s)>0||l&&this.tc(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:a,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return us()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const a=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,s=o!==this.Xu;return this.Xu=o,0!==i.length||s?{snapshot:new $h(this.query,e.ec,r,i,e.mutatedKeys,0===o,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Yh,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Mc(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new sf(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new of(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Mc();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return $h.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class cf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class uf{constructor(e){this.key=e,this.fc=!1}}class df{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new Cc((e=>wc(e)),bc),this._c=new Map,this.mc=new Set,this.gc=new tl(Os.comparator),this.yc=new Map,this.Ic=new Pd,this.Tc={},this.Ec=new Map,this.Ac=Cd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function hf(e,t){const n=Af(e);let r,i;const a=n.wc.get(t);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const e=await Yd(n.localStore,vc(t)),a=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await ff(n,t,r,"current"===a,e.resumeToken),n.isPrimaryClient&&wh(n.remoteStore,e)}return i}async function ff(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Xd(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const a=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a);return _f(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const a=await Xd(e.localStore,t,!0),o=new lf(t,a.ir),s=o.sc(a.documents),l=Ou.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);_f(e,n,c.cc);const u=new cf(t,n,o);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function pf(e,t){const n=hs(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!bc(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await $d(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),xh(n.remoteStore,r.targetId),kf(n,r.targetId)})).catch(Bs)):(kf(n,r.targetId),await $d(n.localStore,r.targetId,!0))}async function gf(e,t){const n=hs(e);try{const e=await function(e,t){const n=hs(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach(((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Bs.addMatchingKeys(e,a.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(ll.EMPTY_BYTE_STRING,Ns.min()).withLastLimboFreeSnapshotVersion(Ns.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,a)&&o.push(n.Bs.updateTargetData(e,c))}));let s=Ic(),l=Mc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Gd(e,a,t.documentUpdates).next((e=>{s=e.nr,l=e.sr}))),!r.isEqual(Ns.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return qs.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(ds(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?ds(r.fc):e.removedDocuments.size>0&&(ds(r.fc),r.fc=!1))})),await Tf(n,e,t)}catch(e){await Bs(e)}}function mf(e,t,n){const r=hs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=hs(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&rf(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vf(e,t,n){const r=hs(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),a=i&&i.key;if(a){let e=new tl(Os.comparator);e=e.insert(a,Ll.newNoDocument(a,Ns.min()));const n=Mc().add(a),i=new Ru(Ns.min(),new Map,new tl(Cs),e,n);await gf(r,i),r.gc=r.gc.remove(a),r.yc.delete(t),Cf(r)}else await $d(r.localStore,t,!1).then((()=>kf(r,t,n))).catch(Bs)}async function yf(e,t){const n=hs(e),r=t.batch.batchId;try{const e=await function(e,t){const n=hs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=qs.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);ds(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Mc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);xf(n,r,null),wf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tf(n,e)}catch(e){await Bs(e)}}async function bf(e,t,n){const r=hs(e);try{const e=await function(e,t){const n=hs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ds(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);xf(r,t,n),wf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Tf(r,e)}catch(n){await Bs(n)}}function wf(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function xf(e,t,n){const r=hs(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function kf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||Ef(e,t)}))}function Ef(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(xh(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Cf(e))}function _f(e,t,n){for(const r of n)r instanceof of?(e.Ic.addReference(r.key,t),Sf(e,r)):r instanceof sf?(os("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Ef(e,r.key)):us()}function Sf(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(os("SyncEngine","New document in limbo: "+n),e.mc.add(r),Cf(e))}function Cf(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Os(Ds.fromString(t)),r=e.Ac.next();e.yc.set(r,new uf(n)),e.gc=e.gc.insert(n,r),wh(e.remoteStore,new bd(vc(dc(n.path)),r,"TargetPurposeLimboResolution",Ks.ct))}}async function Tf(e,t,n){const r=hs(e),i=[],a=[],o=[];r.wc.isEmpty()||(r.wc.forEach(((e,s)=>{o.push(r.Rc(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=zd.Li(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=hs(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>qs.forEach(t,(t=>qs.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>qs.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Hs(e))throw e;os("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,a))}async function If(e,t){const n=hs(e);if(!n.currentUser.isEqual(t)){os("SyncEngine","User change. New user:",t.toKey());const e=await Kd(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new ps(fs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Tf(n,e.er)}}function Nf(e,t){const n=hs(e),r=n.yc.get(t);if(r&&r.fc)return Mc().add(r.key);{let e=Mc();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function Af(e){const t=hs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vf.bind(null,t),t.dc.nu=tf.bind(null,t.eventManager),t.dc.Pc=nf.bind(null,t.eventManager),t}function Df(e){const t=hs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bf.bind(null,t),t}class Pf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=uh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Hd(this.persistence,new Bd,e.initialUser,this.serializer)}createPersistence(e){return new Fd(Vd.zs,this.serializer)}createSharedClientState(e){return new eh}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Rf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>mf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=If.bind(null,this.syncEngine),await qh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Jh}createDatastore(e){const t=uh(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new lh(r));var r;return function(e,t,n,r){return new gh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>mf(this.syncEngine,e,0),a=nh.D()?new nh:new th,new vh(t,n,r,i,a);var t,n,r,i,a}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new df(e,t,n,r,i,a);return o&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=hs(e);os("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await bh(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class Of{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Lf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ns.UNAUTHENTICATED,this.clientId=Ss.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{os("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(os("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ps(fs.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(aw){const n=Gh(aw,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function jf(e,t){e.asyncQueue.verifyOperationInProgress(),os("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Kd(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Mf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Uf(e);os("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Bh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Bh(t.remoteStore,n))),e._onlineComponents=t}function Ff(e){return"FirebaseError"===e.name?e.code===fs.FAILED_PRECONDITION||e.code===fs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Uf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){os("FirestoreClient","Using user provided OfflineComponentProvider");try{await jf(e,e._uninitializedComponentsProvider._offline)}catch(aw){const n=aw;if(!Ff(n))throw n;ls("Error using user provided cache. Falling back to memory cache: "+n),await jf(e,new Pf)}}else os("FirestoreClient","Using default OfflineComponentProvider"),await jf(e,new Pf);return e._offlineComponents}async function Vf(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(os("FirestoreClient","Using user provided OnlineComponentProvider"),await Mf(e,e._uninitializedComponentsProvider._online)):(os("FirestoreClient","Using default OnlineComponentProvider"),await Mf(e,new Rf))),e._onlineComponents}function zf(e){return Vf(e).then((e=>e.syncEngine))}async function Bf(e){const t=await Vf(e),n=t.eventManager;return n.onListen=hf.bind(null,t.syncEngine),n.onUnlisten=pf.bind(null,t.syncEngine),n}function qf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Hf=new Map;function Kf(e,t,n){if(!n)throw new ps(fs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Wf(e){if(!Os.isDocumentKey(e))throw new ps(fs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Gf(e){if(Os.isDocumentKey(e))throw new ps(fs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Qf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":us()}function Yf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ps(fs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qf(e);throw new ps(fs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class $f{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ps(fs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ps(fs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ps(fs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ps(fs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ps(fs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ps(fs.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Xf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $f({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ps(fs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ps(fs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $f(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new vs;switch(e.type){case"firstParty":return new xs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ps(fs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hf.get(e);t&&(os("ComponentProvider","Removing Datastore"),Hf.delete(e),t.terminate())}(this),Promise.resolve()}}function Jf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=Yf(e,Xf))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ns.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ue(JSON.stringify({alg:"none",type:"JWT"})),Ue(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new ps(fs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ns(a)}e._authCredentials=new ys(new ms(t,n))}}class Zf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zf(this.firestore,e,this._key)}}class ep{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ep(this.firestore,e,this._query)}}class tp extends ep{constructor(e,t,n){super(e,t,dc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zf(this.firestore,null,new Os(e))}withConverter(e){return new tp(this.firestore,e,this._path)}}function np(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lt(e),Kf("collection","path",t),e instanceof Xf){const n=Ds.fromString(t,...r);return Gf(n),new tp(e,null,n)}{if(!(e instanceof Zf||e instanceof tp))throw new ps(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ds.fromString(t,...r));return Gf(n),new tp(e.firestore,null,n)}}function rp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=lt(e),1===arguments.length&&(t=Ss.A()),Kf("doc","path",t),e instanceof Xf){const n=Ds.fromString(t,...r);return Wf(n),new Zf(e,null,new Os(n))}{if(!(e instanceof Zf||e instanceof tp))throw new ps(fs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ds.fromString(t,...r));return Wf(n),new Zf(e.firestore,e instanceof tp?e.converter:null,new Os(n))}}class ip{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new dh(this,"async_queue_retry"),this.Xc=()=>{const e=ch();e&&os("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=ch();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ch();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new gs;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Hs(e))throw e;os("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ss("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Wh.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&us()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function ap(e){return function(e){if("object"!=typeof e||null===e)return!1;const t=e;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)}class op extends Xf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ip,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||cp(this),this._firestoreClient.terminate()}}function sp(e,t){const n="string"==typeof e?e:t||"(default)",r=vn("object"==typeof e?e:kn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=qe(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Jf(r,...e)}return r}function lp(e){return e._firestoreClient||cp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cp(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new ml(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,qf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Lf(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class up{constructor(e){this._byteString=e}static fromBase64String(e){try{return new up(ll.fromBase64String(e))}catch(e){throw new ps(fs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new up(ll.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ps(fs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rs(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hp{constructor(e){this._methodName=e}}class fp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ps(fs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ps(fs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cs(this._lat,e._lat)||Cs(this._long,e._long)}}const pp=/^__.*__$/;class gp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new du(e,this.data,this.fieldMask,t,this.fieldTransforms):new uu(e,this.data,t,this.fieldTransforms)}}class mp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new du(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw us()}}class yp{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new yp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Pp(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(vp(this.ca)&&pp.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class bp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||uh(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yp({ca:e,methodName:t,ga:n,path:Rs.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wp(e){const t=e._freezeSettings(),n=uh(e._databaseId);return new bp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xp(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);Ip("Data must be an object, but it was:",o,r);const s=Cp(r,o);let l,c;if(a.merge)l=new ol(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Np(t,r,n);if(!o.contains(i))throw new ps(fs.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Rp(e,i)||e.push(i)}l=new ol(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new gp(new Rl(s),l,c)}class kp extends hp{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kp}}function Ep(e,t,n,r){const i=e.ya(1,t,n);Ip("Data must be an object, but it was:",i,r);const a=[],o=Rl.empty();Zs(r,((e,r)=>{const s=Dp(t,e,n);r=lt(r);const l=i.da(s);if(r instanceof kp)a.push(s);else{const e=Sp(r,l);null!=e&&(a.push(s),o.set(s,e))}}));const s=new ol(a);return new mp(o,s,i.fieldTransforms)}function _p(e,t,n,r,i,a){const o=e.ya(1,t,n),s=[Np(t,r,n)],l=[i];if(a.length%2!=0)throw new ps(fs.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<a.length;h+=2)s.push(Np(t,a[h])),l.push(a[h+1]);const c=[],u=Rl.empty();for(let h=s.length-1;h>=0;--h)if(!Rp(c,s[h])){const e=s[h];let t=l[h];t=lt(t);const n=o.da(e);if(t instanceof kp)c.push(e);else{const r=Sp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ol(c);return new mp(u,d,o.fieldTransforms)}function Sp(e,t){if(Tp(e=lt(e)))return Ip("Unsupported field value:",t,e),Cp(e,t);if(e instanceof hp)return function(e,t){if(!vp(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Sp(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=lt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Is.fromDate(e);return{timestampValue:Gu(t.serializer,n)}}if(e instanceof Is){const n=new Is(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Gu(t.serializer,n)}}if(e instanceof fp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof up)return{bytesValue:Qu(t.serializer,e._byteString)};if(e instanceof Zf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Xu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Qf(e)))}(e,t)}function Cp(e,t){const n={};return el(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zs(e,((e,r)=>{const i=Sp(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Tp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Is||e instanceof fp||e instanceof up||e instanceof Zf||e instanceof hp)}function Ip(e,t,n){if(!Tp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Qf(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Np(e,t,n){if((t=lt(t))instanceof dp)return t._internalPath;if("string"==typeof t)return Dp(e,t);throw Pp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ap=new RegExp("[~\\*/\\[\\]]");function Dp(e,t,n){if(t.search(Ap)>=0)throw Pp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dp(...t.split("."))._internalPath}catch(r){throw Pp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Pp(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new ps(fs.INVALID_ARGUMENT,s+e+l)}function Rp(e,t){return e.some((e=>e.isEqual(t)))}class Op{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lp extends Op{data(){return super.data()}}function jp(e,t){return"string"==typeof t?Dp(e,t):t instanceof dp?t._internalPath:t._delegate._internalPath}function Mp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ps(fs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(bl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw us()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Zs(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new fp(dl(e.latitude),dl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=pl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const t=ul(e);return new Is(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ds.fromString(e);ds(yd(n));const r=new vl(n.get(1),n.get(3)),i=new Os(n.popFirst(5));return r.isEqual(t)||ss("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Up(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Vp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zp extends Op{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Bp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(jp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Bp extends zp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class qp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Vp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Bp(this._firestore,this._userDataWriter,n.key,n,new Vp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ps(fs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Bp(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Vp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Bp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Hp(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Hp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return us()}}class Kp extends Fp{constructor(e){super(),this.firestore=e}convertBytes(e){return new up(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zf(this.firestore,null,t)}}function Wp(e,t,n){e=Yf(e,Zf);const r=Yf(e.firestore,op),i=Up(e.converter,t,n);return Xp(r,[xp(wp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,nu.none())])}function Gp(e,t,n){e=Yf(e,Zf);const r=Yf(e.firestore,op),i=wp(r);let a;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return a="string"==typeof(t=lt(t))||t instanceof dp?_p(i,"updateDoc",e._key,t,n,s):Ep(i,"updateDoc",e._key,t),Xp(r,[a.toMutation(e._key,nu.exists(!0))])}function Qp(e){return Xp(Yf(e.firestore,op),[new gu(e._key,nu.none())])}function Yp(e,t){const n=Yf(e.firestore,op),r=rp(e),i=Up(e.converter,t);return Xp(n,[xp(wp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,nu.exists(!1))]).then((()=>r))}function $p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=lt(e);let s={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||ap(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges};if(ap(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof Zf)d=Yf(e.firestore,op),h=dc(e._key.path),u={next:t=>{n[l]&&n[l](Jp(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Yf(e,ep);d=Yf(t.firestore,op),h=t._query;const r=new Kp(d);u={next:e=>{n[l]&&n[l](new qp(d,r,t,e))},error:n[l+1],complete:n[l+2]},Mp(e._query)}return function(e,t,n,r){const i=new Of(r),a=new af(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Zh(await Bf(e),a))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>ef(await Bf(e),a)))}}(lp(d),h,c,u)}function Xp(e,t){return function(e,t){const n=new gs;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Df(e);try{const e=await function(e,t){const n=hs(e),r=Is.now(),i=t.reduce(((e,t)=>e.add(t.key)),Mc());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=Ic(),l=Mc();return n.Zi.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;const o=[];for(const e of t){const t=lu(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new du(e.key,t,Ol(t.value.mapValue),nu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Dc(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new tl(Cs)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Tf(r,e.changes),await Rh(r.remoteStore)}catch(e){const t=Gh(e,"Failed to persist write");n.reject(t)}}(await zf(e),t,n))),n.promise}(lp(e),t)}function Jp(e,t,n){const r=n.docs.get(t._key),i=new Kp(e);return new zp(e,i,t._key,r,new Vp(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rs=e}(wn),mn(new ct("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new op(new bs(e.getProvider("auth-internal")),new Es(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ps(fs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),En(ts,"3.13.0",e),En(ts,"3.13.0","esm2017")}();En("firebase","9.23.0","app");function Zp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function eg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tg=eg,ng=new Je("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rg=new bt("@firebase/auth");function ig(e){if(rg.logLevel<=pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];rg.error("Auth (".concat(wn,"): ").concat(e),...n)}}function ag(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw lg(e,...n)}function og(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lg(e,...n)}function sg(e,t,n){const r=Object.assign(Object.assign({},tg()),{[t]:n});return new Je("auth","Firebase",r).create(t,{appName:e.name})}function lg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ng.create(e,...n)}function cg(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw lg(t,...r)}}function ug(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ig(t),new Error(t)}function dg(e,t){e||ug(t)}function hg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function fg(){return"http:"===pg()||"https:"===pg()}function pg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class gg{constructor(e,t){this.shortDelay=e,this.longDelay=t,dg(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(fg()||Qe()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function mg(e,t){dg(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class vg{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ug("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ug("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ug("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bg=new gg(3e4,6e4);function wg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function xg(e,t,n,r){return kg(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=nt(Object.assign({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),vg.fetch()(_g(e,e.config.apiHost,n,o),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function kg(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},yg),t);try{const t=new Sg(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Cg(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Cg(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Cg(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Cg(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw sg(e,s,o);ag(e,s)}}catch(aw){if(aw instanceof Xe)throw aw;ag(e,"network-request-failed",{message:String(aw)})}}async function Eg(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await xg(e,t,n,r,i);return"mfaPendingCredential"in a&&ag(e,"multi-factor-auth-required",{_serverResponse:a}),a}function _g(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?mg(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Sg{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(og(this.auth,"network-request-failed"))),bg.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cg(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=og(e,t,r);return i.customData._tokenResponse=n,i}function Tg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(aw){}}function Ig(e){return 1e3*Number(e)}function Ng(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ig("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ve(n);return e?JSON.parse(e):(ig("Failed to decode base64 JWT payload"),null)}catch(aw){return ig("Caught error parsing JWT payload as JSON",null===aw||void 0===aw?void 0:aw.toString()),null}}async function Ag(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(aw){throw aw instanceof Xe&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(aw)&&e.auth.currentUser===e&&await e.auth.signOut(),aw}}class Dg{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(aw){return void((null===aw||void 0===aw?void 0:aw.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Pg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tg(this.lastLoginAt),this.creationTime=Tg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rg(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ag(e,async function(e,t){return xg(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));cg(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?a.providerUserInfo.map((e=>{var{providerId:t}=e,n=Zp(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const s=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Pg(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class Og{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){cg(e.idToken,"internal-error"),cg("undefined"!==typeof e.idToken,"internal-error"),cg("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ng(e);return cg(t,"internal-error"),cg("undefined"!==typeof t.exp,"internal-error"),cg("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return cg(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await kg(e,{},(async()=>{const n=nt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=_g(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",vg.fetch()(a,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Og;return n&&(cg("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(cg("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(cg("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Og,this.toJSON())}_performRefresh(){return ug("not implemented")}}function Lg(e,t){cg("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class jg{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ag(this,this.stsTokenManager.getToken(this.auth,e));return cg(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=lt(e),r=await n.getIdToken(t),i=Ng(r);cg(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Tg(Ig(i.auth_time)),issuedAtTime:Tg(Ig(i.iat)),expirationTime:Tg(Ig(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=lt(e);await Rg(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(cg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jg(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){cg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Rg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ag(this,async function(e,t){return xg(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:k}=t;cg(y&&k,e,"internal-error");const E=Og.fromJSON(this.name,k);cg("string"===typeof y,e,"internal-error"),Lg(u,e.name),Lg(d,e.name),cg("boolean"===typeof b,e,"internal-error"),cg("boolean"===typeof w,e,"internal-error"),Lg(h,e.name),Lg(f,e.name),Lg(p,e.name),Lg(g,e.name),Lg(m,e.name),Lg(v,e.name);const _=new jg({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:v});return x&&Array.isArray(x)&&(_.providerData=x.map((e=>Object.assign({},e)))),g&&(_._redirectEventId=g),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Og;r.updateFromServerResponse(t);const i=new jg({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Rg(i),i}}const Mg=new Map;function Fg(e){dg(e instanceof Function,"Expected a class definition");let t=Mg.get(e);return t?(dg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Mg.set(e,t),t)}class Ug{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ug.type="NONE";const Vg=Ug;function zg(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Bg{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=zg(this.userKey,r.apiKey,i),this.fullPersistenceKey=zg("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jg._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Bg(Fg(Vg),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Fg(Vg);const a=zg(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){const n=jg._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(l){}}))),new Bg(i,e,n)):new Bg(i,e,n)}}function qg(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Gg(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hg(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yg(t))return"Blackberry";if($g(t))return"Webos";if(Kg(t))return"Safari";if((t.includes("chrome/")||Wg(t))&&!t.includes("edge/"))return"Chrome";if(Qg(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Hg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/firefox\//i.test(e)}function Kg(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/crios\//i.test(e)}function Gg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/iemobile/i.test(e)}function Qg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/android/i.test(e)}function Yg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/blackberry/i.test(e)}function $g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/webos/i.test(e)}function Xg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Jg(){return function(){const e=Ge();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Zg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge();return Xg(e)||Qg(e)||$g(e)||Yg(e)||/windows phone/i.test(e)||Gg(e)}function em(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qg(Ge());break;case"Worker":t="".concat(qg(Ge()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(wn,"/").concat(r)}async function tm(e,t){return xg(e,"GET","/v2/recaptchaConfig",wg(e,t))}function nm(e){return void 0!==e&&void 0!==e.enterprise}class rm{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function im(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=og("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function am(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class om{constructor(e){this.type="recaptcha-enterprise",this.auth=um(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;nm(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{tm(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new rm(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&nm(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));im("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function sm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new om(e);let a;try{a=await i.verify(n)}catch(s){a=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}class lm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(aw){r(aw)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(aw){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===aw||void 0===aw?void 0:aw.message})}}}class cm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dm(this),this.idTokenSubscription=new dm(this),this.beforeStateQueue=new lm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ng,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fg(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Bg.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(aw){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(aw){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(aw)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return cg(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(aw){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Rg(e)}catch(aw){if((null===aw||void 0===aw?void 0:aw.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?lt(e):null;return t&&cg(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&cg(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Fg(e))}))}async initializeRecaptchaConfig(){const e=await tm(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new rm(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new om(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Je("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fg(e)||this._popupRedirectResolver;cg(t,this,"argument-error"),this.redirectPersistenceManager=await Bg.create(this,[Fg(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return cg(a,this,"internal-error"),a.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return cg(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=em(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(rg.logLevel<=pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];rg.warn("Auth (".concat(wn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function um(e){return lt(e)}class dm{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new at(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return cg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hm(e,t,n){const r=um(e);cg(r._canInitEmulator,r,"emulator-config-failed"),cg(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=fm(t),{host:o,port:s}=function(e){const t=fm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:pm(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:pm(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function fm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class gm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ug("not implemented")}_getIdTokenResponse(e){return ug("not implemented")}_linkToIdToken(e,t){return ug("not implemented")}_getReauthenticationResolver(e){return ug("not implemented")}}async function mm(e,t){return xg(e,"POST","/v1/accounts:update",t)}async function vm(e,t){return Eg(e,"POST","/v1/accounts:signInWithPassword",wg(e,t))}class ym extends gm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ym(e,t,"password")}static _fromEmailAndCode(e,t){return new ym(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await sm(e,n,"signInWithPassword");return vm(e,t)}return vm(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await sm(e,n,"signInWithPassword");return vm(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return Eg(e,"POST","/v1/accounts:signInWithEmailLink",wg(e,t))}(e,{email:this._email,oobCode:this._password});default:ag(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return mm(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Eg(e,"POST","/v1/accounts:signInWithEmailLink",wg(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:ag(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function bm(e,t){return Eg(e,"POST","/v1/accounts:signInWithIdp",wg(e,t))}class wm extends gm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ag("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Zp(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new wm(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return bm(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,bm(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bm(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nt(t)}return e}}const xm={USER_NOT_FOUND:"user-not-found"};class km extends gm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new km({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new km({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Eg(e,"POST","/v1/accounts:signInWithPhoneNumber",wg(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Eg(e,"POST","/v1/accounts:signInWithPhoneNumber",wg(e,t));if(n.temporaryProof)throw Cg(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Eg(e,"POST","/v1/accounts:signInWithPhoneNumber",wg(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),xm)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new km({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Em{constructor(e){var t,n,r,i,a,o;const s=rt(it(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);cg(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=rt(it(e)).link,n=t?rt(it(t)).deep_link_id:null,r=rt(it(e)).deep_link_id;return(r?rt(it(r)).link:null)||r||n||t||e}(e);try{return new Em(t)}catch(n){return null}}}class _m{constructor(){this.providerId=_m.PROVIDER_ID}static credential(e,t){return ym._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Em.parseLink(t);return cg(n,"argument-error"),ym._fromEmailAndCode(e,n.code,n.tenantId)}}_m.PROVIDER_ID="password",_m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_m.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Sm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Cm extends Sm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Tm extends Cm{constructor(){super("facebook.com")}static credential(e){return wm._fromParams({providerId:Tm.PROVIDER_ID,signInMethod:Tm.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tm.credentialFromTaggedObject(e)}static credentialFromError(e){return Tm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Tm.credential(t.oauthAccessToken)}catch(n){return null}}}Tm.FACEBOOK_SIGN_IN_METHOD="facebook.com",Tm.PROVIDER_ID="facebook.com";class Im extends Cm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wm._fromParams({providerId:Im.PROVIDER_ID,signInMethod:Im.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Im.credentialFromTaggedObject(e)}static credentialFromError(e){return Im.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Im.credential(n,r)}catch(i){return null}}}Im.GOOGLE_SIGN_IN_METHOD="google.com",Im.PROVIDER_ID="google.com";class Nm extends Cm{constructor(){super("github.com")}static credential(e){return wm._fromParams({providerId:Nm.PROVIDER_ID,signInMethod:Nm.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nm.credentialFromTaggedObject(e)}static credentialFromError(e){return Nm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Nm.credential(t.oauthAccessToken)}catch(n){return null}}}Nm.GITHUB_SIGN_IN_METHOD="github.com",Nm.PROVIDER_ID="github.com";class Am extends Cm{constructor(){super("twitter.com")}static credential(e,t){return wm._fromParams({providerId:Am.PROVIDER_ID,signInMethod:Am.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Am.credentialFromTaggedObject(e)}static credentialFromError(e){return Am.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Am.credential(n,r)}catch(i){return null}}}async function Dm(e,t){return Eg(e,"POST","/v1/accounts:signUp",wg(e,t))}Am.TWITTER_SIGN_IN_METHOD="twitter.com",Am.PROVIDER_ID="twitter.com";class Pm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await jg._fromIdTokenResponse(e,n,r),a=Rm(n);return new Pm({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Rm(n);return new Pm({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Rm(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Om extends Xe{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Om(e,t,n,r)}}function Lm(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Om._fromErrorAndOperation(e,n,t,r);throw n}))}async function jm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ag(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Pm._forOperation(e,"link",r)}async function Mm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const a=await Ag(e,Lm(r,i,t,e),n);cg(a.idToken,r,"internal-error");const o=Ng(a.idToken);cg(o,r,"internal-error");const{sub:s}=o;return cg(e.uid===s,r,"user-mismatch"),Pm._forOperation(e,i,a)}catch(aw){throw(null===aw||void 0===aw?void 0:aw.code)==="auth/".concat("user-not-found")&&ag(r,"user-mismatch"),aw}}async function Fm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Lm(e,r,t),a=await Pm._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Um(e,t){return Fm(um(e),t)}new WeakMap;const Vm="__sak";class zm{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vm,"1"),this.storage.removeItem(Vm),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Bm extends zm{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ge();return Kg(e)||Xg(e)}()&&function(){try{return!(!window||window===window.top)}catch(aw){return!1}}(),this.fallbackToPolling=Zg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Jg()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bm.type="LOCAL";const qm=Bm;class Hm extends zm{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Hm.type="SESSION";const Km=Hm;class Wm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Wm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Gm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Wm.receivers=[];class Qm{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((o,s)=>{const l=Gm("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function Ym(){return window}function $m(){return"undefined"!==typeof Ym().WorkerGlobalScope&&"function"===typeof Ym().importScripts}const Xm="firebaseLocalStorageDb",Jm="firebaseLocalStorage",Zm="fbase_key";class ev{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function tv(e,t){return e.transaction([Jm],t?"readwrite":"readonly").objectStore(Jm)}function nv(){const e=indexedDB.open(Xm,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Jm,{keyPath:Zm})}catch(aw){n(aw)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Jm)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Xm);return new ev(e).toPromise()}(),t(await nv()))}))}))}async function rv(e,t,n){const r=tv(e,!0).put({[Zm]:t,value:n});return new ev(r).toPromise()}function iv(e,t){const n=tv(e,!0).delete(t);return new ev(n).toPromise()}class av{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await nv()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(aw){if(t++>3)throw aw;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $m()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wm._getInstance($m()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Qm(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nv();return await rv(e,Vm,"1"),await iv(e,Vm),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>rv(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=tv(e,!1).get(t),r=await new ev(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>iv(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=tv(e,!1).getAll();return new ev(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}av.type="LOCAL";const ov=av;am("rcb"),new gg(3e4,6e4);const sv="recaptcha";async function lv(e,t,n){var r;const i=await n.verify();try{let a;if(cg("string"===typeof i,e,"argument-error"),cg(n.type===sv,e,"argument-error"),a="string"===typeof t?{phoneNumber:t}:t,"session"in a){const t=a.session;if("phoneNumber"in a){cg("enroll"===t.type,e,"internal-error");const n=await function(e,t){return xg(e,"POST","/v2/accounts/mfaEnrollment:start",wg(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{cg("signin"===t.type,e,"internal-error");const n=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;cg(n,e,"missing-multi-factor-info");const o=await function(e,t){return xg(e,"POST","/v2/accounts/mfaSignIn:start",wg(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return xg(e,"POST","/v1/accounts:sendVerificationCode",wg(e,t))}(e,{phoneNumber:a.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class cv{constructor(e){this.providerId=cv.PROVIDER_ID,this.auth=um(e)}verifyPhoneNumber(e,t){return lv(this.auth,e,lt(t))}static credential(e,t){return km._fromVerification(e,t)}static credentialFromResult(e){const t=e;return cv.credentialFromTaggedObject(t)}static credentialFromError(e){return cv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?km._fromTokenResponse(n,r):null}}function uv(e,t){return t?Fg(t):(cg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}cv.PROVIDER_ID="phone",cv.PHONE_SIGN_IN_METHOD="phone";class dv extends gm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hv(e){return Fm(e.auth,new dv(e),e.bypassAuthState)}function fv(e){const{auth:t,user:n}=e;return cg(n,t,"internal-error"),Mm(n,new dv(e),e.bypassAuthState)}async function pv(e){const{auth:t,user:n}=e;return cg(n,t,"internal-error"),jm(n,new dv(e),e.bypassAuthState)}class gv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(aw){this.reject(aw)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(aw){this.reject(aw)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hv;case"linkViaPopup":case"linkViaRedirect":return pv;case"reauthViaPopup":case"reauthViaRedirect":return fv;default:ag(this.auth,"internal-error")}}resolve(e){dg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mv=new gg(2e3,1e4);class vv extends gv{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,vv.currentPopupAction&&vv.currentPopupAction.cancel(),vv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return cg(e,this.auth,"internal-error"),e}async onExecution(){dg(1===this.filter.length,"Popup operations only handle one event");const e=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(og(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(og(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(og(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,mv.get())};e()}}vv.currentPopupAction=null;const yv=new Map;class bv extends gv{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=yv.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=kv(t),r=xv(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(aw){e=()=>Promise.reject(aw)}yv.set(this.auth._key(),e)}return this.bypassAuthState||yv.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function wv(e,t){yv.set(e._key(),t)}function xv(e){return Fg(e._redirectPersistence)}function kv(e){return zg("pendingRedirect",e.config.apiKey,e.name)}async function Ev(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=um(e),i=uv(r,t),a=new bv(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class _v{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Cv(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(og(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sv(e))}saveEventToCache(e){this.cachedEventUids.add(Sv(e)),this.lastProcessedEventTime=Date.now()}}function Sv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Cv(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Tv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iv=/^https?/;async function Nv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return xg(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Av(r))return}catch(n){}ag(e,"unauthorized-domain")}function Av(e){const t=hg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Iv.test(n))return!1;if(Tv.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Dv=new gg(3e4,6e4);function Pv(){const e=Ym().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Rv=null;function Ov(e){return Rv=Rv||function(e){return new Promise(((t,n)=>{var r,i,a;function o(){Pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Pv(),n(og(e,"network-request-failed"))},timeout:Dv.get()})}if(null===(i=null===(r=Ym().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ym().gapi)||void 0===a?void 0:a.load)){const t=am("iframefcb");return Ym()[t]=()=>{gapi.load?o():n(og(e,"network-request-failed"))},im("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw Rv=null,e}))}(e),Rv}const Lv=new gg(5e3,15e3),jv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fv(e){const t=e.config;cg(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?mg(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:wn},i=Mv.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(nt(r).slice(1))}const Uv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(aw){}}}function zv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Uv),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ge().toLowerCase();n&&(s=Wg(c)?"_blank":n),Hg(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Xg(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Vv(null);const d=window.open(t||"",s,u);cg(d,e,"popup-blocked");try{d.focus()}catch(aw){}return new Vv(d)}const Bv="__/auth/handler",qv="emulator/auth/handler",Hv=encodeURIComponent("fac");async function Kv(e,t,n,r,i,a){cg(e.config.authDomain,e,"auth-domain-config-required"),cg(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:wn,eventId:i};if(t instanceof Sm){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Cm){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Hv,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Bv);return mg(t,qv)}(e),"?").concat(nt(s).slice(1)).concat(c)}const Wv="webStorageSupport";const Gv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Km,this._completeRedirectFn=Ev,this._overrideRedirectResult=wv}async _openPopup(e,t,n,r){var i;dg(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return zv(e,await Kv(e,t,n,hg(),r),Gm())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ym().location.href=e}(await Kv(e,t,n,hg(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(dg(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ov(e),n=Ym().gapi;return cg(n,e,"internal-error"),t.open({where:document.body,url:Fv(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jv,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=og(e,"network-request-failed"),a=Ym().setTimeout((()=>{r(i)}),Lv.get());function o(){Ym().clearTimeout(a),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new _v(e);return t.register("authEvent",(t=>{cg(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wv,{type:Wv},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Wv];void 0!==i&&t(!!i),ag(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Nv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Zg()||Kg()||Xg()}};var Qv="@firebase/auth",Yv="0.23.2";class $v{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){cg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xv=Ke("authIdTokenMaxAge")||300;let Jv=null;var Zv;Zv="Browser",mn(new ct("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;cg(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:Zv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:em(Zv)},c=new cm(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fg);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),mn(new ct("auth-internal",(e=>(e=>new $v(e))(um(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),En(Qv,Yv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Zv)),En(Qv,Yv,"esm2017");let ey,ty;const ny=new WeakMap,ry=new WeakMap,iy=new WeakMap,ay=new WeakMap,oy=new WeakMap;let sy={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ry.get(e);if("objectStoreNames"===t)return e.objectStoreNames||iy.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return uy(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ly(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(dy(this),n),uy(ny.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return uy(e.apply(dy(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(dy(this),t,...r);return iy.set(a,t.sort?t.sort():[t]),uy(a)}}function cy(e){return"function"===typeof e?ly(e):(e instanceof IDBTransaction&&function(e){if(ry.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ry.set(e,t)}(e),t=e,(ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,sy):e);var t}function uy(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(uy(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&ny.set(t,e)})).catch((()=>{})),oy.set(t,e),t}(e);if(ay.has(e))return ay.get(e);const t=cy(e);return t!==e&&(ay.set(e,t),oy.set(t,e)),t}const dy=e=>oy.get(e);const hy=["get","getKey","getAll","getAllKeys","count"],fy=["put","add","delete","clear"],py=new Map;function gy(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(py.get(t))return py.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=fy.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!hy.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return py.set(t,a),a}!function(e){sy=e(sy)}((e=>d(d({},e),{},{get:(t,n,r)=>gy(t,n)||e.get(t,n,r),has:(t,n)=>!!gy(t,n)||e.has(t,n)})));const my="@firebase/installations",vy="0.6.4",yy=1e4,by="w:".concat(vy),wy="FIS_v2",xy=36e5,ky=new Je("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ey(e){return e instanceof Xe&&e.code.includes("request-failed")}function _y(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Sy(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Cy(e,t){const n=(await t.json()).error;return ky.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Ty(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Iy(e,t){let{refreshToken:n}=t;const r=Ty(e);return r.append("Authorization",function(e){return"".concat(wy," ").concat(e)}(n)),r}async function Ny(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Ay(e){return new Promise((t=>{setTimeout(t,e)}))}const Dy=/^[cdef][\w-]{21}$/;function Py(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Dy.test(t)?t:""}catch(e){return""}}function Ry(e){return"".concat(e.appName,"!").concat(e.appId)}const Oy=new Map;function Ly(e,t){const n=Ry(e);jy(n,t),function(e,t){const n=Fy();n&&n.postMessage({key:e,fid:t});Uy()}(n,t)}function jy(e,t){const n=Oy.get(e);if(n)for(const r of n)r(t)}let My=null;function Fy(){return!My&&"BroadcastChannel"in self&&(My=new BroadcastChannel("[Firebase] FID Change"),My.onmessage=e=>{jy(e.data.key,e.data.fid)}),My}function Uy(){0===Oy.size&&My&&(My.close(),My=null)}const Vy="firebase-installations-store";let zy=null;function By(){return zy||(zy=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=uy(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(uy(o.result),e.oldVersion,e.newVersion,uy(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),s}("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Vy)}})),zy}async function qy(e,t){const n=Ry(e),r=(await By()).transaction(Vy,"readwrite"),i=r.objectStore(Vy),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Ly(e,t.fid),t}async function Hy(e){const t=Ry(e),n=(await By()).transaction(Vy,"readwrite");await n.objectStore(Vy).delete(t),await n.done}async function Ky(e,t){const n=Ry(e),r=(await By()).transaction(Vy,"readwrite"),i=r.objectStore(Vy),a=await i.get(n),o=t(a);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||a&&a.fid===o.fid||Ly(e,o.fid),o}async function Wy(e){let t;const n=await Ky(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Py(),registrationStatus:0};return Yy(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(ky.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=_y(n),o=Ty(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:wy,appId:n.appId,sdkVersion:by},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await Ny((()=>fetch(a,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Sy(e.authToken)}}throw await Cy("Create Installation",u)}(e,t);return qy(e.appConfig,n)}catch(aw){throw Ey(aw)&&409===aw.customData.serverCode?await Hy(e.appConfig):await qy(e.appConfig,{fid:t.fid,registrationStatus:0}),aw}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Gy(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Gy(e){let t=await Qy(e.appConfig);for(;1===t.registrationStatus;)await Ay(100),t=await Qy(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Wy(e);return n||t}return t}function Qy(e){return Ky(e,(e=>{if(!e)throw ky.create("installation-not-found");return Yy(e)}))}function Yy(e){return 1===(t=e).registrationStatus&&t.registrationTime+yy<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function $y(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(_y(e),"/").concat(n,"/authTokens:generate")}(n,t),a=Iy(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const s={installation:{sdkVersion:by,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(s)},c=await Ny((()=>fetch(i,l)));if(c.ok){return Sy(await c.json())}throw await Cy("Generate Auth Token",c)}async function Xy(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Ky(e.appConfig,(r=>{if(!Zy(r))throw ky.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+xy}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Jy(e.appConfig);for(;1===n.authToken.requestStatus;)await Ay(100),n=await Jy(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Xy(e,t):r}(e,n),r;{if(!navigator.onLine)throw ky.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await $y(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await qy(e.appConfig,r),n}catch(aw){if(!Ey(aw)||401!==aw.customData.serverCode&&404!==aw.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await qy(e.appConfig,n)}else await Hy(e.appConfig);throw aw}}(e,n),n}}));return t?await t:r.authToken}function Jy(e){return Ky(e,(e=>{if(!Zy(e))throw ky.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+yy<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Zy(e){return void 0!==e&&2===e.registrationStatus}async function eb(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Wy(e);t&&await t}(n);return(await Xy(n,t)).token}function tb(e){return ky.create("missing-app-config-values",{valueName:e})}const nb="installations",rb=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw tb("App Configuration");if(!e.name)throw tb("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw tb(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:vn(t,"heartbeat"),_delete:()=>Promise.resolve()}},ib=e=>{const t=vn(e.getProvider("app").getImmediate(),nb).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Wy(t);return r?r.catch(console.error):Xy(t).catch(console.error),n.fid}(t),getToken:e=>eb(t,e)}};mn(new ct(nb,rb,"PUBLIC")),mn(new ct("installations-internal",ib,"PRIVATE")),En(my,vy),En(my,vy,"esm2017");const ab="analytics",ob="https://www.googletagmanager.com/gtag/js",sb=new bt("@firebase/analytics"),lb=new Je("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function cb(e){if(!e.startsWith(ob)){const t=lb.create("invalid-gtag-resource",{gtagURL:e});return sb.warn(t.message),""}return e}function ub(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function db(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:cb}),r=document.createElement("script"),i="".concat(ob,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function hb(e,t,n,r){return async function(i){try{for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await ub(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(aw){sb.error(aw)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=o;await async function(e,t,n,r,i,a){const o=r[i];try{if(o)await t[o];else{const e=(await ub(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(aw){sb.error(aw)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t]=o;e("consent","update",t)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(aw){sb.error(aw)}}}const fb=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function pb(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function gb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fb,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw lb.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw lb.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new vb;return setTimeout((async()=>{s.abort()}),void 0!==n?n:6e4),mb({appId:r,apiKey:i,measurementId:a},o,s,t)}async function mb(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fb;var o;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(a),r(lb.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(aw){if(l)return sb.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===aw||void 0===aw?void 0:aw.message,"]")),{appId:s,measurementId:l};throw aw}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:pb(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(a,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw lb.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return a.deleteThrottleMetadata(s),t}catch(aw){const r=aw;if(!function(e){if(!(e instanceof Xe)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(s),l)return sb.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:s,measurementId:l};throw aw}const c=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?st(i,a.intervalMillis,30):st(i,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return a.setThrottleMetadata(s,u),sb.debug("Calling attemptFetch again in ".concat(c," millis")),mb(e,u,n,a)}}class vb{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let yb,bb;function wb(e){bb=e}function xb(e){yb=e}async function kb(e,t,n,r,i,a,o){var s;const l=gb(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&sb.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((e=>sb.error(e))),t.push(l);const c=async function(){if(!Ye())return sb.warn(lb.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await $e()}catch(aw){return sb.warn(lb.create("indexeddb-unavailable",{errorInfo:null===aw||void 0===aw?void 0:aw.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ob)&&n.src.includes(e))return n;return null})(a)||db(a,u.measurementId),bb&&(i("consent","default",bb),wb(void 0)),i("js",new Date);const h=null!==(s=null===o||void 0===o?void 0:o.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),yb&&(i("set",yb),xb(void 0)),u.measurementId}class Eb{constructor(e){this.app=e}_delete(){return delete _b[this.app.options.appId],Promise.resolve()}}let _b={},Sb=[];const Cb={};let Tb,Ib,Nb="dataLayer",Ab="gtag",Db=!1;function Pb(){const e=[];if(Qe()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>"(".concat(t+1,") ").concat(e))).join(" "),n=lb.create("invalid-analytics-context",{errorInfo:t});sb.warn(n.message)}}function Rb(e,t,n){Pb();const r=e.options.appId;if(!r)throw lb.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw lb.create("no-api-key");sb.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=_b[r])throw lb.create("already-exists",{id:r});if(!Db){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Nb);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=hb(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(_b,Sb,Cb,Nb,Ab);Ib=e,Tb=t,Db=!0}_b[r]=kb(e,Sb,Cb,t,Tb,Nb,n);return new Eb(e)}function Ob(e,t,n,r){e=lt(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Ib,_b[e.app.options.appId],t,n,r).catch((e=>sb.error(e)))}const Lb="@firebase/analytics",jb="0.10.0";mn(new ct(ab,((e,t)=>{let{options:n}=t;return Rb(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),mn(new ct("analytics-internal",(function(e){try{const t=e.getProvider(ab).getImmediate();return{logEvent:(e,n,r)=>Ob(t,e,n,r)}}catch(aw){throw lb.create("interop-component-reg-failed",{reason:aw})}}),"PRIVATE")),En(Lb,jb),En(Lb,jb,"esm2017");var Mb=n(579);const Fb={apiKey:"AIzaSyCcreV3lHrj5YVGDuvGi4F8lFAF8Q3ZEDc",authDomain:"website-77fc4.firebaseapp.com",projectId:"website-77fc4",storageBucket:"website-77fc4.firebasestorage.app",messagingSenderId:"398319176717",appId:"1:398319176717:web:b4038c7ae1115a8c97d944",measurementId:"G-B7TT199XKE"},Ub=xn(Fb),Vb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn();const t=vn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=vn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(et(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;ag(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Gv,persistence:[ov,qm,Km]}),r=Ke("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Xv)return;const r=null===t||void 0===t?void 0:t.token;Jv!==r&&(Jv=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){lt(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){lt(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const a=qe("auth");return a&&hm(n,"http://".concat(a)),n}(Ub),zb=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn();e=lt(e);const t=vn(e,ab);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=vn(e,ab);if(n.isInitialized()){const e=n.getImmediate();if(et(t,n.getOptions()))return e;throw lb.create("already-initialized")}const r=n.initialize({options:t})}(e)}(Ub),(0,i.createContext)());function Bb(){return(0,i.useContext)(zb)}function qb(e){let{children:t}=e;const[n,r]=(0,i.useState)(null),[a,o]=(0,i.useState)(!0);(0,i.useEffect)((()=>{console.log("AuthProvider: Initializing Firebase with config:",Fb);(async()=>{try{await async function(e){var t;const n=um(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Pm({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Dm(n,{returnSecureToken:!0}),i=await Pm._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(Vb),console.log("AuthProvider: Signed in anonymously.")}catch(e){console.error("AuthProvider: Error during initial sign-in:",e),"auth/operation-not-allowed"===e.code&&console.error("Firebase Auth Error: 'auth/operation-not-allowed'. Please ensure Anonymous sign-in method is enabled in your Firebase project settings under 'Authentication' -> 'Sign-in method'.")}})();const e=function(e,t,n,r){return lt(e).onAuthStateChanged(t,n,r)}(Vb,(e=>{r(e),o(!1),e?console.log("AuthContext: User authenticated:",e.uid):console.log("AuthContext: No user authenticated.")}));return e}),[]);const s={currentUser:n,signup:function(e,t){return async function(e,t,n){var r;const i=um(e),a={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await sm(i,a,"signUpPassword");o=Dm(i,e)}else o=Dm(i,a).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await sm(i,a,"signUpPassword");return Dm(i,e)}return Promise.reject(e)}));const s=await o.catch((e=>Promise.reject(e))),l=await Pm._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(l.user),l}(Vb,e,t)},login:function(e,t){return function(e,t,n){return Um(lt(e),_m.credential(t,n))}(Vb,e,t)},logout:function(){return function(e){return lt(e).signOut()}(Vb)},auth:Vb,app:Ub};return(0,Mb.jsx)(zb.Provider,{value:s,children:!a&&t})}function Hb(e){let{currentLang:t}=e;const n=(0,i.useRef)(),r=(0,i.useRef)(),{login:a,currentUser:o}=Bb(),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(!1),d=ae();(0,i.useEffect)((()=>{o&&d("/")}),[o,d]);return(0,i.useEffect)((()=>{var e;e=t,document.querySelectorAll("[data-en], [data-no]").forEach((t=>{"INPUT"===t.tagName||"TEXTAREA"===t.tagName?t.placeholder=t.getAttribute("data-".concat(e,"-placeholder")):t.textContent=t.getAttribute("data-".concat(e))}))}),[t]),(0,Mb.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:(0,Mb.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-8",children:[(0,Mb.jsx)("h2",{className:"text-3xl font-bold text-center mb-6 text-gray-800","data-en":"Log In","data-no":"Logg inn",children:"Log In"}),s&&(0,Mb.jsx)("p",{className:"text-red-500 text-center mb-4",children:s}),(0,Mb.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{l(""),u(!0),await a(n.current.value,r.current.value)}catch(i){console.error("Failed to log in:",i),"auth/operation-not-allowed"===i.code?l("en"===t?"Login failed: Email/Password authentication is not enabled. Please enable it in your Firebase project settings.":"Innlogging mislyktes: E-post/passord-autentisering er ikke aktivert. Vennligst aktiver dette i Firebase-prosjektinnstillingene dine."):l("en"===t?"Failed to log in: "+i.message:"Feil ved innlogging: "+i.message)}finally{u(!1)}},className:"flex flex-col gap-4",children:[(0,Mb.jsxs)("div",{children:[(0,Mb.jsx)("label",{htmlFor:"email",className:"sr-only","data-en":"Email","data-no":"E-post",children:"Email"}),(0,Mb.jsx)("input",{type:"email",id:"email",ref:n,required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"en"===t?"Email":"E-post","data-en-placeholder":"Email","data-no-placeholder":"E-post"})]}),(0,Mb.jsxs)("div",{children:[(0,Mb.jsx)("label",{htmlFor:"password",className:"sr-only","data-en":"Password","data-no":"Passord",children:"Password"}),(0,Mb.jsx)("input",{type:"password",id:"password",ref:r,required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"en"===t?"Password":"Passord","data-en-placeholder":"Password","data-no-placeholder":"Passord"})]}),(0,Mb.jsx)("button",{disabled:c,type:"submit",className:"w-full p-3 bg-gray-800 text-white rounded-md font-bold transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg",children:c?"en"===t?"Logging In...":"Logger inn...":"en"===t?"Log In":"Logg inn"})]}),(0,Mb.jsxs)("div",{className:"text-center mt-4 text-gray-700",children:[(0,Mb.jsx)("span",{"data-en":"Need an account?","data-no":"Trenger du en konto?",children:"Need an account?"})," ",(0,Mb.jsx)(Re,{to:"/signup",className:"text-blue-600 hover:underline","data-en":"Sign Up","data-no":"Registrer deg",children:"Sign Up"})]})]})})}function Kb(e){let{currentLang:t}=e;const n=(0,i.useRef)(),r=(0,i.useRef)(),a=(0,i.useRef)(),{signup:o,currentUser:s}=Bb(),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1),h=ae();(0,i.useEffect)((()=>{s&&h("/")}),[s,h]);return(0,i.useEffect)((()=>{var e;e=t,document.querySelectorAll("[data-en], [data-no]").forEach((t=>{"INPUT"===t.tagName||"TEXTAREA"===t.tagName?t.placeholder=t.getAttribute("data-".concat(e,"-placeholder")):t.textContent=t.getAttribute("data-".concat(e))}))}),[t]),(0,Mb.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:(0,Mb.jsxs)("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-8",children:[(0,Mb.jsx)("h2",{className:"text-3xl font-bold text-center mb-6 text-gray-800","data-en":"Sign Up","data-no":"Registrer deg",children:"Sign Up"}),l&&(0,Mb.jsx)("p",{className:"text-red-500 text-center mb-4",children:l}),(0,Mb.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),r.current.value!==a.current.value)return c("en"===t?"Passwords do not match":"Passordene stemmer ikke overens");try{c(""),d(!0),await o(n.current.value,r.current.value)}catch(i){console.error("Failed to create an account:",i),"auth/operation-not-allowed"===i.code?c("en"===t?"Account creation failed: Email/Password authentication is not enabled. Please enable it in your Firebase project settings.":"Kontoopprettelse mislyktes: E-post/passord-autentisering er ikke aktivert. Vennligst aktiver dette i Firebase-prosjektinnstillingene dine."):c("en"===t?"Failed to create an account: "+i.message:"Feil ved opprettelse av konto: "+i.message)}finally{d(!1)}},className:"flex flex-col gap-4",children:[(0,Mb.jsxs)("div",{children:[(0,Mb.jsx)("label",{htmlFor:"email",className:"sr-only","data-en":"Email","data-no":"E-post",children:"Email"}),(0,Mb.jsx)("input",{type:"email",id:"email",ref:n,required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"en"===t?"Email":"E-post","data-en-placeholder":"Email","data-no-placeholder":"E-post"})]}),(0,Mb.jsxs)("div",{children:[(0,Mb.jsx)("label",{htmlFor:"password",className:"sr-only","data-en":"Password","data-no":"Passord",children:"Password"}),(0,Mb.jsx)("input",{type:"password",id:"password",ref:r,required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"en"===t?"Password":"Passord","data-en-placeholder":"Password","data-no-placeholder":"Passord"})]}),(0,Mb.jsxs)("div",{children:[(0,Mb.jsx)("label",{htmlFor:"password-confirm",className:"sr-only","data-en":"Confirm Password","data-no":"Bekreft Passord",children:"Confirm Password"}),(0,Mb.jsx)("input",{type:"password",id:"password-confirm",ref:a,required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500",placeholder:"en"===t?"Confirm Password":"Bekreft Passord","data-en-placeholder":"Confirm Password","data-no-placeholder":"Bekreft Passord"})]}),(0,Mb.jsx)("button",{disabled:u,type:"submit",className:"w-full p-3 bg-gray-800 text-white rounded-md font-bold transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg",children:u?"en"===t?"Signing Up...":"Registrerer...":"en"===t?"Sign Up":"Registrer deg"})]}),(0,Mb.jsxs)("div",{className:"text-center mt-4 text-gray-700",children:[(0,Mb.jsx)("span",{"data-en":"Need an account?","data-no":"Trenger du en konto?",children:"Need an account?"})," ",(0,Mb.jsx)(Re,{to:"/signup",className:"text-blue-600 hover:underline","data-en":"Sign Up","data-no":"Registrer deg",children:"Sign Up"})]})]})})}const Wb=e=>{document.querySelectorAll("[data-en], [data-no]").forEach((t=>{"INPUT"===t.tagName||"TEXTAREA"===t.tagName?t.placeholder=t.getAttribute("data-".concat(e,"-placeholder")):t.textContent=t.getAttribute("data-".concat(e))}))},Gb=e=>{let{onCategoryClick:t,currentLang:n}=e;const[r,a]=(0,i.useState)("");(0,i.useEffect)((()=>{Wb(n)}),[n]);return(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsx)("h1",{className:"text-black text-4xl md:text-5xl lg:text-6xl mb-1 mt-0 animate-fade-in opacity-0","data-en":"Kianosh F. Solheim","data-no":"Kianosh F. Solheim",children:"Kianosh F. Solheim"}),(0,Mb.jsx)("p",{className:"text-black text-lg md:text-xl lg:text-2xl mt-0 animate-fade-in opacity-0",style:{animationDelay:"0.2s"},"data-en":"Comparative politics student","data-no":"Sammenlignende politikk student",children:"Comparative politics student"}),(0,Mb.jsxs)("div",{className:"social-icons flex justify-center gap-4 mb-4 mt-10 animate-fade-in",children:[(0,Mb.jsx)("a",{href:"https://www.facebook.com/solheim.online/",title:"Facebook",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-facebook"})}),(0,Mb.jsx)("a",{href:"https://www.instagram.com/solheim.online",title:"Instagram",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-instagram"})}),(0,Mb.jsx)("a",{href:"https://www.linkedin.com/in/kianosh-solheim",title:"LinkedIn",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-linkedin"})}),(0,Mb.jsx)("a",{href:"https://bsky.app/profile/solheim.online",title:"Bluesky",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-bluesky"})}),(0,Mb.jsx)("a",{href:"https://www.threads.net/@solheim.online",title:"Threads",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-threads"})}),(0,Mb.jsx)("a",{href:"https://x.com/Kianosh_Solheim",title:"Twitter",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-twitter"})})]}),(0,Mb.jsxs)("div",{className:"flex flex-wrap justify-center gap-4 mt-6",children:[(0,Mb.jsx)(Re,{to:"/cv",className:"inline-block px-5 py-3 bg-gray-800 text-white no-underline rounded-lg font-normal transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg animate-fade-in opacity-0",style:{animationDelay:"0.4s"},"data-en":"Curriculum Vitae","data-no":"Curriculum Vitae",children:"Curriculum Vitae"}),(0,Mb.jsx)(Re,{to:"/recommendations",className:"inline-block px-5 py-3 bg-gray-800 text-white no-underline rounded-lg font-normal transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg animate-fade-in opacity-0",style:{animationDelay:"0.5s"},"data-en":"Recommendations","data-no":"Anbefalinger",children:"Recommendations"})]}),(0,Mb.jsxs)("section",{id:"contact",className:"w-full max-w-lg mx-auto mt-12 p-8 bg-white rounded-xl shadow-lg animate-fade-in opacity-0",style:{animationDelay:"0.6s"},children:[(0,Mb.jsx)("h2",{className:"text-black text-3xl md:text-4xl lg:text-5xl mb-8 text-center","data-en":"Contact Me","data-no":"Kontakt Meg",children:"Contact Me"}),(0,Mb.jsxs)("form",{action:"https://formspree.io/f/meogbldy",method:"POST",onSubmit:async e=>{e.preventDefault(),a("en"===n?"Sending...":"Sender...");const t=e.target,r=new FormData(t);try{const e=await fetch(t.action,{method:t.method,body:r,headers:{Accept:"application/json"}});if(e.ok)a("en"===n?"Message sent successfully!":"Melding sendt!"),t.reset(),"undefined"!==typeof grecaptcha&&grecaptcha.getResponse&&grecaptcha.reset();else{const t=await e.json();if(t.errors){const e=t.errors.map((e=>e.message)).join(", ");a("en"===n?"Error: ".concat(e):"Feil: ".concat(e))}else a("en"===n?"Oops! There was an error sending your message.":"Oops! Det oppstod en feil ved sending av meldingen din.");"undefined"!==typeof grecaptcha&&grecaptcha.getResponse&&grecaptcha.reset()}}catch(i){a("en"===n?"Oops! There was a network error.":"Oops! Det oppstod en nettverksfeil."),"undefined"!==typeof grecaptcha&&grecaptcha.getResponse&&grecaptcha.reset()}},className:"flex flex-col gap-4","data-recaptcha":"true",children:[(0,Mb.jsxs)("div",{children:[(0,Mb.jsx)("label",{htmlFor:"name",className:"sr-only","data-en":"Name","data-no":"Navn",children:"Name"}),(0,Mb.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"en"===n?"Your Name":"Ditt Navn",required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500","data-en-placeholder":"Your Name","data-no-placeholder":"Ditt Navn"})]}),(0,Mb.jsxs)("div",{children:[(0,Mb.jsx)("label",{htmlFor:"email",className:"sr-only","data-en":"Email","data-no":"E-post",children:"Email"}),(0,Mb.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"en"===n?"Your Email":"Din E-post",required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500","data-en-placeholder":"Your Email","data-no-placeholder":"Din E-post"})]}),(0,Mb.jsxs)("div",{children:[(0,Mb.jsx)("label",{htmlFor:"message",className:"sr-only","data-en":"Message","data-no":"Melding",children:"Message"}),(0,Mb.jsx)("textarea",{name:"message",id:"message",rows:"5",placeholder:"en"===n?"Your Message":"Din Melding",required:!0,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500 resize-y","data-en-placeholder":"Your Message","data-no-placeholder":"Din Melding"})]}),(0,Mb.jsx)("div",{className:"g-recaptcha","data-sitekey":"YOUR_RECAPTCHA_SITE_KEY"}),(0,Mb.jsx)("button",{type:"submit",className:"w-full p-3 bg-gray-800 text-white rounded-md font-bold transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg","data-en":"Send Message","data-no":"Send Melding",children:"Send Message"})]}),r&&(0,Mb.jsx)("p",{className:"form-response text-center mt-4 ".concat(r.includes("Error")||r.includes("Feil")?"text-red-500":"text-green-500"),children:r})]})]})},Qb=e=>{let{onBackClick:t,onItemClick:n,currentLang:r,movies:a,user:o,db:s}=e;(0,i.useEffect)((()=>{Wb(r)}),[r]);const[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[p,g]=(0,i.useState)(""),[m,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(null),[k,E]=(0,i.useState)(""),[_,S]=(0,i.useState)(""),[C,T]=(0,i.useState)(""),[I,N]=(0,i.useState)(""),[A,D]=(0,i.useState)(""),[P,R]=(0,i.useState)(""),O=o&&"HCp5TlIvIxZlKvpeNwO1PWBtLfu2"===o.uid;return(0,Mb.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,Mb.jsx)("h2",{className:"text-black text-3xl md:text-4xl lg:text-5xl mb-8","data-en":"Movies","data-no":"Filmer",children:"Movies"}),(0,Mb.jsx)("p",{className:"text-black text-lg md:text-xl lg:text-2xl mb-8","data-en":"Discover our top movie recommendations!","data-no":"Oppdag v\xe5re beste filmanbefalinger!",children:"Discover our top movie recommendations!"}),O&&(0,Mb.jsxs)("section",{className:"w-full max-w-xl mx-auto mt-8 p-6 bg-white rounded-xl shadow-lg",children:[(0,Mb.jsx)("h3",{className:"text-2xl font-bold mb-4","data-en":"Add New Movie","data-no":"Legg til ny film",children:"Add New Movie"}),(0,Mb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),O)if(s)try{await Yp(np(s,"movies"),{title_en:l,title_no:u,image_en:h,image_no:p,description_en:m,description_no:y,createdAt:new Date,createdBy:o.uid}),c(""),d(""),f(""),g(""),v(""),b("")}catch(t){console.error("Error adding document: ",t)}else console.error("Firestore DB not initialized. Cannot add movie.");else console.error("User not authorized to add movie.")},className:"flex flex-col gap-4",children:[(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (English)":"Tittel (Engelsk)",value:l,onChange:e=>c(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (Norwegian)":"Tittel (Norsk)",value:u,onChange:e=>d(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (English)":"Bilde-URL (Engelsk)",value:h,onChange:e=>f(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (Norwegian)":"Bilde-URL (Norsk)",value:p,onChange:e=>g(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (English)":"Beskrivelse (Engelsk)",value:m,onChange:e=>v(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (Norwegian)":"Beskrivelse (Norsk)",value:y,onChange:e=>b(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600",children:"en"===r?"Add Movie":"Legg til film"})]})]}),w&&O&&(0,Mb.jsxs)("section",{className:"w-full max-w-xl mx-auto mt-8 p-6 bg-white rounded-xl shadow-lg",children:[(0,Mb.jsx)("h3",{className:"text-2xl font-bold mb-4","data-en":"Edit Movie","data-no":"Rediger film",children:"Edit Movie"}),(0,Mb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),O&&w)if(s)try{await Gp(rp(s,"movies",w.id),{title_en:k,title_no:_,image_en:C,image_no:I,description_en:A,description_no:P,updatedAt:new Date}),x(null)}catch(t){console.error("Error updating document: ",t)}else console.error("Firestore DB not initialized. Cannot update movie.");else console.error("User not authorized or no movie selected for editing.")},className:"flex flex-col gap-4",children:[(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (English)":"Tittel (Engelsk)",value:k,onChange:e=>E(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (Norwegian)":"Tittel (Norsk)",value:_,onChange:e=>S(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (English)":"Bilde-URL (Engelsk)",value:C,onChange:e=>T(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (Norwegian)":"Bilde-URL (Norsk)",value:p,onChange:e=>g(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (English)":"Beskrivelse (Engelsk)",value:A,onChange:e=>v(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (Norwegian)":"Beskrivelse (Norsk)",value:y,onChange:e=>b(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsxs)("div",{className:"flex gap-2",children:[(0,Mb.jsx)("button",{type:"submit",className:"flex-1 bg-green-500 text-white p-2 rounded hover:bg-green-600",children:"en"===r?"Update Movie":"Oppdater film"}),(0,Mb.jsx)("button",{type:"button",onClick:()=>x(null),className:"flex-1 bg-gray-500 text-white p-2 rounded hover:bg-gray-600",children:"en"===r?"Cancel":"Avbryt"})]})]})]}),(0,Mb.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full max-w-6xl px-4",children:a.map((e=>(0,Mb.jsxs)("div",{className:"bg-gray-50 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:scale-105 cursor-pointer",onClick:()=>n(e,"movies"),children:[(0,Mb.jsx)("div",{className:"relative w-full pb-[150%]",children:(0,Mb.jsx)("img",{src:"en"===r?e.image_en:e.image_no||e.image_en,alt:e["title_".concat(r)],className:"absolute top-0 left-0 w-full h-full object-cover rounded-md",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/300x450/eeeeee/333333?text=No+Image"}})}),(0,Mb.jsxs)("div",{className:"p-4",children:[(0,Mb.jsx)("h3",{className:"text-xl font-bold mb-2 text-black","data-en":e.title_en,"data-no":e.title_no,children:e["title_".concat(r)]}),O&&(0,Mb.jsxs)("div",{className:"flex justify-between mt-3 gap-2",children:[(0,Mb.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{O?(x(e),E(e.title_en||""),S(e.title_no||""),T(e.image_en||""),N(e.image_no||""),D(e.description_en||""),R(e.description_no||"")):console.error("User not authorized to edit movie.")})(e)},className:"flex-1 bg-yellow-500 text-white p-2 rounded text-sm hover:bg-yellow-600",children:"en"===r?"Edit":"Rediger"}),(0,Mb.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(O)if(s)try{await Qp(rp(s,"movies",e))}catch(t){console.error("Error deleting document: ",t)}else console.error("Firestore DB not initialized. Cannot delete movie.");else console.error("User not authorized to delete movie.")})(e.id)},className:"flex-1 bg-red-500 text-white p-2 rounded text-sm hover:bg-red-600",children:"en"===r?"Delete":"Slett"})]})]})]},e.id)))}),(0,Mb.jsx)("button",{onClick:t,className:"inline-block px-5 py-3 bg-gray-800 text-white no-underline rounded-lg font-normal transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg mt-12","data-en":"Back to Recommendations","data-no":"Tilbake til anbefalinger",children:"Back to Recommendations"})]})},Yb=e=>{let{onBackClick:t,onItemClick:n,currentLang:r,apps:a,user:o,db:s}=e;(0,i.useEffect)((()=>{Wb(r)}),[r]);const[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[p,g]=(0,i.useState)(""),[m,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(null),[k,E]=(0,i.useState)(""),[_,S]=(0,i.useState)(""),[C,T]=(0,i.useState)(""),[I,N]=(0,i.useState)(""),[A,D]=(0,i.useState)(""),[P,R]=(0,i.useState)(""),O=o&&"HCp5TlIvIxZlKvpeNwO1PWBtLfu2"===o.uid;return(0,Mb.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,Mb.jsx)("h2",{className:"text-black text-3xl md:text-4xl lg:text-5xl mb-8","data-en":"Apps","data-no":"Apper",children:"Apps"}),(0,Mb.jsx)("p",{className:"text-black text-lg md:text-xl lg:text-2xl mb-8","data-en":"Explore a curated list of useful applications.","data-no":"Utforsk en kuratert liste over nyttige applikasjoner.",children:"Explore a curated list of useful applications."}),O&&(0,Mb.jsxs)("section",{className:"w-full max-w-xl mx-auto mt-8 p-6 bg-white rounded-xl shadow-lg",children:[(0,Mb.jsx)("h3",{className:"text-2xl font-bold mb-4","data-en":"Add New App","data-no":"Legg til ny app",children:"Add New App"}),(0,Mb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),O)if(s)try{await Yp(np(s,"apps"),{title_en:l,title_no:u,image_en:h,image_no:p,description_en:m,description_no:y,createdAt:new Date,createdBy:o.uid}),c(""),d(""),f(""),g(""),v(""),b("")}catch(t){console.error("Error adding document: ",t)}else console.error("Firestore DB not initialized. Cannot add app.");else console.error("User not authorized to add app.")},className:"flex flex-col gap-4",children:[(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (English)":"Tittel (Engelsk)",value:l,onChange:e=>c(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (Norwegian)":"Tittel (Norsk)",value:u,onChange:e=>d(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (English)":"Bilde-URL (Engelsk)",value:h,onChange:e=>f(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (Norwegian)":"Bilde-URL (Norsk)",value:p,onChange:e=>g(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (English)":"Beskrivelse (Engelsk)",value:m,onChange:e=>v(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (Norwegian)":"Beskrivelse (Norsk)",value:y,onChange:e=>b(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600",children:"en"===r?"Add App":"Legg til app"})]})]}),w&&O&&(0,Mb.jsxs)("section",{className:"w-full max-w-xl mx-auto mt-8 p-6 bg-white rounded-xl shadow-lg",children:[(0,Mb.jsx)("h3",{className:"text-2xl font-bold mb-4","data-en":"Edit App","data-no":"Rediger app",children:"Edit App"}),(0,Mb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),O&&w)if(s)try{await Gp(rp(s,"apps",w.id),{title_en:k,title_no:_,image_en:C,image_no:I,description_en:A,description_no:P,updatedAt:new Date}),x(null)}catch(t){console.error("Error updating document: ",t)}else console.error("Firestore DB not initialized. Cannot update app.");else console.error("User not authorized or no app selected for editing.")},className:"flex flex-col gap-4",children:[(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (English)":"Tittel (Engelsk)",value:k,onChange:e=>E(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (Norwegian)":"Tittel (Norsk)",value:_,onChange:e=>S(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (English)":"Bilde-URL (Engelsk)",value:C,onChange:e=>T(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (Norwegian)":"Bilde-URL (Norsk)",value:p,onChange:e=>g(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (English)":"Beskrivelse (Engelsk)",value:A,onChange:e=>v(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (Norwegian)":"Beskrivelse (Norsk)",value:y,onChange:e=>b(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsxs)("div",{className:"flex gap-2",children:[(0,Mb.jsx)("button",{type:"submit",className:"flex-1 bg-green-500 text-white p-2 rounded hover:bg-green-600",children:"en"===r?"Update App":"Oppdater app"}),(0,Mb.jsx)("button",{type:"button",onClick:()=>x(null),className:"flex-1 bg-gray-500 text-white p-2 rounded hover:bg-gray-600",children:"en"===r?"Cancel":"Avbryt"})]})]})]}),(0,Mb.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full max-w-6xl px-4",children:a.map((e=>(0,Mb.jsxs)("div",{className:"bg-gray-50 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:scale-105 cursor-pointer",onClick:()=>n(e,"apps"),children:[(0,Mb.jsx)("div",{className:"relative w-full pb-[100%]",children:(0,Mb.jsx)("img",{src:"en"===r?e.image_en:e.image_no||e.image_en,alt:e["title_".concat(r)],className:"absolute top-0 left-0 w-full h-full object-cover rounded-md",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/300x300/eeeeee/333333?text=No+Image"}})}),(0,Mb.jsxs)("div",{className:"p-4",children:[(0,Mb.jsx)("h3",{className:"text-xl font-bold mb-2 text-black","data-en":e.title_en,"data-no":e.title_no,children:e["title_".concat(r)]}),O&&(0,Mb.jsxs)("div",{className:"flex justify-between mt-3 gap-2",children:[(0,Mb.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{O?(x(e),E(e.title_en||""),S(e.title_no||""),T(e.image_en||""),N(e.image_no||""),D(e.description_en||""),R(e.description_no||"")):console.error("User not authorized to edit app.")})(e)},className:"flex-1 bg-yellow-500 text-white p-2 rounded text-sm hover:bg-yellow-600",children:"en"===r?"Edit":"Rediger"}),(0,Mb.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(O)if(s)try{await Qp(rp(s,"apps",e))}catch(t){console.error("Error deleting document: ",t)}else console.error("Firestore DB not initialized. Cannot delete app.");else console.error("User not authorized to delete app.")})(e.id)},className:"flex-1 bg-red-500 text-white p-2 rounded text-sm hover:bg-red-600",children:"en"===r?"Delete":"Slett"})]})]})]},e.id)))}),(0,Mb.jsx)("button",{onClick:t,className:"inline-block px-5 py-3 bg-gray-800 text-white no-underline rounded-lg font-normal transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg mt-12","data-en":"Back to Recommendations","data-no":"Tilbake til anbefalinger",children:"Back to Recommendations"})]})},$b=e=>{let{onBackClick:t,onItemClick:n,currentLang:r,books:a,user:o,db:s}=e;(0,i.useEffect)((()=>{Wb(r)}),[r]);const[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[p,g]=(0,i.useState)(""),[m,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(""),[k,E]=(0,i.useState)(""),[_,S]=(0,i.useState)(""),[C,T]=(0,i.useState)(null),[I,N]=(0,i.useState)(""),[A,D]=(0,i.useState)(""),[P,R]=(0,i.useState)(""),[O,L]=(0,i.useState)(""),[j,M]=(0,i.useState)(""),[F,U]=(0,i.useState)(""),[V,z]=(0,i.useState)(""),[B,q]=(0,i.useState)(""),[H,K]=(0,i.useState)(""),W=o&&"HCp5TlIvIxZlKvpeNwO1PWBtLfu2"===o.uid,G=e=>{if(!e)return"";let t=e.first||"";return e.middle&&(t+=" ".concat(e.middle)),e.last&&(t+=" ".concat(e.last)),t};return(0,Mb.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,Mb.jsx)("h2",{className:"text-black text-3xl md:text-4xl lg:text-5xl mb-8","data-en":"Books","data-no":"B\xf8ker",children:"Books"}),(0,Mb.jsx)("p",{className:"text-black text-lg md:text-xl lg:text-2xl mb-8","data-en":"Dive into our favorite books and literary works, including those by Christopher Hitchens.","data-no":"Dykk ned i v\xe5re favorittb\xf8ker og litter\xe6re verk, inkludert de av Christopher Hitchens.",children:"Dive into our favorite books and literary works."}),W&&(0,Mb.jsxs)("section",{className:"w-full max-w-xl mx-auto mt-8 p-6 bg-white rounded-xl shadow-lg",children:[(0,Mb.jsx)("h3",{className:"text-2xl font-bold mb-4","data-en":"Add New Book","data-no":"Legg til ny bok",children:"Add New Book"}),(0,Mb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),W)if(s)try{await Yp(np(s,"books"),{title_en:l,title_no:u,author:{first:h,middle:p,last:m},image_en:y,image_no:w,description_en:k,description_no:_,createdAt:new Date,createdBy:o.uid}),c(""),d(""),f(""),g(""),v(""),b(""),x(""),E(""),S("")}catch(t){console.error("Error adding document: ",t)}else console.error("Firestore DB not initialized. Cannot add book.");else console.error("User not authorized to add book.")},className:"flex flex-col gap-4",children:[(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (English)":"Tittel (Engelsk)",value:l,onChange:e=>c(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (Norwegian)":"Tittel (Norsk)",value:u,onChange:e=>d(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Author First Name":"Forfatter Fornavn",value:h,onChange:e=>f(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Author Middle Name (Optional)":"Forfatter Mellomnavn (Valgfritt)",value:p,onChange:e=>g(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Author Last Name":"Forfatter Etternavn",value:m,onChange:e=>v(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (English)":"Bilde-URL (Engelsk)",value:y,onChange:e=>b(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (Norwegian)":"Bilde-URL (Norsk)",value:w,onChange:e=>x(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (English)":"Beskrivelse (Engelsk)",value:k,onChange:e=>E(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (Norwegian)":"Beskrivelse (Norsk)",value:_,onChange:e=>S(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600",children:"en"===r?"Add Book":"Legg til bok"})]})]}),C&&W&&(0,Mb.jsxs)("section",{className:"w-full max-w-xl mx-auto mt-8 p-6 bg-white rounded-xl shadow-lg",children:[(0,Mb.jsx)("h3",{className:"text-2xl font-bold mb-4","data-en":"Edit Book","data-no":"Rediger bok",children:"Edit Book"}),(0,Mb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),W&&C)if(s)try{await Gp(rp(s,"books",C.id),{title_en:I,title_no:A,author:{first:P,middle:O,last:j},image_en:F,image_no:V,description_en:B,description_no:H,updatedAt:new Date}),T(null)}catch(t){console.error("Error updating document: ",t)}else console.error("Firestore DB not initialized. Cannot update book.");else console.error("User not authorized or no book selected for editing.")},className:"flex flex-col gap-4",children:[(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (English)":"Tittel (Engelsk)",value:I,onChange:e=>N(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (Norwegian)":"Tittel (Norsk)",value:A,onChange:e=>D(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Author First Name":"Forfatter Fornavn",value:P,onChange:e=>R(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Author Middle Name (Optional)":"Forfatter Mellomnavn (Valgfritt)",value:O,onChange:e=>g(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Author Last Name":"Forfatter Etternavn",value:m,onChange:e=>v(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (English)":"Bilde-URL (Engelsk)",value:F,onChange:e=>U(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (Norwegian)":"Bilde-URL (Norsk)",value:w,onChange:e=>x(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (English)":"Beskrivelse (Engelsk)",value:B,onChange:e=>E(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (Norwegian)":"Beskrivelse (Norsk)",value:_,onChange:e=>S(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsxs)("div",{className:"flex gap-2",children:[(0,Mb.jsx)("button",{type:"submit",className:"flex-1 bg-green-500 text-white p-2 rounded hover:bg-green-600",children:"en"===r?"Update Book":"Oppdater bok"}),(0,Mb.jsx)("button",{type:"button",onClick:()=>T(null),className:"flex-1 bg-gray-500 text-white p-2 rounded hover:bg-gray-600",children:"en"===r?"Cancel":"Avbryt"})]})]})]}),(0,Mb.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full max-w-6xl px-4 mt-8",children:a.map((e=>(0,Mb.jsxs)("div",{className:"bg-gray-50 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:scale-105 cursor-pointer",onClick:()=>n(e,"books"),children:[(0,Mb.jsx)("div",{className:"relative w-full pb-[150%]",children:(0,Mb.jsx)("img",{src:"en"===r?e.image_en:e.image_no||e.image_en,alt:e["title_".concat(r)],className:"absolute top-0 left-0 w-full h-full object-cover rounded-md",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/300x450/eeeeee/333333?text=No+Image"}})}),(0,Mb.jsxs)("div",{className:"p-4",children:[(0,Mb.jsx)("h3",{className:"text-xl font-bold mb-2 text-black","data-en":e.title_en,"data-no":e.title_no,children:e["title_".concat(r)]}),e.author&&(0,Mb.jsxs)("p",{className:"text-gray-600 text-sm mb-2","data-en":"By: ".concat(G(e.author)),"data-no":"Av: ".concat(G(e.author)),children:["en"===r?"By:":"Av:"," ",G(e.author)]}),W&&(0,Mb.jsxs)("div",{className:"flex justify-between mt-3 gap-2",children:[(0,Mb.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{var t,n,r;W?(T(e),N(e.title_en||""),D(e.title_no||""),R((null===(t=e.author)||void 0===t?void 0:t.first)||""),L((null===(n=e.author)||void 0===n?void 0:n.middle)||""),M((null===(r=e.author)||void 0===r?void 0:r.last)||""),U(e.image_en||""),z(e.image_no||""),q(e.description_en||""),K(e.description_no||"")):console.error("User not authorized to edit book.")})(e)},className:"flex-1 bg-yellow-500 text-white p-2 rounded text-sm hover:bg-yellow-600",children:"en"===r?"Edit":"Rediger"}),(0,Mb.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(W)if(s)try{await Qp(rp(s,"books",e))}catch(t){console.error("Error deleting document: ",t)}else console.error("Firestore DB not initialized. Cannot delete book.");else console.error("User not authorized to delete book.")})(e.id)},className:"flex-1 bg-red-500 text-white p-2 rounded text-sm hover:bg-red-600",children:"en"===r?"Delete":"Slett"})]})]})]},e.id)))}),(0,Mb.jsx)("button",{onClick:t,className:"inline-block px-5 py-3 bg-gray-800 text-white no-underline rounded-lg font-normal transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg mt-12","data-en":"Back to Recommendations","data-no":"Tilbake til anbefalinger",children:"Back to Recommendations"})]})},Xb=e=>{let{onBackClick:t,onItemClick:n,currentLang:r,podcasts:a,user:o,db:s}=e;(0,i.useEffect)((()=>{Wb(r)}),[r]);const[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[p,g]=(0,i.useState)(""),[m,v]=(0,i.useState)(""),[y,b]=(0,i.useState)(""),[w,x]=(0,i.useState)(null),[k,E]=(0,i.useState)(""),[_,S]=(0,i.useState)(""),[C,T]=(0,i.useState)(""),[I,N]=(0,i.useState)(""),[A,D]=(0,i.useState)(""),[P,R]=(0,i.useState)(""),O=o&&"HCp5TlIvIxZlKvpeNwO1PWBtLfu2"===o.uid;return(0,Mb.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,Mb.jsx)("h2",{className:"text-black text-3xl md:text-4xl lg:text-5xl mb-8","data-en":"Podcasts","data-no":"Podkaster",children:"Podcasts"}),(0,Mb.jsx)("p",{className:"text-black text-lg md:text-xl lg:text-2xl mb-8","data-en":"Listen to our recommended podcasts for all interests.","data-no":"Lytt til v\xe5re anbefalte podkaster for alle interesser.",children:"Listen to our recommended podcasts for all interests."}),O&&(0,Mb.jsxs)("section",{className:"w-full max-w-xl mx-auto mt-8 p-6 bg-white rounded-xl shadow-lg",children:[(0,Mb.jsx)("h3",{className:"text-2xl font-bold mb-4","data-en":"Add New Podcast","data-no":"Legg til ny podkast",children:"Add New Podcast"}),(0,Mb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),O)if(s)try{await Yp(np(s,"podcasts"),{title_en:l,title_no:u,image_en:h,image_no:p,description_en:m,description_no:y,createdAt:new Date,createdBy:o.uid}),c(""),d(""),f(""),g(""),v(""),b("")}catch(t){console.error("Error adding document: ",t)}else console.error("Firestore DB not initialized. Cannot add podcast.");else console.error("User not authorized to add podcast.")},className:"flex flex-col gap-4",children:[(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (English)":"Tittel (Engelsk)",value:l,onChange:e=>c(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (Norwegian)":"Tittel (Norsk)",value:u,onChange:e=>d(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (English)":"Bilde-URL (Engelsk)",value:h,onChange:e=>f(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (Norwegian)":"Bilde-URL (Norsk)",value:p,onChange:e=>g(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (English)":"Beskrivelse (Engelsk)",value:m,onChange:e=>v(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (Norwegian)":"Beskrivelse (Norsk)",value:y,onChange:e=>b(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded hover:bg-blue-600",children:"en"===r?"Add Podcast":"Legg til podkast"})]})]}),w&&O&&(0,Mb.jsxs)("section",{className:"w-full max-w-xl mx-auto mt-8 p-6 bg-white rounded-xl shadow-lg",children:[(0,Mb.jsx)("h3",{className:"text-2xl font-bold mb-4","data-en":"Edit Podcast","data-no":"Rediger podkast",children:"Edit Podcast"}),(0,Mb.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),O&&w)if(s)try{await Gp(rp(s,"podcasts",w.id),{title_en:k,title_no:_,image_en:C,image_no:I,description_en:A,description_no:P,updatedAt:new Date}),x(null)}catch(t){console.error("Error updating document: ",t)}else console.error("Firestore DB not initialized. Cannot update podcast.");else console.error("User not authorized or no podcast selected for editing.")},className:"flex flex-col gap-4",children:[(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (English)":"Tittel (Engelsk)",value:k,onChange:e=>E(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Title (Norwegian)":"Tittel (Norsk)",value:_,onChange:e=>S(e.target.value),className:"p-2 border rounded",required:!0}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (English)":"Bilde-URL (Engelsk)",value:C,onChange:e=>T(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("input",{type:"text",placeholder:"en"===r?"Image URL (Norwegian)":"Bilde-URL (Norsk)",value:p,onChange:e=>g(e.target.value),className:"p-2 border rounded"}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (English)":"Beskrivelse (Engelsk)",value:A,onChange:e=>v(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsx)("textarea",{placeholder:"en"===r?"Description (Norwegian)":"Beskrivelse (Norsk)",value:y,onChange:e=>b(e.target.value),className:"p-2 border rounded",rows:"3",required:!0}),(0,Mb.jsxs)("div",{className:"flex gap-2",children:[(0,Mb.jsx)("button",{type:"submit",className:"flex-1 bg-green-500 text-white p-2 rounded hover:bg-green-600",children:"en"===r?"Update Podcast":"Oppdater podkast"}),(0,Mb.jsx)("button",{type:"button",onClick:()=>x(null),className:"flex-1 bg-gray-500 text-white p-2 rounded hover:bg-gray-600",children:"en"===r?"Cancel":"Avbryt"})]})]})]}),(0,Mb.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full max-w-6xl px-4",children:a.map((e=>(0,Mb.jsxs)("div",{className:"bg-gray-50 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl hover:scale-105 cursor-pointer",onClick:()=>n(e,"podcasts"),children:[(0,Mb.jsx)("div",{className:"relative w-full pb-[100%]",children:(0,Mb.jsx)("img",{src:"en"===r?e.image_en:e.image_no||e.image_en,alt:e["title_".concat(r)],className:"absolute top-0 left-0 w-full h-full object-cover rounded-md",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/300x300/eeeeee/333333?text=No+Image"}})}),(0,Mb.jsxs)("div",{className:"p-4",children:[(0,Mb.jsx)("h3",{className:"text-xl font-bold mb-2 text-black","data-en":e.title_en,"data-no":e.title_no,children:e["title_".concat(r)]}),O&&(0,Mb.jsxs)("div",{className:"flex justify-between mt-3 gap-2",children:[(0,Mb.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{O?(x(e),E(e.title_en||""),S(e.title_no||""),T(e.image_en||""),N(e.image_no||""),D(e.description_en||""),R(e.description_no||"")):console.error("User not authorized to edit podcast.")})(e)},className:"flex-1 bg-yellow-500 text-white p-2 rounded text-sm hover:bg-yellow-600",children:"en"===r?"Edit":"Rediger"}),(0,Mb.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(O)if(s)try{await Qp(rp(s,"podcasts",e))}catch(t){console.error("Error deleting document: ",t)}else console.error("Firestore DB not initialized. Cannot delete podcast.");else console.error("User not authorized to delete podcast.")})(e.id)},className:"flex-1 bg-red-500 text-white p-2 rounded text-sm hover:bg-red-600",children:"en"===r?"Delete":"Slett"})]})]})]},e.id)))}),(0,Mb.jsx)("button",{onClick:t,className:"inline-block px-5 py-3 bg-gray-800 text-white no-underline rounded-lg font-normal transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg mt-12","data-en":"Back to Recommendations","data-no":"Tilbake til anbefalinger",children:"Back to Recommendations"})]})},Jb=e=>{let{onCategoryClick:t,onBackClick:n,currentLang:r}=e;return(0,i.useEffect)((()=>{Wb(r)}),[r]),(0,Mb.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,Mb.jsx)("h2",{className:"text-black text-3xl md:text-4xl lg:text-5xl mb-8","data-en":"Recommendations","data-no":"Anbefalinger",children:"Recommendations"}),(0,Mb.jsx)("p",{className:"text-black text-lg md:text-xl lg:text-2xl mb-8","data-en":"Explore content across various categories.","data-no":"Utforsk innhold i ulike kategorier.",children:"Explore content across various categories."}),(0,Mb.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 w-full max-w-4xl",children:[(0,Mb.jsxs)("div",{className:"category-link movies-category bg-red-100 p-6 rounded-xl shadow-lg flex flex-col items-center justify-center transition-all duration-300 hover:shadow-xl hover:scale-105 cursor-pointer",onClick:()=>t("movies"),children:[(0,Mb.jsx)("i",{className:"icon fa-solid fa-film text-red-500 text-6xl mb-4"}),(0,Mb.jsx)("h3",{className:"text-2xl font-bold text-red-800","data-en":"Movies","data-no":"Filmer",children:"Movies"})]}),(0,Mb.jsxs)("div",{className:"category-link apps-category bg-blue-100 p-6 rounded-xl shadow-lg flex flex-col items-center justify-center transition-all duration-300 hover:shadow-xl hover:scale-105 cursor-pointer",onClick:()=>t("apps"),children:[(0,Mb.jsx)("i",{className:"icon fa-solid fa-mobile-alt text-blue-500 text-6xl mb-4"}),(0,Mb.jsx)("h3",{className:"text-2xl font-bold text-blue-800","data-en":"Apps","data-no":"Apper",children:"Apps"})]}),(0,Mb.jsxs)("div",{className:"category-link books-category bg-green-100 p-6 rounded-xl shadow-lg flex flex-col items-center justify-center transition-all duration-300 hover:shadow-xl hover:scale-105 cursor-pointer",onClick:()=>t("books"),children:[(0,Mb.jsx)("i",{className:"icon fa-solid fa-book text-green-500 text-6xl mb-4"}),(0,Mb.jsx)("h3",{className:"text-2xl font-bold text-green-800","data-en":"Books","data-no":"B\xf8ker",children:"Books"})]}),(0,Mb.jsxs)("div",{className:"category-link podcasts-category bg-purple-100 p-6 rounded-xl shadow-lg flex flex-col items-center justify-center transition-all duration-300 hover:shadow-xl hover:scale-105 cursor-pointer",onClick:()=>t("podcasts"),children:[(0,Mb.jsx)("i",{className:"icon fa-solid fa-podcast text-purple-500 text-6xl mb-4"}),(0,Mb.jsx)("h3",{className:"text-2xl font-bold text-purple-800","data-en":"Podcasts","data-no":"Podkaster",children:"Podcasts"})]})]}),(0,Mb.jsx)("button",{onClick:n,className:"inline-block px-5 py-3 bg-gray-800 text-white no-underline rounded-lg font-normal transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg mt-12","data-en":"Back to Home","data-no":"Tilbake til hjem",children:"Back to Home"})]})},Zb="c_a9eccf039804a661_landing-page-react-439",ew={personalDetails:{born:"11.01.2002",languages_en:"Norwegian (native), English (fluent)",languages_no:"Norsk (morsm\xe5l), Engelsk (flytende)",updatedAt:(new Date).toISOString()},education:[{id:"edu1",institution_en:"University of Bergen",institution_no:"Universitetet i Bergen",degree_en:"Master's degree in Comparative Politics",degree_no:"Mastergrad i sammenlignende politikk",date:"2025-2027",thesis_en:"Thesis Title: (To be determined)",thesis_no:"Tittel p\xe5 masteroppgave: (Ikke bestemt)",logo:"https://media.snl.no/media/11669/standard_uib.png"},{id:"edu2",institution_en:"University of Bergen",institution_no:"Universitetet i Bergen",degree_en:"Bachelor's degree in Comparative Politics",degree_no:"Bachelorgrad i sammenlignende politikk",date:"2022-2025",thesis_en:'Thesis Title: "The Elephant in the Room: How the GOP Paved the Way for Trump\u2019s Populism"',thesis_no:'Tittel p\xe5 bacheloroppgave: "The Elephant in the Room: How the GOP Paved the Way for Trump\u2019s Populism"',supervisor_en:"Supervisor: Jonas Linde (UiB)",supervisor_no:"Veileder: Jonas Linde (UiB)",courses_en:"Courses: SAMPOL100 Introduction to Comparative Politics, SAMPOL103 Political ideologies, SAMPOL105 State and Nation Building, SAMPOL106 Political Institutions in Established Democracies, SAMPOL107 Political Mobilization, SAMPOL115 Democracy and Democratization, MET102 Methods in the Social Sciences, SAMPOL203 Comparative Arctic Indigenous Governance, SAMPOL226 Populism and its Consequences for Liberal Democracy, SAMPOL233 Forsvar og totalforsvar i etablerte demokrati, SAMPOL230 Party Politics in Europa andutover, SAMPOL235 The Politics and Global Governance of International Protection, SAMPOL238 The Politics of Contestation, SAMPOL260 Bachelor Essay in Comparative Politics",courses_no:"Emner: SAMPOL100 Introduksjon til sammenlignende politikk, SAMPOL103 Politiske ideologier, SAMPOL105 Stats- og nasjonsbygging, SAMPOL106 Politiske institusjoner i etablerte demokratier, SAMPOL107 Politisk mobilisering, SAMPOL115 Demokrati og demokratisering, MET102 Samfunnsvitenskapelige metoder, SAMPOL203 Sammenlignende urfolksstyring i Arktis, SAMPOL226 Populisme og dens konsekvenser for liberalt demokrati, SAMPOL233 Forsvar og totalforsvar i etablerte demokrati, SAMPOL230 Partipolitikk i Europa og utover, SAMPOL235 Internasjonal beskyttelsespolitikk og global styring, SAMPOL238 Protestpolitikk, SAMPOL260 Bacheloroppgave i sammenlignende politikk",logo:"https://media.snl.no/media/11669/standard_uib.png"}],experience:[{id:"exp1",company_en:"United Nations Association of Norway",company_no:"FN-sambandet",position_en:"Intern",position_no:"Praktikant",date:"Jan 2025 - Jul 2025",description_en:"Unpaid internship as part of my Comparative Politics bachelor's degree (SAMPOL290 Comparative Politics Internship)",description_no:"Ul\xf8nnet praksisplass som del av bachelorgraden i sammenlignende politikk (SAMPOL290 Praksis i sammenlignende politikk)",logo:"https://media.snl.no/media/17348/standard_FN-sambandet-logo.png"}],roles:[{id:"role1",organization_en:"University of Bergen",organization_no:"Universitetet i Bergen",role_en:"Representative on the University's Learning Environment Committee",role_no:"Studentrepresentant i universitetets l\xe6ringsmilj\xf8utvalg",date:"2023-2025",description_en:"Elected by the Student Parliament for two terms: 1 Aug 2023-31 Jul 2024 & 1 Aug 2024-31 Jul 2025",description_no:"Valgt av Studentparlamentet for to perioder: 1. august 2023-31. juli 2024 og 1. august 2024-31. juli 2025",logo:"https://media.snl.no/media/11669/standard_uib.png"},{id:"role2",organization_en:"Sampolkonferansen (Comparative Politics Conference)",organization_no:"Sampolkonferansen (Sammenlignende Politikk Konferanse)",role_en:"PR Committee Member",role_no:"Medlem av PR-komiteen",date:"2022-2023",description_en:"Contributed to public relations and marketing efforts, with responsibility for the website and other communication channels",description_no:"Bidro til PR- og markedsf\xf8ringsarbeidet, med ansvar for netusiden og andre kommunikasjonskanaler",logo:"https://placehold.co/60x60/FF5733/FFFFFF?text=SC"},{id:"role3",organization_en:"Social Democratic List",organization_no:"Sosialdemokratiske liste",role_en:"Head of the Social Democratic List",role_no:"Listeleder for Sosialdemokratiske liste",date:"2023-2024",description_en:"I was Head of the Social Democratic List at the University of Bergen Student Parliament, representing and coordinating the list's activities and initiatives from March 2023 to March 2024.",description_no:"Jeg var listeleder for sosialdemokratisk liste ved Studentparlamentet ved Universitetet i Bergen, og representerte samt koordinerte listens aktiviteter og initiativ fra mars 2023 til mars 2024.",logo:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRm4mvh0jdZ2t9qtEHCCjhqnnxs-XecXbQr8g&s"},{id:"role4",organization_en:"Bergen AUF (Labour Party Youth Organisation)",organization_no:"Bergen AUF (Arbeiderpartiets Ungdomsorganisasjon)",role_en:"Board Member",role_no:"Styremedlem",date:"2020-2024",logo:"https://media.snl.no/media/63475/standard_auf.png"},{id:"role5",organization_en:"A-STUD (Labour Party Student Group in Bergen)",organization_no:"A-STUD (Arbeiderpartiets Studentgruppe in Bergen)",role_en:"Board Member",role_no:"Styremedlem",date:"2024-2025",logo:"https://samskipnaden.imgix.net/foreninger/271707754_233769422243385_179932508120700312_n.png?w=3840&auto=compress,format"},{id:"role6",organization_en:"The Architectural Uprising Bergen",organization_no:"Arkitekturoppr\xf8ret Bergen",role_en:"Head of Communications",role_no:"Kommunikasjonsansvarlig",date:"2024-Present",description_en:"Responsible to key individuals, and for developing communication strategies for use on various political parties.",description_no:"Ansvarlig overfor sentrale personer og for \xe5 utvikle kommunikasjonsstrategier for bruk ovenfor ulike politiske partier.",logo:"https://placehold.co/60x60/8B4513/FFFFFF?text=AB"}],skills:[{id:"skill1",name_en:"Writing and editing",name_no:"Skriving og redigering",icon:"fas fa-pencil-alt",type:"icon"},{id:"skill2",name_en:"Research and analysis",name_no:"Forskning og analyse",icon:"fas fa-magnifying-glass",type:"icon"},{id:"skill3",name_en:"Communication",name_no:"Kommunikasjon",icon:"fas fa-comments",type:"icon"},{id:"skill4",name_en:"Speech writing",name_no:"Taleskriving",icon:"fas fa-microphone-alt",type:"icon"},{id:"skill5",name_en:"Project management",name_no:"Prosjektledelse",icon:"fas fa-tasks",type:"icon"},{id:"skill6",name_en:"Content creation and digital media",name_no:"Innholdsproduksjon og digitale medier",icon:"fas fa-video",type:"icon"},{id:"skill7",name_en:"Languages (fluent in Norwegian and English)",name_no:"Spr\xe5k (flytende i norsk og engelsk)",type:"flags",flags:["https://flagcdn.com/gb.svg","https://upload.wikimedia.org/wikipedia/commons/d/d9/Flag_of_Norway.svg"]},{id:"skill8",name_en:"Microsoft Word",name_no:"Microsoft Word",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/f/fd/Microsoft_Office_Word_%282019%E2%80%93present%29.svg/768px-Microsoft_Office_Word_%282019%E2%80%93present%29.svg.png",type:"image"},{id:"skill9",name_en:"Microsoft PowerPoint",name_no:"Microsoft PowerPoint",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0d/Microsoft_Office_PowerPoint_%282019%E2%80%93present%29.svg/768px-Microsoft_Office_PowerPoint_%282019%E2%80%93present%29.svg.png",type:"image"},{id:"skill10",name_en:"Microsoft Excel",name_no:"Microsoft Excel",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Microsoft_Office_Excel_%282019%E2%80%93present%29.svg/768px-Microsoft_Office_Excel_%282019%E2%80%93present%29.svg.png",type:"image"},{id:"skill11",name_en:"Windows",name_no:"Windows",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Windows_logo_-_2021.svg/640px-Windows_logo_-_2021.svg.png",type:"image"},{id:"skill12",name_en:"Markdown",name_no:"Markdown",icon:"fa-brands fa-markdown",type:"icon"},{id:"skill13",name_en:"Obsidian.md",name_no:"Obsidian.md",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/10/2023_Obsidian_logo.svg/640px-2023_Obsidian_logo.png",type:"image"}]};function tw(e){let{onBackClick:t,currentLang:n,db:r}=e;const{currentUser:a}=Bb(),[o,s]=(0,i.useState)(null),[l,c]=(0,i.useState)(!0),[u,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(!1),[g,m]=(0,i.useState)(null),[v,y]=(0,i.useState)("idle"),b=a&&"HCp5TlIvIxZlKvpeNwO1PWBtLfu2"===a.uid;(0,i.useEffect)((()=>{Wb(n)}),[n]),(0,i.useEffect)((()=>{if(!r)return h("Firestore DB not initialized."),void c(!1);const e=rp(r,"artifacts/".concat(Zb,"/public/data/cv"),"mainCV");console.log("Attempting to fetch CV from path:",e.path);const t=$p(e,(async t=>{if(t.exists()){const n=t.data();if(0===Object.keys(n).length&&b){console.log("Admin: Existing empty CV document detected. Attempting to re-populate.");try{await Wp(e,ew),s(ew),h(null),console.log("Admin: Empty CV document re-populated successfully.")}catch(aw){console.error("Error re-populating empty CV document by admin: ",aw),h("Failed to re-populate CV data. Check admin permissions.")}}else s(n),h(null),console.log("CV data fetched from Firestore successfully from:",e.path)}else if(console.log("CV document does not exist at:",e.path),b){console.log("Admin user detected. Attempting to create with initial data.");try{await Wp(e,ew),s(ew),h(null),console.log("Initial CV data successfully written to Firestore by admin to:",e.path)}catch(aw){console.error("Error setting initial CV document by admin: ",aw),h("Failed to initialize CV data. Check admin permissions.")}}else console.log("Non-admin user. CV document does not exist and will not be created automatically."),s(null),h("No CV data available.");c(!1)}),(e=>{console.error("Error fetching CV document: ",e),h("Failed to fetch CV data."),c(!1)}));return()=>t()}),[r,b]),(0,i.useEffect)((()=>{const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const t=e.target;if(t.classList.add("is-visible"),"SECTION"===t.tagName){t.querySelectorAll("li, .skill-item, .institution-logo, .app-logo, .pdf-download-section").forEach(((e,t)=>{e.style.setProperty("--stagger-delay","".concat(.15*t,"s")),e.classList.add("is-visible")}))}}else e.target.classList.remove("is-visible")}))}),{root:null,rootMargin:"0px",threshold:.2});return document.querySelectorAll("h2, .cv-container section, .pdf-download-section").forEach((t=>{e.observe(t)})),document.querySelectorAll("section ul li, .skills-grid .skill-item").forEach((t=>{e.observe(t)})),document.querySelectorAll(".institution-logo, .app-logo").forEach((t=>{e.observe(t)})),()=>e.disconnect()}),[o]);const w=e=>{let t;t="en"===e?"https://solheim.online/KIANOSH F SOLHEIM CV EN.pdf":"https://solheim.online/KIANOSH F SOLHEIM CV NO.pdf",window.open(t,"_blank")},x=(e,t,n)=>{m((r=>d(d({},r),{},{[e]:r[e].map((e=>e.id===t?d(d({},e),n):e))})))},k=(e,t)=>{m((n=>d(d({},n),{},{[e]:n[e].filter((e=>e.id!==t))})))},E=(e,t)=>{m((n=>d(d({},n),{},{[e]:[...n[e],d({id:Date.now().toString()},t)]})))};return l?(0,Mb.jsx)("div",{className:"flex items-center justify-center min-h-screen text-gray-700 text-xl",children:(0,Mb.jsx)("span",{"data-en":"Loading CV...","data-no":"Laster CV...",children:"Laster CV..."})}):u?(0,Mb.jsxs)("div",{className:"flex items-center justify-center min-h-screen text-red-500 text-xl",children:[(0,Mb.jsx)("span",{"data-en":"Error loading CV: ","data-no":"Feil ved lasting av CV: ",children:"Error loading CV: "}),u]}):o||b?(0,Mb.jsxs)("div",{className:"cv-container w-full max-w-4xl mx-auto p-8 bg-white rounded-xl shadow-lg flex flex-col items-center text-left",children:[(0,Mb.jsx)("h1",{className:"text-center text-4xl text-gray-800 mb-2 animate-fade-in","data-en":"Curriculum Vitae","data-no":"Curriculum Vitae",children:"Curriculum Vitae"}),(0,Mb.jsxs)("div",{className:"contact-info text-center text-gray-600 text-lg animate-fade-in animate-delay-500",children:[(0,Mb.jsx)("p",{children:"Kianosh F. Solheim"}),(0,Mb.jsxs)("p",{children:[(0,Mb.jsx)("span",{"data-en":"Updated:","data-no":"Oppdatert:",children:"Updated:"})," ",null!==o&&void 0!==o&&o.personalDetails.updatedAt?new Date(o.personalDetails.updatedAt).toLocaleDateString("no"===n?"nb-NO":"en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"]})]}),b&&(0,Mb.jsxs)("div",{className:"flex justify-center gap-4 mt-6 mb-8 w-full",children:[f?(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsx)("button",{onClick:async()=>{if(b&&r&&g){y("saving");try{const e=rp(r,"artifacts/".concat(Zb,"/public/data/cv"),"mainCV");await Gp(e,d(d({},g),{},{updatedAt:(new Date).toISOString()})),y("saved"),p(!1),s(g),console.log("CV data saved successfully.")}catch(aw){console.error("Error saving CV data: ",aw),y("error"),h("Failed to save CV data. Please try again.")}finally{c(!1)}}else console.error("Save failed: Not admin, no CV data, or DB not initialized.")},className:"px-5 py-3 bg-green-600 text-white rounded-lg font-normal transition-all duration-300 hover:bg-green-700 hover:scale-105 shadow-md",disabled:"saving"===v,children:"saving"===v?"en"===n?"Saving...":"Lagrer...":"en"===n?"Save Changes":"Lagre endringer"}),(0,Mb.jsx)("button",{onClick:()=>{p(!1),m(null),y("idle")},className:"px-5 py-3 bg-red-600 text-white rounded-lg font-normal transition-all duration-300 hover:bg-red-700 hover:scale-105 shadow-md",children:"en"===n?"Cancel":"Avbryt"})]}):(0,Mb.jsx)("button",{onClick:()=>{m(JSON.parse(JSON.stringify(o))),p(!0),y("idle")},className:"px-5 py-3 bg-blue-600 text-white rounded-lg font-normal transition-all duration-300 hover:bg-blue-700 hover:scale-105 shadow-md",children:"en"===n?"Edit CV":"Rediger CV"}),"saved"===v&&(0,Mb.jsx)("p",{className:"text-green-500",children:"en"===n?"Saved!":"Lagret!"}),"error"===v&&(0,Mb.jsx)("p",{className:"text-red-500",children:"en"===n?"Save failed!":"Lagring feilet!"})]}),(0,Mb.jsxs)("section",{className:"pdf-download-section w-full",children:[(0,Mb.jsx)("h3",{className:"text-gray-700 text-base mb-2","data-en":"Download CV as PDF","data-no":"Last ned CV som PDF",children:"Download CV as PDF"}),(0,Mb.jsxs)("div",{className:"pdf-buttons flex justify-center gap-3 flex-wrap",children:[(0,Mb.jsxs)("button",{className:"pdf-button bg-gray-800 text-white px-4 py-2 rounded-lg text-sm cursor-pointer transition-all duration-300 hover:bg-gray-700 shadow-md flex items-center gap-1",onClick:()=>w("en"),children:[(0,Mb.jsx)("i",{className:"fa-solid fa-file-pdf"})," ",(0,Mb.jsx)("span",{"data-en":"Download English PDF","data-no":"Last ned engelsk PDF",children:"Download English PDF"})]}),(0,Mb.jsxs)("button",{className:"pdf-button bg-gray-800 text-white px-4 py-2 rounded-lg text-sm cursor-pointer transition-all duration-300 hover:bg-gray-700 shadow-md flex items-center gap-1",onClick:()=>w("no"),children:[(0,Mb.jsx)("i",{className:"fa-solid fa-file-pdf"})," ",(0,Mb.jsx)("span",{"data-en":"Download Norwegian PDF","data-no":"Last ned norsk PDF",children:"Last ned norsk PDF"})]})]})]}),o&&(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsxs)("section",{className:"w-full mb-8",children:[(0,Mb.jsx)("h2",{className:"text-gray-700 text-2xl border-b-2 border-gray-200 pb-2 mb-6","data-en":"Personal Details","data-no":"Personlige Opplysninger",children:"Personal Details"}),(0,Mb.jsx)("ul",{children:(0,Mb.jsx)("li",{className:"bg-white p-4 mb-4 rounded-lg shadow-sm flex items-start gap-4",children:(0,Mb.jsx)("div",{className:"item-content w-full",children:f?(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-1",htmlFor:"born",children:"Born:"}),(0,Mb.jsx)("input",{type:"text",id:"born",value:g.personalDetails.born,onChange:e=>m((t=>d(d({},t),{},{personalDetails:d(d({},t.personalDetails),{},{born:e.target.value})}))),className:"p-2 border border-gray-300 rounded-md w-full mb-2"}),(0,Mb.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-1",htmlFor:"languages_en",children:"Languages (English):"}),(0,Mb.jsx)("input",{type:"text",id:"languages_en",value:g.personalDetails.languages_en,onChange:e=>m((t=>d(d({},t),{},{personalDetails:d(d({},t.personalDetails),{},{languages_en:e.target.value})}))),className:"p-2 border border-gray-300 rounded-md w-full mb-2"}),(0,Mb.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-1",htmlFor:"languages_no",children:"Languages (Norwegian):"}),(0,Mb.jsx)("input",{type:"text",id:"languages_no",value:g.personalDetails.languages_no,onChange:e=>m((t=>d(d({},t),{},{personalDetails:d(d({},t.personalDetails),{},{languages_no:e.target.value})}))),className:"p-2 border border-gray-300 rounded-md w-full mb-2"})]}):(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsxs)("p",{children:[(0,Mb.jsx)("strong",{"data-en":"Born:","data-no":"F\xf8dt:",children:"Born:"})," ",o.personalDetails.born]}),(0,Mb.jsxs)("p",{children:[(0,Mb.jsx)("strong",{"data-en":"Languages:","data-no":"Spr\xe5k:",children:"Languages:"})," ",o.personalDetails["languages_".concat(n)]]})]})})})})]}),(0,Mb.jsxs)("section",{className:"w-full mb-8",children:[(0,Mb.jsx)("h2",{className:"text-gray-700 text-2xl border-b-2 border-gray-200 pb-2 mb-6","data-en":"Education","data-no":"Utdanning",children:"Education"}),(0,Mb.jsx)("ul",{children:(f?g.education:o.education).map(((e,t)=>(0,Mb.jsxs)("li",{className:"bg-white p-4 mb-4 rounded-lg shadow-sm flex items-start gap-4 animate-on-scroll",style:{"--stagger-delay":"".concat(.1*t,"s")},children:[(0,Mb.jsx)("img",{src:e.logo,alt:e["institution_".concat(n)],className:"institution-logo w-16 h-16 rounded-lg object-contain flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/60x60/eeeeee/333333?text=Logo"}}),(0,Mb.jsx)("div",{className:"item-content flex-grow w-full",children:f?(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsx)("input",{type:"text",placeholder:"Institution (EN)",value:e.institution_en,onChange:t=>x("education",e.id,{institution_en:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Institution (NO)",value:e.institution_no,onChange:t=>x("education",e.id,{institution_no:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Degree (EN)",value:e.degree_en,onChange:t=>x("education",e.id,{degree_en:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Degree (NO)",value:e.degree_no,onChange:t=>x("education",e.id,{degree_no:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Date",value:e.date,onChange:t=>x("education",e.id,{date:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Thesis Title (EN)",value:e.thesis_en,onChange:t=>x("education",e.id,{thesis_en:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Thesis Title (NO)",value:e.thesis_no,onChange:t=>x("education",e.id,{thesis_no:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Supervisor (EN)",value:e.supervisor_en||"",onChange:t=>x("education",e.id,{supervisor_en:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Supervisor (NO)",value:e.supervisor_no||"",onChange:t=>x("education",e.id,{supervisor_no:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("textarea",{placeholder:"Courses (EN)",value:e.courses_en||"",onChange:t=>x("education",e.id,{courses_en:t.target.value}),className:"p-2 border rounded w-full mb-1",rows:"3"}),(0,Mb.jsx)("textarea",{placeholder:"Courses (NO)",value:e.courses_no||"",onChange:t=>x("education",e.id,{courses_no:t.target.value}),className:"p-2 border rounded w-full mb-1",rows:"3"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Logo URL",value:e.logo,onChange:t=>x("education",e.id,{logo:t.target.value}),className:"p-2 border rounded w-full mb-2"}),(0,Mb.jsx)("button",{onClick:()=>k("education",e.id),className:"bg-red-500 text-white p-2 rounded text-sm hover:bg-red-600 w-full",children:"en"===n?"Delete":"Slett"})]}):(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsxs)("h3",{className:"text-xl font-semibold text-gray-800","data-en":e.degree_en,"data-no":e.degree_no,children:[e["degree_".concat(n)],", ",e["institution_".concat(n)]]}),(0,Mb.jsx)("p",{className:"text-gray-500 text-sm",children:e.date}),e["thesis_".concat(n)]&&(0,Mb.jsxs)("p",{className:"text-gray-600 text-sm mt-1","data-en":e.thesis_en,"data-no":e.thesis_no,children:["Thesis: ",e["thesis_".concat(n)]]}),e["supervisor_".concat(n)]&&(0,Mb.jsx)("p",{className:"text-gray-600 text-sm mt-1","data-en":e.supervisor_en,"data-no":e.supervisor_no,children:e["supervisor_".concat(n)]}),e["courses_".concat(n)]&&(0,Mb.jsxs)("p",{className:"text-gray-600 text-sm mt-1","data-en":e.courses_en,"data-no":e.courses_no,children:["Courses: ",e["courses_".concat(n)]]})]})})]},e.id)))}),b&&f&&(0,Mb.jsx)("div",{className:"mt-4",children:(0,Mb.jsx)("button",{onClick:()=>E("education",{institution_en:"",institution_no:"",degree_en:"",degree_no:"",date:"",thesis_en:"",thesis_no:"",supervisor_en:"",supervisor_no:"",courses_en:"",courses_no:"",logo:""}),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"en"===n?"Add New Education":"Legg til ny utdanning"})})]}),(0,Mb.jsxs)("section",{className:"w-full mb-8",children:[(0,Mb.jsx)("h2",{className:"text-gray-700 text-2xl border-b-2 border-gray-200 pb-2 mb-6","data-en":"Professional Experience","data-no":"Yrkeserfaring",children:"Professional Experience"}),(0,Mb.jsx)("ul",{children:(f?g.experience:o.experience).map(((e,t)=>(0,Mb.jsxs)("li",{className:"bg-white p-4 mb-4 rounded-lg shadow-sm flex items-start gap-4 animate-on-scroll",style:{"--stagger-delay":"".concat(.1*t,"s")},children:[(0,Mb.jsx)("img",{src:e.logo,alt:e["company_".concat(n)],className:"institution-logo w-16 h-16 rounded-lg object-contain flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/60x60/eeeeee/333333?text=Logo"}}),(0,Mb.jsx)("div",{className:"item-content flex-grow w-full",children:f?(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsx)("input",{type:"text",placeholder:"Company (EN)",value:e.company_en,onChange:t=>x("experience",e.id,{company_en:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Company (NO)",value:e.company_no,onChange:t=>x("experience",e.id,{company_no:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Position (EN)",value:e.position_en,onChange:t=>x("experience",e.id,{position_en:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Position (NO)",value:e.position_no,onChange:t=>x("experience",e.id,{position_no:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Date",value:e.date,onChange:t=>x("experience",e.id,{date:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("textarea",{placeholder:"Description (EN)",value:e.description_en,onChange:t=>x("experience",e.id,{description_en:t.target.value}),className:"p-2 border rounded w-full mb-1",rows:"3"}),(0,Mb.jsx)("textarea",{placeholder:"Description (NO)",value:e.description_no,onChange:t=>x("experience",e.id,{description_no:t.target.value}),className:"p-2 border rounded w-full mb-1",rows:"3"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Logo URL",value:e.logo,onChange:t=>x("experience",e.id,{logo:t.target.value}),className:"p-2 border rounded w-full mb-2"}),(0,Mb.jsx)("button",{onClick:()=>k("experience",e.id),className:"bg-red-500 text-white p-2 rounded text-sm hover:bg-red-600 w-full",children:"en"===n?"Delete":"Slett"})]}):(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsxs)("h3",{className:"text-xl font-semibold text-gray-800","data-en":e.position_en,"data-no":e.position_no,children:[e["position_".concat(n)],", ",e["company_".concat(n)]]}),(0,Mb.jsx)("p",{className:"text-gray-500 text-sm",children:e.date}),(0,Mb.jsx)("p",{className:"text-gray-600 text-sm mt-1","data-en":e.description_en,"data-no":e.description_no,children:e["description_".concat(n)]})]})})]},e.id)))}),b&&f&&(0,Mb.jsx)("div",{className:"mt-4",children:(0,Mb.jsx)("button",{onClick:()=>E("experience",{company_en:"",company_no:"",position_en:"",position_no:"",date:"",description_en:"",description_no:"",logo:""}),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"en"===n?"Add New Experience":"Legg til ny erfaring"})})]}),(0,Mb.jsxs)("section",{className:"w-full mb-8",children:[(0,Mb.jsx)("h2",{className:"text-gray-700 text-2xl border-b-2 border-gray-200 pb-2 mb-6","data-en":"Roles","data-no":"Roller",children:"Roles"}),(0,Mb.jsx)("ul",{children:(f?g.roles:o.roles).map(((e,t)=>(0,Mb.jsxs)("li",{className:"bg-white p-4 mb-4 rounded-lg shadow-sm flex items-start gap-4 animate-on-scroll",style:{"--stagger-delay":"".concat(.1*t,"s")},children:[(0,Mb.jsx)("img",{src:e.logo,alt:e["organization_".concat(n)],className:"institution-logo w-16 h-16 rounded-lg object-contain flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/60x60/eeeeee/333333?text=Logo"}}),(0,Mb.jsx)("div",{className:"item-content flex-grow w-full",children:f?(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsx)("input",{type:"text",placeholder:"Organization (EN)",value:e.organization_en,onChange:t=>x("roles",e.id,{organization_en:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Organization (NO)",value:e.organization_no,onChange:t=>x("roles",e.id,{organization_no:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Role (EN)",value:e.role_en,onChange:t=>x("roles",e.id,{role_en:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Role (NO)",value:e.role_no,onChange:t=>x("roles",e.id,{role_no:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Date",value:e.date,onChange:t=>x("roles",e.id,{date:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("textarea",{placeholder:"Description (EN)",value:e.description_en||"",onChange:t=>x("roles",e.id,{description_en:t.target.value}),className:"p-2 border rounded w-full mb-1",rows:"3"}),(0,Mb.jsx)("textarea",{placeholder:"Description (NO)",value:e.description_no||"",onChange:t=>x("roles",e.id,{description_no:t.target.value}),className:"p-2 border rounded w-full mb-1",rows:"3"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Logo URL",value:e.logo,onChange:t=>x("roles",e.id,{logo:t.target.value}),className:"p-2 border rounded w-full mb-2"}),(0,Mb.jsx)("button",{onClick:()=>k("roles",e.id),className:"bg-red-500 text-white p-2 rounded text-sm hover:bg-red-600 w-full",children:"en"===n?"Delete":"Slett"})]}):(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsxs)("h3",{className:"text-xl font-semibold text-gray-800","data-en":e.role_en,"data-no":e.role_no,children:[e["role_".concat(n)],", ",e["organization_".concat(n)]]}),(0,Mb.jsx)("p",{className:"text-gray-500 text-sm",children:e.date}),e.description_en&&(0,Mb.jsx)("p",{className:"text-gray-600 text-sm mt-1","data-en":e.description_en,"data-no":e.description_no,children:e["description_".concat(n)]})]})})]},e.id)))}),b&&f&&(0,Mb.jsx)("div",{className:"mt-4",children:(0,Mb.jsx)("button",{onClick:()=>E("roles",{organization_en:"",organization_no:"",role_en:"",role_no:"",date:"",description_en:"",description_no:"",logo:""}),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"en"===n?"Add New Role":"Legg til ny rolle"})})]}),(0,Mb.jsxs)("section",{className:"w-full mb-8",children:[(0,Mb.jsx)("h2",{className:"text-gray-700 text-2xl border-b-2 border-gray-200 pb-2 mb-6","data-en":"Skills","data-no":"Ferdigheter",children:"Skills"}),(0,Mb.jsx)("div",{className:"skills-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(f?g.skills:o.skills).map(((e,t)=>(0,Mb.jsx)("div",{className:"skill-item bg-white p-4 rounded-lg shadow-sm text-center flex flex-col items-center justify-center animate-on-scroll",style:{"--stagger-delay":"".concat(.05*t,"s")},children:f?(0,Mb.jsxs)(Mb.Fragment,{children:[(0,Mb.jsx)("input",{type:"text",placeholder:"Skill Name (EN)",value:e.name_en,onChange:t=>x("skills",e.id,{name_en:t.target.value}),className:"p-2 border rounded w-full mb-1"}),(0,Mb.jsx)("input",{type:"text",placeholder:"Skill Name (NO)",value:e.name_no,onChange:t=>x("skills",e.id,{name_no:t.target.value}),className:"p-2 border rounded w-full mb-1"}),"icon"===e.type&&(0,Mb.jsx)("input",{type:"text",placeholder:"Icon Class (e.g., fas fa-star)",value:e.icon,onChange:t=>x("skills",e.id,{icon:t.target.value}),className:"p-2 border rounded w-full mb-1"}),"image"===e.type&&(0,Mb.jsx)("input",{type:"text",placeholder:"Image URL",value:e.image,onChange:t=>x("skills",e.id,{image:t.target.value}),className:"p-2 border rounded w-full mb-1"}),"flags"===e.type&&(0,Mb.jsx)("textarea",{placeholder:"Flag URLs (comma-separated)",value:e.flags.join(", "),onChange:t=>x("skills",e.id,{flags:t.target.value.split(",").map((e=>e.trim()))}),className:"p-2 border rounded w-full mb-1",rows:"2"}),(0,Mb.jsxs)("select",{value:e.type,onChange:t=>x("skills",e.id,{type:t.target.value,icon:"",image:"",flags:[]}),className:"p-2 border rounded w-full mb-2",children:[(0,Mb.jsx)("option",{value:"icon",children:"Icon"}),(0,Mb.jsx)("option",{value:"image",children:"Image"}),(0,Mb.jsx)("option",{value:"flags",children:"Flags"})]}),(0,Mb.jsx)("button",{onClick:()=>k("skills",e.id),className:"bg-red-500 text-white p-2 rounded text-sm hover:bg-red-600 w-full",children:"en"===n?"Delete":"Slett"})]}):(0,Mb.jsxs)(Mb.Fragment,{children:["icon"===e.type&&(0,Mb.jsx)("i",{className:"".concat(e.icon," text-4xl mb-2 text-blue-600")}),"image"===e.type&&(0,Mb.jsx)("img",{src:e.image,alt:e["name_".concat(n)],className:"app-logo w-12 h-12 mb-2 object-contain rounded-md shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/48x48/eeeeee/333333?text=App"}}),"flags"===e.type&&(0,Mb.jsx)("div",{className:"flag-container flex justify-center items-center mb-2",children:e.flags.map(((e,t)=>(0,Mb.jsx)("img",{src:e,alt:"Flag ".concat(t),className:"flag-icon w-9 h-6 mx-0.5 object-cover border border-gray-300 rounded-md shadow-sm",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/36x24/eeeeee/333333?text=Flag"}},t)))}),(0,Mb.jsx)("span",{className:"text-gray-800 font-semibold","data-en":e.name_en,"data-no":e.name_no,children:e["name_".concat(n)]})]})},e.id)))}),b&&f&&(0,Mb.jsx)("div",{className:"mt-4",children:(0,Mb.jsx)("button",{onClick:()=>E("skills",{name_en:"",name_no:"",type:"icon",icon:""}),className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"en"===n?"Add New Skill":"Legg til ny ferdighet"})})]})]}),(0,Mb.jsx)("button",{onClick:t,className:"inline-block px-5 py-3 bg-gray-800 text-white no-underline rounded-lg font-normal transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg mt-12","data-en":"Back to Home","data-no":"Tilbake til hjem",children:"Back to Home"})]}):(0,Mb.jsx)("div",{className:"flex items-center justify-center min-h-screen text-gray-700 text-xl",children:(0,Mb.jsx)("span",{"data-en":"No CV data available.","data-no":"Ingen CV-data tilgjengelig.",children:"Ingen CV-data tilgjengelig."})})}const nw=e=>{let{item:t,onBackClick:n,currentLang:r}=e;if((0,i.useEffect)((()=>{Wb(r)}),[r]),!t)return null;const a=e=>{if(!e)return"";let t=e.first||"";return e.middle&&(t+=" ".concat(e.middle)),e.last&&(t+=" ".concat(e.last)),t},o="books"===t.type||"movies"===t.type?"pb-[150%]":"pb-[100%]";return(0,Mb.jsxs)("div",{className:"flex flex-col items-center w-full max-w-2xl mx-auto p-8 bg-white rounded-xl shadow-lg animate-fade-in",children:[(0,Mb.jsx)("h2",{className:"text-black text-3xl md:text-4xl lg:text-5xl mb-6 text-center","data-en":t.title_en,"data-no":t.title_no,children:t["title_".concat(r)]}),(0,Mb.jsx)("div",{className:"relative w-full mx-auto ".concat(o," mb-6 rounded-lg shadow-md overflow-hidden"),children:(0,Mb.jsx)("img",{src:"en"===r?t.image_en:t.image_no||t.image_en,alt:t["title_".concat(r)],className:"absolute top-0 left-0 w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/400x600/eeeeee/333333?text=No+Image"}})}),t.author&&(0,Mb.jsxs)("p",{className:"text-gray-700 text-lg text-center mb-4","data-en":"By: ".concat(a(t.author)),"data-no":"Av: ".concat(a(t.author)),children:["en"===r?"By:":"Av:"," ",a(t.author)]}),(0,Mb.jsx)("p",{className:"text-gray-800 text-base text-center mb-8","data-en":t.description_en,"data-no":t.description_no,children:t["description_".concat(r)]}),(0,Mb.jsx)("button",{onClick:n,className:"inline-block px-5 py-3 bg-gray-800 text-white no-underline rounded-lg font-normal transition-all duration-300 hover:bg-gray-700 hover:scale-105 shadow-md hover:shadow-lg","data-en":"Back","data-no":"Tilbake",children:"Back"})]})},rw=()=>{const{currentUser:e,logout:t,auth:n,app:r,loading:a}=Bb(),o=ae(),s=re(),[l,c]=(0,i.useState)((()=>localStorage.getItem("lang")||"en")),[u,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(null),[g,m]=(0,i.useState)([]),[v,y]=(0,i.useState)([]),[b,w]=(0,i.useState)([]),[x,k]=(0,i.useState)([]),[E,_]=(0,i.useState)(0),[S,C]=(0,i.useState)(!1),[T,I]=(0,i.useState)(!1),[N,A]=(0,i.useState)(null),D=(0,i.useRef)(null),P="/login"===s.pathname||"/signup"===s.pathname,R=r?sp(r):null;(0,i.useEffect)((()=>{let e,t,n,i;return!a&&R&&r?(console.log("Firestore useEffect: Initializing Firestore listeners."),e=$p(np(R,"books"),(e=>{console.log("Firestore useEffect: Received new books snapshot.");const t=e.docs.map((e=>d({id:e.id},e.data())));t.sort(((e,t)=>{const n=e.createdAt&&"function"===typeof e.createdAt.toDate?e.createdAt.toDate():e.createdAt instanceof Date?e.createdAt:new Date(0),r=t.createdAt&&"function"===typeof t.createdAt.toDate?t.createdAt.toDate():t.createdAt instanceof Date?t.createdAt:new Date(0);return n.getTime()-r.getTime()})),m(t),console.log("Firestore useEffect: Books updated, count:",t.length)}),(e=>{console.error("Firestore useEffect: Error listening to books collection: ",e)})),t=$p(np(R,"movies"),(e=>{console.log("Firestore useEffect: Received new movies snapshot.");const t=e.docs.map((e=>d({id:e.id},e.data())));t.sort(((e,t)=>{const n=e.createdAt&&"function"===typeof e.createdAt.toDate?e.createdAt.toDate():e.createdAt instanceof Date?e.createdAt:new Date(0),r=t.createdAt&&"function"===typeof t.createdAt.toDate?t.createdAt.toDate():t.createdAt instanceof Date?t.createdAt:new Date(0);return n.getTime()-r.getTime()})),y(t),console.log("Firestore useEffect: Movies updated, count:",t.length)}),(e=>{console.error("Firestore useEffect: Error listening to movies collection: ",e)})),n=$p(np(R,"apps"),(e=>{console.log("Firestore useEffect: Received new apps snapshot.");const t=e.docs.map((e=>d({id:e.id},e.data())));t.sort(((e,t)=>{const n=e.createdAt&&"function"===typeof e.createdAt.toDate?e.createdAt.toDate():e.createdAt instanceof Date?e.createdAt:new Date(0),r=t.createdAt&&"function"===typeof t.createdAt.toDate?t.createdAt.toDate():t.createdAt instanceof Date?t.createdAt:new Date(0);return n.getTime()-r.getTime()})),w(t),console.log("Firestore useEffect: Apps updated, count:",t.length)}),(e=>{console.error("Firestore useEffect: Error listening to apps collection: ",e)})),i=$p(np(R,"podcasts"),(e=>{console.log("Firestore useEffect: Received new podcasts snapshot.");const t=e.docs.map((e=>d({id:e.id},e.data())));t.sort(((e,t)=>{const n=e.createdAt&&"function"===typeof e.createdAt.toDate?e.createdAt.toDate():e.createdAt instanceof Date?e.createdAt:new Date(0),r=t.createdAt&&"function"===typeof t.createdAt.toDate?t.createdAt.toDate():t.createdAt instanceof Date?t.createdAt:new Date(0);return n.getTime()-r.getTime()})),k(t),console.log("Firestore useEffect: Podcasts updated, count:",t.length)}),(e=>{console.error("Firestore useEffect: Error listening to podcasts collection: ",e)}))):console.log("Firestore useEffect: Auth loading or Firebase app/Firestore not ready, skipping Firestore listener setup."),()=>{e&&(console.log("Firestore useEffect: Cleaning up books listener."),e()),t&&(console.log("Firestore useEffect: Cleaning up movies listener."),t()),n&&(console.log("Firestore useEffect: Cleaning up apps listener."),n()),i&&(console.log("Firestore useEffect: Cleaning up podcasts listener."),i())}}),[R,r,a]);const O=(0,i.useCallback)((e=>{document.querySelectorAll("[data-en], [data-no]").forEach((t=>{"INPUT"===t.tagName||"TEXTAREA"===t.tagName?t.placeholder=t.getAttribute("data-".concat(e,"-placeholder")):t.textContent=t.getAttribute("data-".concat(e))}));const t=document.querySelector(".lang-toggle"),n="en"===e?"https://upload.wikimedia.org/wikipedia/commons/d/d9/Flag_of_Norway.svg":"https://flagcdn.com/gb.svg";t&&(t.style.backgroundImage="url(".concat(n,")"));const r=document.getElementById("langLabel");r&&(r.textContent="en"===e?"Change Language":"Endre Spr\xe5k")}),[]);(0,i.useEffect)((()=>{O(l);const e=document.getElementById("year");e&&(e.textContent=(new Date).getFullYear())}),[l,O]);const L=e=>{h(null),p(e),o("/".concat(e))},j=(e,t)=>{h(d(d({},e),{},{type:t})),p(t),o("/detail")},M=()=>{h(null),p(null),o("/")},F=()=>{h(null),p(null),o("/recommendations")};return(0,Mb.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-between font-serif ".concat(P?"bg-gray-100":"bg-white"),children:[S&&N&&(0,Mb.jsx)("div",{className:"logo-expanding-overlay ".concat(S?"active":""," ").concat(T?"slide-open":""),style:{"--logo-initial-top":"".concat(N.top,"px"),"--logo-initial-left":"".concat(N.left,"px"),"--logo-initial-width":"".concat(N.width,"px"),"--logo-initial-height":"".concat(N.height,"px"),"--logo-background-image":"url('https://www.solheim.online/Kianosh%20F.%20Solheim%20Heraldry.svg')"}}),(0,Mb.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css",crossOrigin:"anonymous",referrerPolicy:"no-referrer"}),(0,Mb.jsx)("script",{src:"https://cdn.tailwindcss.com"}),(0,Mb.jsx)("script",{src:"https://www.google.com/recaptcha/api.js",async:!0,defer:!0}),(0,Mb.jsx)("style",{children:'\n        html, body {\n            box-sizing: border-box;\n            overflow-x: hidden;\n            margin: 0;\n            padding: 0;\n        }\n        *, *::before, *::after {\n            box-sizing: inherit;\n        }\n\n        @keyframes fadeIn {\n          0% { opacity: 0; transform: translateY(20px); }\n          100% { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fade-in {\n          animation: fadeIn 0.8s ease-out forwards;\n        }\n        .animate-delay-500 {\n            animation-delay: 0.5s;\n        }\n\n        @keyframes slideInFromBottom {\n          0% { opacity: 0; transform: translateY(50px); }\n          100% { opacity: 1; transform: translateY(0); }\n        }\n        .animate-slide-in-bottom {\n          animation: slideInFromBottom 0.8s ease-out forwards;\n        }\n\n\n        .home-button-wrapper, .lang-toggle-wrapper {\n          position: fixed;\n          z-index: 10000;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        }\n\n        .home-button-wrapper {\n          top: 1rem;\n          left: 1rem;\n        }\n\n        .lang-toggle-wrapper {\n          top: 1rem;\n          right: 1rem;\n        }\n\n        .home-button, .lang-toggle {\n          background: transparent;\n          border: none;\n          border-radius: 50%;\n          width: 2rem;\n          height: 2rem;\n          cursor: pointer;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          text-decoration: none;\n          opacity: 0.5;\n          transition: transform 0.4s ease, box-shadow 0.4s ease, opacity 0.4s ease;\n        }\n\n        .home-button:hover, .lang-toggle:hover {\n          transform: rotate(360deg) scale(1.2);\n          box-shadow: 0 0 12px rgba(0,0,0,0.2);\n          opacity: 1;\n        }\n\n        /* Explicitly set color for home icon */\n        .home-button i {\n          font-size: 1.2rem;\n          color: #000 !important;\n          transition: color 0.4s ease;\n        }\n        .home-button:hover i {\n          color: #000 !important;\n        }\n\n\n        .lang-toggle {\n          background-repeat: no-repeat;\n          background-position: center;\n          background-size: cover;\n        }\n\n        .home-label, .lang-label {\n          position: absolute;\n          top: calc(100% + 0.3rem);\n          left: 50%;\n          transform: translateX(-50%);\n          white-space: nowrap;\n          background: rgba(0, 0, 0, 0.75);\n          color: white;\n          padding: 0.2rem 0.5rem;\n          border-radius: 4px;\n          font-size: 0.7rem;\n          opacity: 0;\n          transition: opacity 0.3s ease, transform 0.3s ease;\n          pointer-events: none;\n        }\n        .home-button-wrapper:hover .home-label, .lang-toggle-wrapper:hover .lang-label {\n          opacity: 1;\n          transform: translateX(-50%) translateY(0);\n        }\n\n        /* Category Link Animations */\n        .category-link .icon {\n          transition: transform 0.3s ease-in-out, color 0.3s ease-in-out;\n        }\n        .category-link.movies-category:hover .icon {\n          transform: rotateY(360deg) scale(1.2);\n          color: #E74C3C;\n        }\n        .category-link.apps-category:hover .icon {\n          animation: bounce 0.6s ease-in-out infinite alternate;\n          color: #3498DB;\n        }\n        .category-link.books-category:hover .icon {\n          transform: rotateZ(-10deg) scale(1.15);\n          color: #27AE60;\n        }\n        .category-link.podcasts-category:hover .icon {\n          animation: pulse 1s infinite, spin 2s linear infinite;\n          color: #9B59B6;\n        }\n        @keyframes bounce {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-15px); }\n        }\n        @keyframes pulse {\n          0% { transform: scale(1); }\n          50% { transform: scale(1.15); }\n          100% { transform: scale(1); }\n        }\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n\n        /* Social Icons Animations */\n        .social-icons a {\n            transition: transform 0.2s ease, color 0.3s ease, text-shadow 0.3s ease;\n        }\n        .social-icons a:hover {\n            transform: scale(1.35) rotate(5deg);\n            text-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n        }\n        .social-icons a[title="Facebook"]:hover { color: #1877F2; }\n        .social-icons a[title="Instagram"]:hover { color: #E1306C; }\n        .social-icons a[title="LinkedIn"]:hover { color: #0077B5; }\n        .social-icons a[title="Bluesky"]:hover { color: #0A7AFF; }\n        .social-icons a[title="Threads"]:hover { color: #000000; text-shadow: 0 0 6px #000000; }\n        .social-icons a[title="Twitter"]:hover { color: #1DA1F2; }\n\n        .social-icons a::after {\n            content: attr(title);\n            font-size: 0.75rem;\n            color: #666;\n            margin-top: 0.3rem;\n            opacity: 0;\n            transform: translateY(5px);\n            transition: opacity 0.3s ease, transform 0.3s ease;\n            pointer-events: none;\n        }\n        .social-icons a:hover::after {\n            opacity: 1;\n            transform: translateY(0);\n        }\n\n        /* CV Page Specific Styles */\n        .cv-container {\n            text-align: left;\n            background: #ffffff;\n            border-radius: 12px;\n            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\n            opacity: 0;\n            animation: fadeIn 1s ease-out forwards;\n        }\n        .cv-container h1 {\n            text-align: center;\n            color: #2c3e50;\n            font-size: 2.8rem;\n            margin-bottom: 0.5rem;\n            animation: slideInFromTop 0.8s ease-out;\n        }\n        .cv-container p {\n            text-align: center;\n        }\n        .cv-container h2 {\n            font-size: 1.8rem;\n            color: #34495e;\n            border-bottom: 2px solid #e0e0e0;\n            padding-bottom: 0.5rem;\n            margin-top: 2.5rem;\n            margin-bottom: 1.5rem;\n            opacity: 0;\n            transform: translateY(20px);\n            transition: opacity 0.6s ease-out, transform 0.6s ease-out;\n        }\n        .cv-container h2.is-visible {\n            opacity: 1;\n            transform: translateY(0);\n        }\n        .cv-container h3 {\n            color: #555;\n            font-size: 1.3rem;\n            margin-top: 1.5rem;\n            margin-bottom: 0.5rem;\n        }\n        .cv-container .contact-info p {\n            margin: 0.3rem 0;\n            text-align: center;\n        }\n        .cv-container .contact-info a {\n            color: #3498db;\n            text-decoration: none;\n            transition: color 0.3s ease;\n        }\n        .cv-container .contact-info a:hover {\n            color: #2980b9;\n            text-decoration: underline;\n        }\n        .cv-container ul {\n            list-style: none;\n            padding: 0;\n        }\n        .cv-container ul li {\n            background: #ffffff;\n            padding: 1rem 1.5rem;\n            margin-bottom: 1rem;\n            border-radius: 8px;\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n            display: flex;\n            align-items: flex-start;\n            gap: 1rem;\n            opacity: 0;\n            transform: translateX(-50px);\n            transition: opacity 0.6s ease-out, transform 0.6s ease-out;\n            transition-delay: var(--stagger-delay, 0s);\n        }\n        .cv-container ul li.is-visible {\n            opacity: 1;\n            transform: translateX(0);\n        }\n        .cv-container .item-content {\n            flex-grow: 1;\n        }\n        .cv-container .item-content p {\n            margin: 0.2rem 0;\n            text-align: left;\n        }\n        .cv-container .item-content .date {\n            font-size: 0.9rem;\n            color: #777;\n            margin-top: 0.5rem;\n        }\n        .cv-container .item-content .thesis-title, .cv-container .item-content .courses, .cv-container .item-content .description {\n            font-style: italic;\n            color: #666;\n        }\n        .cv-container .institution-logo, .cv-container .app-logo {\n            width: 60px;\n            height: 60px;\n            border-radius: 8px;\n            object-fit: contain;\n            flex-shrink: 0;\n            opacity: 0;\n            transform: scale(0.5);\n            transition: opacity 0.6s ease-out, transform 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55);\n            transition-delay: var(--stagger-delay, 0s);\n        }\n        .cv-container .institution-logo.is-visible, .cv-container .app-logo.is-visible {\n            opacity: 1;\n            transform: scale(1);\n        }\n        .cv-container .skills-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n            gap: 1rem;\n            margin-top: 1.5rem;\n        }\n        .cv-container .skill-item {\n            background: #ffffff;\n            padding: 0.8rem;\n            border-radius: 8px;\n            text-align: center;\n            font-size: 0.95rem;\n            font-weight: bold;\n            color: #2980b9;\n            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n            opacity: 0;\n            transform: translateY(20px) scale(0.9);\n            transition: opacity 0.7s ease-out, transform 0.7s ease-out;\n            transition-delay: var(--stagger-delay, 0s);\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n        }\n        .cv-container .skill-item.is-visible {\n            opacity: 1;\n            transform: translateY(0) scale(1);\n        }\n        .cv-container .skill-item:hover {\n            transform: translateY(-8px) scale(1.1);\n            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2), 0 0 25px rgba(41, 128, 185, 0.5);\n            transition: transform 0.4s ease, box-shadow 0.4s ease;\n        }\n\n        .cv-container .skill-item img {\n            width: 35px;\n            height: 35px;\n            margin-bottom: 0.5rem;\n            object-fit: contain;\n            border-radius: 4px;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            transition: transform 0.3s ease, box-shadow 0.3s ease;\n        }\n\n        .cv-container .skill-item img:hover {\n            transform: scale(1.1);\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n        }\n\n        .cv-container .skill-item i {\n            font-size: 35px;\n            margin-bottom: 0.5rem;\n            color: #2980b9;\n            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n            transition: transform 0.3s ease, text-shadow 0.3s ease, color 0.3s ease;\n        }\n\n        .cv-container .skill-item i:hover {\n            transform: scale(1.1);\n            color: #3498db;\n            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        }\n\n        .cv-container .skill-item .flag-icon {\n            width: 35px;\n            height: 23px;\n            margin: 0 2px;\n            object-fit: cover;\n            border: 1px solid #ccc;\n            border-radius: 6px;\n            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);\n            transition: transform 0.3s ease, box-shadow 0.3s ease;\n        }\n        .cv-container .skill-item .flag-icon:hover {\n            transform: scale(1.15);\n            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);\n        }\n\n        .cv-container .flag-container {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            margin-bottom: 0.5rem;\n        }\n\n        /* PDF Download Buttons */\n        .pdf-download-section {\n            text-align: center;\n            margin-top: 1.5rem;\n            margin-bottom: 2rem;\n            padding: 0.8rem 1rem;\n            border-top: 1px solid #e0e0e0;\n            border-bottom: 1px solid #e0e0e0;\n            background-color: #f8f8f8;\n            border-radius: 8px;\n            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);\n            opacity: 0;\n            transform: translateY(20px);\n            transition: opacity 0.6s ease-out, transform 0.6s ease-out;\n        }\n\n        .pdf-download-section.is-visible {\n            opacity: 1;\n            transform: translateY(0);\n        }\n\n        .pdf-download-section h3 {\n            color: #34495e;\n            font-size: 1.1rem;\n            margin-bottom: 0.8rem;\n        }\n\n        .pdf-buttons {\n            display: flex;\n            justify-content: center;\n            gap: 0.8rem;\n            flex-wrap: wrap;\n        }\n\n        .pdf-button {\n            background-color: #333333;\n            color: white;\n            padding: 0.6rem 1.2rem;\n            border: none;\n            border-radius: 8px;\n            font-size: 0.9rem;\n            cursor: pointer;\n            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;\n            display: flex;\n            align-items: center;\n            gap: 0.4rem;\n            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);\n        }\n\n        .pdf-button:hover {\n            background-color: #555555;\n            transform: translateY(-2px);\n            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);\n        }\n\n        .pdf-button i {\n            font-size: 1rem;\n            margin-bottom: 0;\n            text-shadow: none;\n        }\n\n        /* Animations */\n        @keyframes slideInFromTop {\n            0% { opacity: 0; transform: translateY(-30px); }\n            100% { opacity: 1; transform: translateY(0); }\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 768px) {\n            .cv-container {\n                margin: 1rem auto;\n                padding: 1rem;\n            }\n            .cv-container h1 {\n                font-size: 2.2rem;\n            }\n            .cv-container h2 {\n                font-size: 1.5rem;\n            }\n            .cv-container ul li {\n                flex-direction: column;\n                align-items: center;\n                text-align: center;\n            }\n            .cv-container .institution-logo {\n                margin-bottom: 0.5rem;\n            }\n            .cv-container .skills-grid {\n                grid-template-columns: 1fr;\n            }\n            .lang-toggle-wrapper {\n                top: 0.5rem;\n                right: 0.5rem;\n            }\n            .home-button-wrapper {\n                top: 0.5rem;\n                left: 0.5rem;\n            }\n            .home-label, .lang-label {\n                top: 2rem;\n                left: 2rem;\n            }\n        }\n\n        /* Developer Mode / Hidden Login Styles */\n        .logo-door-container {\n            position: relative;\n            width: 80px;\n            height: 80px;\n            margin: 0.5rem auto;\n        }\n\n        .logo-door {\n            display: block;\n            width: 100%;\n            height: 100%;\n            transition: none;\n        }\n\n        /* New Logo Expanding Overlay Styles */\n        .logo-expanding-overlay {\n            position: fixed;\n            z-index: 9998;\n            background-color: white; /* Default background, will be overridden by .slide-open */\n            background-repeat: no-repeat;\n            background-position: center center;\n            background-size: contain; /* Ensure logo is contained and not cut off during initial expansion */\n            opacity: 0;\n            pointer-events: none;\n            /* Initial state set by JS variables, but conceptually it\'s a small rectangle */\n            top: var(--logo-initial-top);\n            left: var(--logo-initial-left);\n            width: var(--logo-initial-width);\n            height: var(--logo-initial-height);\n            transform: translate(0, 0);\n            border-radius: 0; /* No border-radius transition on the overlay itself */\n            overflow: hidden; /* Important for clean transitions */\n            /* The background-image will be set via inline style in React */\n        }\n\n        /* When the overlay is meant to be visible and expanding */\n        .logo-expanding-overlay.active {\n            opacity: 1; /* Make it visible immediately upon activation */\n            pointer-events: auto;\n            animation: expand-from-logo-position 1.2s ease-in-out forwards;\n            background-image: var(--logo-background-image); /* Show full logo during expansion */\n        }\n\n        @keyframes expand-from-logo-position {\n            0% {\n                top: var(--logo-initial-top);\n                left: var(--logo-initial-left);\n                width: var(--logo-initial-width);\n                height: var(--logo-initial-height);\n                transform: translate(0, 0);\n                /* No border-radius here, it\'s always 0 */\n            }\n            100% {\n                top: 0;\n                left: 0;\n                width: 100vw;\n                height: 100vh;\n                transform: translate(0, 0);\n                /* No border-radius here, it\'s always 0 */\n                opacity: 1;\n            }\n        }\n\n        /* Pseudo-elements for the sliding door effect */\n        .logo-expanding-overlay::before,\n        .logo-expanding-overlay::after {\n            content: \'\';\n            position: absolute;\n            top: 0;\n            height: 100%;\n            /* Use CSS variable for image */\n            background-image: var(--logo-background-image);\n            background-repeat: no-repeat;\n            background-size: 200% 100%; /* Make background image twice as wide to cover both halves */\n            background-color: white; /* Ensure the doors themselves are white */\n            opacity: 1; /* Always visible when slide-open is active, no fade-in */\n            transition: none; /* No transition for opacity */\n        }\n\n        /* When the overlay is in slide-open state, hide the main background-image and show pseudo-elements */\n        .logo-expanding-overlay.slide-open {\n            background-image: none !important; /* Hide the full logo */\n            background-color: transparent !important; /* Make the overlay itself transparent to reveal content behind */\n        }\n\n        .logo-expanding-overlay.slide-open::before,\n        .logo-expanding-overlay.slide-open::after {\n            opacity: 1; /* Make pseudo-elements visible */\n        }\n\n        .logo-expanding-overlay::before {\n            left: 0;\n            width: 50%;\n            background-position: 0% 0%; /* Show left half of the image */\n        }\n\n        .logo-expanding-overlay::after {\n            left: 50%;\n            width: 50%;\n            background-position: 100% 0%; /* Show right half of the image */\n        }\n\n        /* Animation for sliding the doors open */\n        @keyframes slide-open-logo-left {\n            0% { transform: translateX(0); }\n            100% { transform: translateX(-100%); }\n        }\n\n        @keyframes slide-open-logo-right {\n            0% { transform: translateX(0); }\n            100% { transform: translateX(100%); }\n        }\n\n        .logo-expanding-overlay.slide-open::before {\n            animation: slide-open-logo-left 1.5s ease-out forwards; /* Slower animation */\n        }\n\n        .logo-expanding-overlay.slide-open::after {\n            animation: slide-open-logo-right 1.5s ease-out forwards; /* Slower animation */\n        }\n\n        /* Hide login/signup links by default */\n        .footer-auth-links {\n            display: none;\n        }\n\n        /* Ensure main content is behind the overlay when it\'s active */\n        .main-content-wrapper {\n            position: relative; /* Needed for z-index to work */\n            z-index: 1; /* Lower than the overlay\'s z-index */\n        }\n\n        '}),(0,Mb.jsxs)("div",{className:"home-button-wrapper",children:[(0,Mb.jsx)(Re,{to:"/",className:"home-button",title:"Home",children:(0,Mb.jsx)("i",{className:"fa-solid fa-house"})}),(0,Mb.jsx)("div",{className:"home-label",children:"Home"})]}),(0,Mb.jsxs)("div",{className:"lang-toggle-wrapper",children:[(0,Mb.jsx)("button",{onClick:()=>{const e="en"===l?"no":"en";c(e),localStorage.setItem("lang",e)},className:"lang-toggle",title:"Change Language"}),(0,Mb.jsx)("div",{className:"lang-label",id:"langLabel",children:"Change Language"})]}),(0,Mb.jsx)("main",{className:"main-content-wrapper w-full max-w-4xl mx-auto px-4 py-16 flex flex-col items-center text-center",children:(0,Mb.jsxs)(ke,{children:[(0,Mb.jsx)(we,{path:"/login",element:(0,Mb.jsx)(Hb,{currentLang:l})}),(0,Mb.jsx)(we,{path:"/signup",element:(0,Mb.jsx)(Kb,{currentLang:l})}),(0,Mb.jsx)(we,{path:"/",element:(0,Mb.jsx)(Gb,{onCategoryClick:L,currentLang:l})}),(0,Mb.jsx)(we,{path:"/recommendations",element:(0,Mb.jsx)(Jb,{onCategoryClick:L,onBackClick:M,currentLang:l})}),(0,Mb.jsx)(we,{path:"/movies",element:(0,Mb.jsx)(Qb,{onBackClick:F,onItemClick:j,currentLang:l,movies:v,user:e,db:R})}),(0,Mb.jsx)(we,{path:"/apps",element:(0,Mb.jsx)(Yb,{onBackClick:F,onItemClick:j,currentLang:l,apps:b,user:e,db:R})}),(0,Mb.jsx)(we,{path:"/books",element:(0,Mb.jsx)($b,{onBackClick:F,onItemClick:j,currentLang:l,books:g,user:e,db:R})}),(0,Mb.jsx)(we,{path:"/podcasts",element:(0,Mb.jsx)(Xb,{onBackClick:F,onItemClick:j,currentLang:l,podcasts:x,user:e,db:R})}),(0,Mb.jsx)(we,{path:"/cv",element:(0,Mb.jsx)(tw,{onBackClick:M,currentLang:l,db:R})}),(0,Mb.jsx)(we,{path:"/detail",element:(0,Mb.jsx)(nw,{item:u,onBackClick:()=>{h(null),o("/".concat(f))},currentLang:l})}),(0,Mb.jsx)(we,{path:"*",element:(0,Mb.jsx)("h2",{className:"text-black text-3xl text-center mb-8","data-en":"Page Not Found","data-no":"Side ikke funnet",children:"Side Not Found"})})]})}),(0,Mb.jsxs)("footer",{className:"w-full text-center mt-auto py-8 px-4 text-gray-600 border-t border-gray-300 bg-gray-50 box-border",children:[e&&(0,Mb.jsxs)("p",{className:"text-sm mb-2",children:[(0,Mb.jsx)("span",{"data-en":"Current User ID:","data-no":"Gjeldende bruker-ID:",children:"Current User ID:"})," ",e.uid,(0,Mb.jsx)("button",{onClick:async function(){try{await t(),o("/login")}catch(e){console.error("Failed to log out:",e)}},className:"ml-4 px-3 py-1 bg-red-500 text-white rounded-md text-xs hover:bg-red-600 transition-colors",children:"en"===l?"Log Out":"Logg ut"})]}),(0,Mb.jsxs)("div",{className:"social-icons flex justify-center gap-4 mb-4 mt-10 animate-fade-in",children:[(0,Mb.jsx)("a",{href:"https://www.facebook.com/solheim.online/",title:"Facebook",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-facebook"})}),(0,Mb.jsx)("a",{href:"https://www.instagram.com/solheim.online",title:"Instagram",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-instagram"})}),(0,Mb.jsx)("a",{href:"https://www.linkedin.com/in/kianosh-solheim",title:"LinkedIn",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-linkedin"})}),(0,Mb.jsx)("a",{href:"https://bsky.app/profile/solheim.online",title:"Bluesky",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-bluesky"})}),(0,Mb.jsx)("a",{href:"https://www.threads.net/@solheim.online",title:"Threads",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-threads"})}),(0,Mb.jsx)("a",{href:"https://x.com/Kianosh_Solheim",title:"Twitter",className:"relative flex flex-col items-center text-2xl text-black",children:(0,Mb.jsx)("i",{className:"fa-brands fa-twitter"})})]}),(0,Mb.jsx)("div",{className:"logo-door-container",children:(0,Mb.jsx)("img",{src:"https://www.solheim.online/Kianosh%20F.%20Solheim%20Heraldry.svg",alt:"Personal Logo",className:"footer-logo logo-door mx-auto my-2 block",onClick:()=>{_((e=>{const t=e+1;if(t>=7){if(D.current){const e=D.current.getBoundingClientRect();A({top:e.top,left:e.left,width:e.width,height:e.height})}C(!0),setTimeout((()=>{o("/login"),I(!0),setTimeout((()=>{_(0),C(!1),I(!1),A(null)}),1500)}),1200)}return t}))},ref:D,onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/80x80/eeeeee/333333?text=Logo"}})}),(0,Mb.jsxs)("p",{className:"copyright-text mt-2","data-en":"\xa9 2025 Kianosh F. Solheim. All rights reserved.","data-no":"\xa9 2025 Kianosh F. Solheim. Alle rettigheter forbeholdt.",children:["\xa9 ",(0,Mb.jsx)("span",{id:"year"})," All rights reserved. Made by Kianosh F. Solheim."]})]})]})},iw=()=>(0,Mb.jsx)(qb,{children:(0,Mb.jsx)(Ae,{children:(0,Mb.jsx)(rw,{})})});o.createRoot(document.getElementById("root")).render((0,Mb.jsx)(i.StrictMode,{children:(0,Mb.jsx)(iw,{})}))})();
//# sourceMappingURL=main.eb7c3b3e.js.map